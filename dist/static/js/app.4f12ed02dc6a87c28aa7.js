webpackJsonp([2],{145:function(e,t,i){function n(e){i(301)}var s=i(12)(i(247),i(326),n,null,null);e.exports=s.exports},146:function(e,t,i){"use strict";var n=i(258),s=i.n(n),a=i(254),r=i.n(a),o=i(124),u=i.n(o),l=i(125),c=i.n(l),d=i(117),p=i.n(d),h=function(){function e(){u()(this,e),this.sYtKey="***REMOVED***",this.sScKey="***REMOVED***",this.sVimeoKey="***REMOVED***",this.YTnextPageTokenString=0,this.nextPageToken=0,this.SCnextPageToken=0,this.aQuery=[]}return c()(e,[{key:"searchInt",value:function(e,t,i,n,s,a){var r=this,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50;t||(this.SCnextPageToken="",this.nextPageToken="",this.YTnextPageTokenString="");var u=performance.now();this.aQuery[u]={aAjax:[],aResult:[],sToken:0,hCallback:s,iLimit:o,sQuery:e,sArtist:n,bRelated:a,iPage:t},i="all"===i[0].toLowerCase()?["mixcloud","soundcloud","youtube","vimeo"]:i;for(var l in i)this.aQuery[u].aAjax.push(this.search(i[l],u));return p.a.all(this.aQuery[u].aAjax).then(function(){r.aQuery[u].hCallback(r.aQuery[u].aResult),delete r.aQuery[u]})}},{key:"search",value:function(e,t){switch(e.toLowerCase()){case"mixcloud":return this.mc(t);case"soundcloud":return this.sc(t);case"youtube":return this.yt(t);case"vimeo":return this.vim(t);default:console.log("!source",e)}}},{key:"mc",value:function(e){var t,i=this;return t=""!==this.aQuery[e].sArtist?"https://api.mixcloud.com/"+this.aQuery[e].sArtist+"/cloudcasts/?limit="+this.aQuery[e].iLimit+"&offset="+this.aQuery[e].iLimit*(this.aQuery[e].iPage>0?this.aQuery[e].iPage:0):"https://api.mixcloud.com/search/?type=cloudcast&limit="+this.aQuery[e].iLimit+"&q="+this.aQuery[e].sQuery+"&offset="+this.aQuery[e].iLimit*this.aQuery[e].iPage,p.a.get(t).then(function(t){t=t.data.data;for(var n in t)i.pushResult(e,t[n].user.name,t[n].user.username,i.parseDate(t[n].created_time),"",i.secondstominutes(t[n].audio_length),"https://dream.tribe.nu/r3/off/?q="+t[n].url,t[n].url,t[n].pictures.large,t[n].pictures.extra_large,"MixCloud",t[n].name,"")})}},{key:"sc",value:function(e){var t,i=this;if(t=this.aQuery[e].bRelated?"https://api.soundcloud.com/tracks/"+this.aQuery[e].sArtist+"/related?linked_partitioning=1&limit="+this.aQuery[e].iLimit+"client_id="+this.sScKey:this.aQuery[e].sArtist?"https://api.soundcloud.com/users/"+this.aQuery[e].sArtist+"/tracks.json?linked_partitioning=1&limit="+this.aQuery[e].iLimit+"&client_id="+this.sScKey:"https://api.soundcloud.com/tracks.json?linked_partitioning=1&limit="+this.aQuery[e].iLimit+"&q="+encodeURIComponent(this.aQuery[e].sQuery)+"&client_id="+this.sScKey,this.SCnextPageToken)t=this.SCnextPageToken;else if(!this.SCnextPageToken&&this.aQuery[e].iPage>0)return;return new r.a(function(n,s){p.a.get(t).then(function(t){var s,a;t.data.next_href?(i.SCnextPageToken=t.data.next_href,i.SCnextPageToken=t.data.next_href):i.SCnextPageToken=0,t=t.data.collection;for(var r in t)t[r].artwork_url||(t[r].artwork_url=t[r].user.avatar_url),s=t[r].artwork_url.replace("i1","i2").replace("-large","-t300x300"),a=t[r].artwork_url.replace("-large","-t500x500"),i.pushResult(e,t[r].user.username,t[r].user_id,i.parseDate(t[r].created_at),t[r].description,i.secondstominutes(Math.floor(t[r].duration/1e3)),t[r].stream_url+"?client_id="+i.sScKey,t[r].permalink_url,s,a,"SoundCloud",t[r].title,t[r].id);i.aQuery[e].aResult.length<i.aQuery[e].iLimit&&i.SCnextPageToken?i.sc(e).then(function(){i.aQuery[e].aResult=i.uniqueArray(i.aQuery[e].aResult),n()}):(i.aQuery[e].aResult=i.uniqueArray(i.aQuery[e].aResult),n())}).catch(function(e){s(e)})})}},{key:"yt",value:function(e){var t=this;if(this.YTnextPageTokenString=this.nextPageToken?"&pageToken="+this.nextPageToken:"",this.YTnextPageTokenString||!(this.aQuery[e].iPage>1)){var i;return i=this.aQuery[e].bRelated?"https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults="+this.aQuery[e].iLimit+"&relatedToVideoId="+this.aQuery[e].sArtist+"&type=video&key="+this.sYtKey:""===this.aQuery[e].sArtist?"https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults="+this.aQuery[e].iLimit+"&type=video&q="+this.aQuery[e].sQuery+"&key="+this.sYtKey+this.YTnextPageTokenString:"https://www.googleapis.com/youtube/v3/search?part=snippet&order=date&maxResults="+this.aQuery[e].iLimit+"&type=video&channelId="+this.aQuery[e].sArtist+"&key="+this.sYtKey+this.YTnextPageTokenString,p.a.get(i).then(function(i){var n="";try{t.nextPageToken=i.data.nextPageToken,i=i.data.items;for(var s in i)n="https://www.youtube.com/watch?v="+i[s].id.videoId,t.pushResult(e,i[s].snippet.channelTitle,i[s].snippet.channelId,t.parseDate(i[s].snippet.publishedAt),i[s].snippet.description,"","https://dream.tribe.nu/r3/off/?q="+n,n,i[s].snippet.thumbnails.high.url,i[s].snippet.thumbnails.high.url,"YouTube",i[s].snippet.title,i[s].id.videoId)}catch(e){return void(t.YTnextPageToken="")}})}}},{key:"vim",value:function(e){var t,i=this;return t="undefined"!==this.aQuery[e].sArtist?"https://api.vimeo.com/videos?page="+(this.aQuery[e].iPage+1)+"&per_page=12&query="+this.aQuery[e].sQuery+"&sort=relevant&access_token="+this.sVimeoKey:"https://api.vimeo.com/users/"+this.aQuery[e].sArtist+"/videos?page="+(this.aQuery[e].iPage+1)+"&per_page=12&sort=date&access_token="+this.sVimeoKey,p.a.get(t).then(function(t){t=t.data.data;for(var n in t)i.pushResult(e,t[n].user.name,t[n].user.uri.replace(/\/users\/(.*?)/gi,"user"),i.parseDate(t[n].user.created_time),t[n].description,i.secondstominutes(t[n].duration),"https://dream.tribe.nu/r3/off/?q="+t[n].link,t[n].link,t[n].pictures.sizes[2].link,t[n].pictures.sizes[t[n].pictures.sizes.length-1].link,"vimeo",t[n].name,"")})}},{key:"getAudio",value:function(e,t){var i=p.a.get("https://www.saveitoffline.com/process/?type=audio&url="+e);return i.then(function(e){if("data"in e&&"Error: no_media_found"!==e.data)for(var i=0;i<e.data.urls.length;i++)if(e.data.urls[i].label.indexOf("audio")>-1){t(e.data.urls[i].id);break}}),i}},{key:"getArtistInfo",value:function(e,t,i){return t.toLowerCase().indexOf("youtube")>-1?p.a.get("https://www.googleapis.com/youtube/v3/channels?part=snippet&id="+e+"&key="+this.sYtKey).then(i):t.toLowerCase().indexOf("soundcloud")>-1?p.a.get("https://api.soundcloud.com/users/"+e+"?client_id="+this.sScKey).then(i):t.toLowerCase().indexOf("mixcloud")>-1?p.a.get("https://api.mixcloud.com/"+e+"/").then(i):r.a.resolve("")}},{key:"getSongInfo",value:function(e,t,i){var n=this,s=Date.now();return this.aQuery[s]={aResult:[],hCallback:i},t.toLowerCase().indexOf("youtube")>-1?p.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+e+"&key="+this.sYtKey).then(function(e){e=e.data.items[0],n.pushResult(s,e.snippet.channelTitle,e.snippet.channelId,n.parseDate(e.snippet.publishedAt),e.snippet.description,"","http://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v="+e.id,"https://www.youtube.com/watch?v="+e.id,e.snippet.thumbnails.high.url,e.snippet.thumbnails.high.url,"YouTube",e.snippet.title,e.id),n.aQuery[s].hCallback(n.aQuery[s].aResult),delete n.aQuery[s]}):t.toLowerCase().indexOf("soundcloud")>-1?p.a.get("http://api.soundcloud.com/tracks/"+e+"?client_id="+this.sScKey).then(function(e){e=e.data,n.pushResult(s,e.user.username,e.user_id,n.parseDate(e.created_at),e.description,n.secondstominutes(Math.floor(e.duration/1e3)),e.stream_url+"?client_id="+n.sScKey,e.permalink_url,e.artwork_url.replace("i1","i2").replace("-large","-t300x300"),e.artwork_url.replace("-large","-t500x500"),"Soundcloud",e.title,e.id),n.aQuery[s].hCallback(n.aQuery[s].aResult),delete n.aQuery[s]}):void 0}},{key:"pushResult",value:function(e,t,i,n,s,a,r,o,u,l,c,d,p){this.aQuery[e].aResult.push({artist:t,artistID:i,created:n,description:s,duration:a,mp3:r,mp32:o,poster:u,posterLarge:l,source:c,title:d,trackID:p})}},{key:"calcDate",value:function(e,t){(void 0===t?"undefined":s()(t))!==Object&&(t=new Date(t));var i=Math.floor(e.getTime()-t.getTime()),n=Math.floor(i/864e5),a=Math.floor(n/31),r=Math.floor(n/7),o=Math.floor(a/12);return n?1===n?"1 day":(e=o>0?[o," year"]:a>0?[a," month"]:r>0?[r," week"]:[n," day"],e[0]+e[1]+(e[0]>1?"s":"")):"Today"}},{key:"parseDate",value:function(e){if((e=e.match(/^(\d{4})\/?-?(0[1-9]|1[0-2])\/?-?(0[1-9]|[12]\d|3[01])/))&&(e[0]=new Date(+e[1],+e[2]-1,+e[3]),e[0].getMonth()===+e[2]-1))return e[0]}},{key:"sortDate",value:function(e,t){return e=new Date(e.created),t=new Date(t.created),e>t?-1:e<t?1:0}},{key:"str_pad_left",value:function(e,t,i){return(new Array(i+1).join(t)+e).slice(-i)}},{key:"uniqueArray",value:function(e){for(var t=e.concat(),i=0;i<t.length;i++)for(var n=i+1;n<t.length;n++)t[i].mp32===t[n].mp32&&t.splice(n--,1);return t}},{key:"secondstominutes",value:function(e){return this.str_pad_left(Math.floor(e/60),"0",2)+":"+this.str_pad_left(e-60*Math.floor(e/60),"0",2)}},{key:"error",value:function(e){this.aQuery[e].hCallback(this.aQuery[e].aResult)}}]),e}();t.a={install:function(e,t){Object.defineProperty(e.prototype,"$DCAPI",{value:new h})}}},147:function(e,t,i){"use strict";var n=i(117),s=i.n(n),a=i(77);t.a={install:function(e,t){var i={aPlaylist:[],iCurrent:0,eAudio:"",init:function(){i.bindMediaSesssion()},ePlayer:function(){return document.getElementById("dc-audio")},next:function(){i.iCurrent=i.iCurrent<i.aPlaylist.length-1?i.iCurrent+1:0,i.playIndex(i.iCurrent)},pause:function(){i.eAudio.pause()},play:function(){i.eAudio.play()},previous:function(){i.iCurrent=i.iCurrent>0?i.iCurrent-1:i.aPlaylist.length-1,a.a.commit("changeIndex",i.iCurrent),i.playIndex(i.iCurrent)},playIndex:function(e){return i.iCurrent=e,a.a.commit("changeIndex",i.iCurrent),"SoundCloud"==i.aPlaylist[e].source?i.setAudioSrc(i.aPlaylist[e].mp3):i.play_url(i.aPlaylist[e].mp32)},play_url:function(e){return i.getAudio(e,i.setAudioSrc)},setAudioSrc:function(e){i.eAudio.src=e,i.play(),i.eAudio.addEventListener("ended",i.next,!1),i.eAudio.addEventListener("error",i.error,!1)},setPlaylist:function(e){i.aPlaylist=e},setNPlay:function(e,t){return i.setPlaylist(e),i.iCurrent=t,i.playIndex(t)},seekBackward:function(){i.eAudio.currentTime-=10},seekForward:function(){i.eAudio.currentTime+=10},getAudio:function(e,t){var i=s.a.get("https://www.saveitoffline.com/process/?type=audio&url="+e);return i.then(function(i){if("data"in i&&"Error: no_media_found"!==i.data&&"Error: daily_secondary_api_limit_reached"!==i.data&&"Error: miss"!==i.data&&""!==i.data){for(var n=0;n<i.data.urls.length;n++)if(i.data.urls[n].label.indexOf("m4a")>-1||i.data.urls[n].label.indexOf("audio")>-1)return void t(i.data.urls[n].id);console.log("fallback",i.data.urls[Math.max(0,i.data.urls.length-2)],i.data.urls),t(i.data.urls[Math.max(0,i.data.urls.length-2)].id)}else t("//dream.tribe.nu/r3/off?q="+e)}),i},error:function(e){this._error_count=this._error_count||0,this._error_count<3&&(this._error_count++,setTimeout(function(){i.playIndex(i.iCurrent).then(function(e){i.eAudio.addEventListener("playing",function(){this._error_count=0}),i.eAudio.addEventListener("error",function(){4===this._error_count&&(this._error_count=0,i.next())},!1)})},1e3))},setMediaSession:function(e){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.artist,artwork:[{src:e.poster,sizes:"96x96",type:"image/png"},{src:e.poster,sizes:"128x128",type:"image/png"},{src:e.poster,sizes:"192x192",type:"image/png"},{src:e.poster,sizes:"256x256",type:"image/png"},{src:e.poster,sizes:"384x384",type:"image/png"},{src:e.poster,sizes:"512x512",type:"image/png"}]}))},bindMediaSesssion:function(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",i.play),navigator.mediaSession.setActionHandler("pause",i.pause),navigator.mediaSession.setActionHandler("seekbackward",i.seekBackward),navigator.mediaSession.setActionHandler("seekforward",i.seekForward),navigator.mediaSession.setActionHandler("previoustrack",i.previous),navigator.mediaSession.setActionHandler("nexttrack",i.next))}};i.init(),Object.defineProperty(e.prototype,"$DCPlayer",{value:i})}}},148:function(e,t,i){"use strict";t.a={install:function(e,t){var i={isMobile:window.matchMedia("only screen and (max-width: 599px)").matches,copyToClipboard:function(e){var t=document.createElement("input");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),t.remove()},closeSoftMobi:function(){this.isMobile&&document.activeElement.blur()},downloadLink:function(e){var t=document.createElement("iframe");t.style.display="none",t.id=t.name=e,t.src=e,document.body.appendChild(t)},formatBytes:function(e,t){if(0===e)return"0 Bytes";var i=t||2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(i))+" "+n[s]}};Object.defineProperty(e.prototype,"$UTILS",{value:i})}}},150:function(e,t,i){function n(e){i(306)}var s=i(12)(i(244),i(331),n,null,null);e.exports=s.exports},243:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i(78),i(150));i.n(n);throw new Error('Cannot find module "./router"')},244:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(27),s=i(319),a=i.n(s),r=i(320),o=i.n(r),u=i(318),l=i.n(u),c=i(321),d=i.n(c);t.default={name:"app",components:{search:a.a,"dc-audio":o.a,sidebar:d.a,"current-playlist":l.a},data:function(){return{drawerLeft:!1,drawerRight:!0,aSongs:[],aSong:[]}},methods:{closeLeft:function(){this.$UTILS.isMobile&&(this.drawerLeft=!1)}},computed:{theme:function(){return this.$store.getters.theme}},beforeCreate:function(){var e=this;n.b.setting("Dark Theme").once("value",function(t){null!==t.val()&&e.$store.commit("changeSetting",{setting:"Dark Theme",value:t.val()})})}}},245:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["song","index"],name:"current-playlist-item",data:function(){return{msg:""}},methods:{play:function(){this.$parent.$parent.play(this.index+this.$store.getters.index)}}}},246:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(317),s=i.n(n);t.default={name:"current-playlist",components:{"current-playlist-item":s.a},computed:{aPlaylist:function(){return this.$store.getters.current_Playlist.slice(this.$store.getters.index)}},methods:{play:function(e){this.$store.commit("changeIndex",e),this.$DCPlayer.playIndex(e)}}}},247:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"delete-button",props:["id"],data:function(){return{clicks:0}},computed:{dlIcn:function(){return this.clicked?"delete_forever":"delete"},color:function(){return this.clicked?"red lighten-1":""},clicked:function(){return 1===this.clicks}},methods:{emitDelete:function(){2===++this.clicks&&this.$emit("delete",this.id)}}}},248:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(253),s=i.n(n);t.default={name:"search",watch:{"aSources.All":"_All","aSources.MixCloud":"_other","aSources.SoundCloud":"_other","aSources.YouTube":"_other","aSources.Vimeo":"_other"},data:function(){return{aSources:{All:!0,MixCloud:!1,SoundCloud:!1,YouTube:!1,Vimeo:!1},sQuery:""}},computed:{maSource:function(){var e=this,t=[];return this.aSources.All?"all":(s()(this.aSources).forEach(function(i,n){e.aSources[i]&&t.push(i)}),t.join("-"))}},methods:{_All:function(e){e&&(this.aSources.MixCloud=this.aSources.SoundCloud=this.aSources.YouTube=this.aSources.Vimeo=!1),this.search()},_other:function(e){e&&(this.aSources.All=!1),this.search()},__search:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$router.push({name:"searchPage",params:{query:this.sQuery,source:this.maSource}})},search:function(){this.$UTILS.closeSoftMobi(),this.__search(this.query)}}}},249:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"dcAudio",data:function(){return{bLoading:!1,progress:0,eAudio:"",play_arrow:"play_arrow",volIcon:"volume_up",volume:10,duration:"",currentTime:""}},computed:{currentPos:function(){return this.$UTILS.isMobile?this.secondsToDuration(this.eAudio.duration.toFixed(0)):this.eAudio.currentTime.toString()||""},currentImage:function(){return this.$store.getters.index>-1&&this.loading(),this.$store.getters.index>-1?this.$store.getters.current_Playlist[this.$store.getters.index].posterLarge:"/static/img/loading.gif"}},methods:{toggleMute:function(){this.eAudio.muted=!this.eAudio.muted,this.volIcon=this.eAudio.muted?"volume_off":this.updateVolIcon()},volumeChange:function(e){this.eAudio.volume=this.volume/10,this.updateVolIcon(),!0===this.eAudio.muted&&(this.eAudio.muted=!1)},updateVolIcon:function(){return this.volIcon=5<this.volume?"volume_up":0<this.volume?"volume_down":"volume_off"},changePos:function(e){var t=Math.floor(Math.floor(e/100)*(this.eAudio.duration/100));isNaN(t)||(this.eAudio.currentTime=t)},togglePlay:function(){this.eAudio.paused?this.eAudio.play():this.eAudio.pause()},updated:function(){this.currentTime=this.secondsToDuration(this.eAudio.currentTime)+"~"+this.secondsToDuration(this.eAudio.duration),this.progress=Math.floor(100/this.eAudio.duration*this.eAudio.currentTime*100)},playing:function(){this.duration=this.secondsToDuration(this.eAudio.duration.toFixed(0)),this.play_arrow="pause",this.bLoading=!1},paused:function(){this.play_arrow="play_arrow"},loading:function(){this.bLoading=!0},next:function(){this.$DCPlayer.next()},previous:function(){this.$DCPlayer.previous()},secondsToDuration:function(e){if(isNaN(e))return"00:00";var t=parseInt(e,10),i=Math.floor(t/3600),n=Math.floor((t-3600*i)/60),s=t-3600*i-60*n;return i<10&&(i="0"+i),n<10&&(n="0"+n),s<10&&(s="0"+s),(i>0?i+":":"")+n+":"+s}},mounted:function(){this.$DCPlayer.eAudio=document.getElementById("dc-audio"),this.eAudio=document.getElementById("dc-audio"),this.eAudio.addEventListener("timeupdate",this.updated),this.eAudio.addEventListener("playing",this.playing),this.eAudio.addEventListener("pause",this.paused),this.eAudio.addEventListener("loadstart",this.loading)}}},250:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(27),s=i(322),a=i.n(s),r=i(323),o=i.n(r);t.default={name:"sidebar",components:{"user-playlists":a.a,"user-subscriptions":o.a},data:function(){return{loggedIn:!1}},methods:{closeLeft:function(){this.$emit("closeLeft","left")}},computed:{loginPath:function(){return"/"+this.loginText.toLowerCase()},loginText:function(){return this.loggedIn?"User":"Login"}},mounted:function(){var e=this;n.a.auth().onAuthStateChanged(function(t){e.loggedIn=!!t})}}},251:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(27),s=i(145),a=i.n(s);t.default={name:"user-playlists",components:{"delete-button":a.a},data:function(){return{UID:n.b.UID,active:!0}},methods:{isPlaying:function(e,t,i){return this.$store.getters.hash==="/u/"+e+"/"+t+"/"+encodeURIComponent(i)?"teal":""},closeLeftOnMobile:function(){this.$emit("closeLeft")},playlistDelete:function(e){n.b.playlistDelete(e)}},firebase:function(){return{playlistRefs:n.b.playlistsRefs.orderByChild("name_lower")}}}},252:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(27),s=i(145),a=i.n(s);t.default={name:"user-playlists",components:{"delete-button":a.a},data:function(){return{UID:n.b.UID,active:!0}},methods:{isPlaying:function(e,t,i){return this.$store.getters.hash==="/a/"+e+"/"+encodeURIComponent(t)+"/"+i?"teal":""},subscriptionDelete:function(e){n.b.subscriptionDelete(e)},closeLeftOnMobile:function(){this.$emit("closeLeft")}},firebase:function(){return{subscriptions:n.b.subscriptions.orderByChild("name_lower")}}}},27:function(e,t,i){"use strict";i.d(t,"a",function(){return p}),i.d(t,"b",function(){return f});var n=i(257),s=i.n(n),a=i(124),r=i.n(a),o=i(125),u=i.n(o),l=i(311),c=i.n(l),d={apiKey:"AIzaSyDSaKaRsDvmOicthSOJGvSF4iQC2ZprwFw",authDomain:"dreamcloud-3f276.firebaseapp.com",databaseURL:"https://dreamcloud-3f276.firebaseio.com",projectId:"dreamcloud-3f276",storageBucket:"dreamcloud-3f276.appspot.com",messagingSenderId:"137974869044"},p=c.a.initializeApp(d),h=c.a.database(),v=function(){function e(){r()(this,e),this.UID="",this.playlists="",this.playlistRefs=""}return u()(e,[{key:"init",value:function(e){this.UID=e,this.settings=h.ref("users/"+e+"/Settings"),this.playlists=h.ref("users/"+e+"/PlaylistsData"),this.playlistsRefs=h.ref("users/"+e+"/PlaylistsNames"),this.subscriptions=h.ref("users/"+e+"/Subscriptions")}},{key:"setting",value:function(e){return this.settings.child(e)}},{key:"settingChange",value:function(e,t){this.settings.child(e).set(t)}},{key:"subscriptionAdd",value:function(e,t,i,n){this.subscriptions.update(s()({},i,{name:e,name_lower:e.toLowerCase(),source:t,id:i,img:n}))}},{key:"subscriptionDelete",value:function(e){this.subscriptions.child(e).remove()}},{key:"createNewPlaylist",value:function(e,t){delete t[".key"];var i=this.playlistsRefs.push({name:e,name_lower:e.toLowerCase()});this.playlists.child(i.ref.key).set({name:e,name_lower:e.toLowerCase()}),this.playlists.child(i.ref.key+"/songs").push(t)}},{key:"playlistDelete",value:function(e){this.playlistsRefs.child(e).remove(),this.playlists.child(e).remove()}},{key:"playlistSongAdd",value:function(e,t){delete t[".key"],this.playlists.child(e+"/songs").push(t)}},{key:"playlistGet",value:function(e,t){return h.ref("users/"+e+"/PlaylistsData/"+t+"/songs")}}]),e}(),f=new v},299:function(e,t){},300:function(e,t){},301:function(e,t){},302:function(e,t){},303:function(e,t){},304:function(e,t){},305:function(e,t){},306:function(e,t){},307:function(e,t){},317:function(e,t,i){function n(e){i(304)}var s=i(12)(i(245),i(329),n,"data-v-7978fa29",null);e.exports=s.exports},318:function(e,t,i){function n(e){i(307)}var s=i(12)(i(246),i(332),n,null,null);e.exports=s.exports},319:function(e,t,i){function n(e){i(303)}var s=i(12)(i(248),i(328),n,"data-v-7673e2bf",null);e.exports=s.exports},320:function(e,t,i){function n(e){i(305)}var s=i(12)(i(249),i(330),n,null,null);e.exports=s.exports},321:function(e,t,i){function n(e){i(299)}var s=i(12)(i(250),i(324),n,null,null);e.exports=s.exports},322:function(e,t,i){function n(e){i(302)}var s=i(12)(i(251),i(327),n,null,null);e.exports=s.exports},323:function(e,t,i){function n(e){i(300)}var s=i(12)(i(252),i(325),n,null,null);e.exports=s.exports},324:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-list",{attrs:{dense:""}},[e.loggedIn?i("v-list-tile",{attrs:{ripple:"",to:{path:"/home"}},on:{click:e.closeLeft}},[i("v-list-tile-action",[i("v-icon",[e._v("dashboard")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("Home")])],1)],1):e._e(),e._v(" "),i("v-list-tile",{attrs:{ripple:"",to:{path:e.loginPath}},on:{click:e.closeLeft}},[i("v-list-tile-action",[i("v-icon",[e._v("person")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(e.loginText))])],1)],1),e._v(" "),e.loggedIn?i("v-list-tile",{attrs:{ripple:"",to:{path:"/settings"}},on:{click:e.closeLeft}},[i("v-list-tile-action",[i("v-icon",[e._v("settings")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("Settings")])],1)],1):e._e(),e._v(" "),e.loggedIn?i("user-playlists",{on:{closeLeft:e.closeLeft}}):e._e(),e._v(" "),e.loggedIn?i("user-subscriptions",{on:{closeLeft:e.closeLeft}}):e._e()],1)},staticRenderFns:[]}},325:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-list-group",{attrs:{value:e.active}},[i("v-list-tile",{attrs:{slot:"item",ripple:""},on:{click:function(t){e.active=!e.active}},slot:"item"},[i("v-list-tile-action",[i("v-icon",[e._v("people")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("Subscriptions")])],1),e._v(" "),i("v-list-tile-action",[i("v-icon",[e._v("keyboard_arrow_down")])],1)],1),e._v(" "),i("v-divider"),e._v(" "),i("v-list-tile",{attrs:{ripple:"",to:{path:"/subs/all"}},on:{click:e.closeLeftOnMobile}},[i("v-list-tile-action",[i("v-icon",[e._v("toc")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("All")])],1)],1),e._v(" "),i("v-divider"),e._v(" "),e._l(e.subscriptions,function(t){return i("v-list-tile",{key:t[".key"],class:e.isPlaying(t.source,t.name,t.id),attrs:{id:"subscription","active-class":e.isPlaying(t.source,t.name,t.id)||"blue-grey lighten-1",to:{path:"/a/"+t.source+"/"+encodeURIComponent(t.name)+"/"+t.id},ripple:""},on:{click:e.closeLeftOnMobile}},[i("v-list-tile-action",{attrs:{color:"green"}},[i("v-avatar",{attrs:{slot:"activator",size:"32px"},slot:"activator"},[i("img",{attrs:{src:t.img}})])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(t.name))])],1),e._v(" "),i("delete-button",{staticClass:"delete",attrs:{id:t.id},on:{delete:e.subscriptionDelete}})],1)})],2)],1)},staticRenderFns:[]}},326:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-btn",{staticClass:"del-btn",attrs:{color:e.color,icon:""},on:{mouseleave:function(t){e.clicks=0},click:function(t){t.stopPropagation(),e.emitDelete(t)}}},[i("v-icon",[e._v(e._s(e.dlIcn))])],1)},staticRenderFns:[]}},327:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-list-group",{attrs:{value:e.active}},[i("v-list-tile",{attrs:{slot:"item",ripple:""},on:{click:function(t){t.stopPropagation(),e.active=!e.active}},slot:"item"},[i("v-list-tile-action",[i("v-icon",[e._v("library_music")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("Playlists")])],1),e._v(" "),i("v-list-tile-action",[i("v-icon",[e._v("keyboard_arrow_down")])],1)],1),e._v(" "),e._l(e.playlistRefs,function(t){return i("v-list-tile",{key:t[".key"],class:e.isPlaying(e.UID,t[".key"],t.name),attrs:{id:"playlist","active-class":e.isPlaying(e.UID,t[".key"],t.name)||"blue-grey lighten-1",to:{path:"/u/"+e.UID+"/"+t[".key"]+"/"+encodeURIComponent(t.name)},ripple:""},on:{click:e.closeLeftOnMobile}},[i("v-list-tile-action",[i("v-icon",[e._v("music_note")])],1),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(t.name))])],1),e._v(" "),i("span",{staticClass:"delete"},[i("delete-button",{attrs:{id:t[".key"]},on:{delete:e.playlistDelete}})],1)],1)})],2)],1)},staticRenderFns:[]}},328:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("v-toolbar-items",[i("v-text-field",{staticStyle:{"max-height":"12px"},attrs:{placeholder:"Search",color:"teal","single-line":""},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.search(t)}},model:{value:e.sQuery,callback:function(t){e.sQuery=t},expression:"sQuery"}},[e._v("\r\n\r\n    >")]),e._v(" "),i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-bottom":25,"open-on-hover":""}},[i("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[i("v-icon",[e._v("cloud_circle")])],1),e._v(" "),i("v-card",[i("v-list",[i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"dark blue"},model:{value:e.aSources.All,callback:function(t){e.$set(e.aSources,"All",t)},expression:"aSources.All"}})],1),e._v(" "),i("v-list-tile-title",[e._v("All")])],1),e._v(" "),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"dark blue"},model:{value:e.aSources.MixCloud,callback:function(t){e.$set(e.aSources,"MixCloud",t)},expression:"aSources.MixCloud"}})],1),e._v(" "),i("v-list-tile-title",[e._v("Mixcloud")])],1),e._v(" "),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"dark blue"},model:{value:e.aSources.SoundCloud,callback:function(t){e.$set(e.aSources,"SoundCloud",t)},expression:"aSources.SoundCloud"}})],1),e._v(" "),i("v-list-tile-title",[e._v("SoundCloud")])],1),e._v(" "),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"dark blue"},model:{value:e.aSources.YouTube,callback:function(t){e.$set(e.aSources,"YouTube",t)},expression:"aSources.YouTube"}})],1),e._v(" "),i("v-list-tile-title",[e._v("YouTube")])],1),e._v(" "),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"dark blue"},model:{value:e.aSources.Vimeo,callback:function(t){e.$set(e.aSources,"Vimeo",t)},expression:"aSources.Vimeo"}})],1),e._v(" "),i("v-list-tile-title",[e._v("Vimeo")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},329:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-flex",{key:e.song.trackID,attrs:{xs12:"",flexbox:""},on:{click:function(t){t.stopPropagation(),e.play(t)}}},[i("v-card",[i("v-card-media",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.song.posterLarge,expression:"song.posterLarge",arg:"background-image"}],attrs:{height:"220px"}},[i("v-container",{attrs:{"grid-list-xs":"","fill-height":"",fluid:""}},[i("v-layout",{attrs:{"fill-height":""}},[i("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[i("span",{staticClass:"headline white--text",domProps:{textContent:e._s(e.song.title)}}),e._v(" "),i("div",{staticClass:"artist white--text",domProps:{textContent:e._s(e.song.artist)}})])],1)],1)],1)],1)],1)},staticRenderFns:[]}},330:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dc-audio-container"}},[i("div",{attrs:{id:"dc-player"}},[i("div",{attrs:{id:"left"}},[i("div",{staticClass:"audio-controls"},[i("img",{attrs:{id:"poster",src:e.currentImage}})]),e._v(" "),i("div",{staticClass:"audio-controls"},[i("v-btn",{attrs:{icon:""},on:{click:e.previous}},[i("v-icon",[e._v("skip_previous")])],1),e._v(" "),e.bLoading?i("v-progress-circular",{attrs:{id:"loadingSpinner",indeterminate:"",size:25},on:{click:function(t){e.eAudio.play()}}}):i("v-btn",{attrs:{icon:""},on:{click:e.togglePlay}},[i("v-icon",[e._v(e._s(e.play_arrow))])],1),e._v(" "),i("v-btn",{attrs:{icon:""},on:{click:e.next}},[i("v-icon",[e._v("skip_next")])],1)],1)]),e._v(" "),i("div",{staticClass:"hidden-sm-and-down",attrs:{id:"right"}},[i("v-speed-dial",{attrs:{hover:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",hover:""},on:{click:e.toggleMute},slot:"activator"},[i("v-icon",[e._v(e._s(e.volIcon))])],1),e._v(" "),i("div",{staticClass:"slider-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.volume,expression:"volume"}],attrs:{type:"range",min:"0",max:"10",step:"1"},domProps:{value:e.volume},on:{input:e.volumeChange,__r:function(t){e.volume=t.target.value}}})])],1)],1),e._v(" "),i("div",{attrs:{id:"middle"}},[i("div",{attrs:{id:"progress"}},[i("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:"","grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",[i("v-slider",{attrs:{label:e.currentTime,id:"progress-slider",max:"10000","hide-details":""},on:{input:e.changePos},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1)],1)],1)],1)])]),e._v(" "),i("audio",{attrs:{controls:"",id:"dc-audio"}})])},staticRenderFns:[]}},331:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",e._b({attrs:{id:"inspire"}},"v-app",e.$store.getters.theme,!1),[i("v-navigation-drawer",{attrs:{clipped:"",persistent:"","enable-resize-watcher":"",app:"","disable-route-watcher":"",ripple:""},model:{value:e.drawerLeft,callback:function(t){e.drawerLeft=t},expression:"drawerLeft"}},[i("sidebar",{on:{closeLeft:e.closeLeft}})],1),e._v(" "),i("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":"","clipped-right":""}},[i("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawerLeft=!e.drawerLeft}}}),e._v(" "),i("v-toolbar-title",{staticClass:"hidden-sm-and-down"},[e._v("\n      DreamCloud\n    ")]),e._v(" "),i("v-spacer"),e._v(" "),i("search"),e._v(" "),i("v-spacer"),e._v(" "),i("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawerRight=!e.drawerRight}}},[i("v-icon",{attrs:{large:""}},[e._v("playlist_play")])],1)],1),e._v(" "),i("v-navigation-drawer",{attrs:{clipped:"",persistent:"","enable-resize-watcher":"",app:"","disable-route-watcher":"",right:""},model:{value:e.drawerRight,callback:function(t){e.drawerRight=t},expression:"drawerRight"}},[i("current-playlist")],1),e._v(" "),i("main",[i("v-content",[i("v-layout",{attrs:{"justify-center":""}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view")],1)],1)],1)],1),e._v(" "),i("v-footer",{attrs:{app:"",fixed:""}},[i("dc-audio",{attrs:{song:e.aSong}})],1)],1)},staticRenderFns:[]}},332:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{"grid-list-sm":""}},[i("v-layout",{attrs:{xs12:"",row:"",wrap:""}},[i("transition-group",{attrs:{name:"slide-fade"}},e._l(e.aPlaylist,function(e,t){return i("current-playlist-item",{key:e.trackID,attrs:{song:e,index:t}})}))],1)],1)},staticRenderFns:[]}},77:function(e,t,i){"use strict";var n=i(78),s=i(334);n.a.use(s.a);var a=new s.a.Store({state:{current_Playlist:[],current_Index:-1,current_Hash:"",settings:{"Dark Theme":!1}},mutations:{setNPlay:function(e,t){e.current_Playlist=t.songs,e.current_Index=t.current,e.current_Hash=t.path},changeIndex:function(e,t){e.current_Index=t},changeSetting:function(e,t){e.settings[t.setting]=t.value}},getters:{theme:function(e){return e.settings["Dark Theme"]?{dark:!0}:{light:!0}},current_Playlist:function(e){return e.current_Playlist},index:function(e){return e.current_Index},hash:function(e){return e.current_Hash}}});t.a=a}},[243]);
//# sourceMappingURL=app.4f12ed02dc6a87c28aa7.js.map