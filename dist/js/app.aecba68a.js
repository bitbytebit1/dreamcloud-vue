(function(t){function e(e){for(var s,n,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)n=r[u],o[n]&&d.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,n=1;n<i.length;n++){var r=i[n];0!==o[r]&&(s=!1)}s&&(a.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},n={app:0},o={app:0},a=[];function r(t){return l.p+"js/"+({about:"about",artist:"artist",channelPlaylist:"channelPlaylist",genre:"genre",history:"history",historyRecommended:"historyRecommended",login:"login",password:"password",playlistOverview:"playlistOverview",playlistsAll:"playlistsAll",searchpage:"searchpage",settings:"settings",signUp:"signUp",song:"song",stage:"stage",subsAll:"subsAll",tos:"tos",trending:"trending",user:"user",userPlaylist:"userPlaylist",userSubOverview:"userSubOverview"}[t]||t)+"."+{about:"3740b47c",artist:"4bce7eb1",channelPlaylist:"4b59e0f4","chunk-76d4c477":"b294fe78",genre:"db7fe427",history:"9129c0c1",historyRecommended:"b8d3060f",login:"b9aa5d85",password:"b3b2862c",playlistOverview:"f14f1b46",playlistsAll:"ea219fe5",searchpage:"7f05ca7f",settings:"840e6f27",signUp:"fde5faeb",song:"14934d31",stage:"8e201c1c",subsAll:"841f1af9",tos:"0799d0b7",trending:"e89aca76",user:"8c165367",userPlaylist:"82439cab",userSubOverview:"ab7fe838"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={about:1,artist:1,channelPlaylist:1,"chunk-76d4c477":1,genre:1,history:1,historyRecommended:1,login:1,password:1,playlistOverview:1,playlistsAll:1,searchpage:1,settings:1,signUp:1,stage:1,subsAll:1,tos:1,trending:1,userPlaylist:1,userSubOverview:1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=new Promise(function(e,i){for(var s="css/"+({about:"about",artist:"artist",channelPlaylist:"channelPlaylist",genre:"genre",history:"history",historyRecommended:"historyRecommended",login:"login",password:"password",playlistOverview:"playlistOverview",playlistsAll:"playlistsAll",searchpage:"searchpage",settings:"settings",signUp:"signUp",song:"song",stage:"stage",subsAll:"subsAll",tos:"tos",trending:"trending",user:"user",userPlaylist:"userPlaylist",userSubOverview:"userSubOverview"}[t]||t)+"."+{about:"3b602e0e",artist:"c87096e9",channelPlaylist:"f243f417","chunk-76d4c477":"70d1b90d",genre:"2bc91f8c",history:"12107838",historyRecommended:"8be109f6",login:"152d2cde",password:"4c9eb017",playlistOverview:"e18d48f4",playlistsAll:"b074206b",searchpage:"763761d5",settings:"dc0d939a",signUp:"b4cb4c35",song:"31d6cfe0",stage:"9ba7b6f0",subsAll:"fd576008",tos:"48af7e2b",trending:"514c74a7",user:"31d6cfe0",userPlaylist:"cb1bf88d",userSubOverview:"30f152de"}[t]+".css",n=l.p+s,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var r=o[a],c=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(c===s||c===n))return e()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){r=u[a],c=r.getAttribute("data-href");if(c===s||c===n)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var s=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.request=s,i(o)},d.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){n[t]=0}));var s=o[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise(function(e,i){s=o[t]=[e,i]});e.push(s[2]=a);var c,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=r(t),c=function(e){d.onerror=d.onload=null,clearTimeout(p);var i=o[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+s+": "+n+")");a.type=s,a.request=n,i[1](a)}o[t]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,u.appendChild(d)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"01d6":function(t,e,i){"use strict";var s=i("500c"),n=i.n(s);n.a},"034f":function(t,e,i){"use strict";var s=i("87dc"),n=i.n(s);n.a},"0a26":function(t,e,i){"use strict";var s=i("55e6"),n=i.n(s);n.a},"0ca3":function(t,e,i){"use strict";var s=i("2688"),n=i.n(s);n.a},"10dd":function(t,e,i){"use strict";var s=i("e593"),n=i.n(s);n.a},"162d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{staticClass:"ma-0 pa-0",attrs:{color:t.btnColor,small:""},on:{click:function(e){return e.preventDefault(),t.toggleSub(e)}}},[t._v(t._s(t.subbed?"Subscribed":"Subscribe"))])},n=[],o={name:"SubscribeButton",props:{artistID:{type:String,default:""},source:{type:String,default:""},artist:{type:String,default:""},img:{type:String,default:""}},watch:{artistID:{immediate:!0,handler:"bind"}},data:function(){return{subscribed:[]}},computed:{subbed:function(){return this.subscribed.length},btnColor:function(){return this.subbed?"":"primary white--text"}},methods:{toggleSub:function(){this.subscribed.length?this.unsubscribe():this.subscribe()},bind:function(){this.artistID&&this.$store.getters.auth_state&&this.$bindAsArray("subscribed",this.$DCFB.subscriptions.child(this.artistID))},subscribe:function(){this.$DCFB.subscriptionAdd(this.artist,this.source,this.artistID,this.img)},unsubscribe:function(){this.$DCFB.subscriptionDelete(this.artistID)}}},a=o,r=(i("681a"),i("2877")),l=i("8336"),c=Object(r["a"])(a,s,n,!1,null,null,null);c.options.__file="subscribe-button.vue";e["a"]=c.exports;c.options.components=Object.assign({VBtn:l["a"]},c.options.components)},1634:function(t,e,i){},"19c2":function(t,e,i){},"19fb":function(t,e,i){},"1ed3":function(t,e,i){},"219d":function(t,e,i){},"24df":function(t,e,i){},"257b":function(t,e,i){},2688:function(t,e,i){},"2b07":function(t,e,i){},"2d50":function(t,e,i){"use strict";var s=i("3785"),n=i.n(s);n.a},"314a":function(t,e,i){},3260:function(t,e,i){"use strict";var s=i("19c2"),n=i.n(s);n.a},"35a1":function(t,e,i){"use strict";var s=i("2b07"),n=i.n(s);n.a},3785:function(t,e,i){},"3e84":function(t,e,i){},"3fb2":function(t,e,i){},"437b":function(t,e,i){},"45b7":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"loading-flex",attrs:{xs12:"","justify-center":""}},[i("div",{staticClass:"orbit-spinner",style:t.spinnerStyle},[i("div",{staticClass:"orbit one",style:t.orbitStyle}),i("div",{staticClass:"orbit two",style:t.orbitStyle}),i("div",{staticClass:"orbit three",style:t.orbitStyle})])])},n=[],o=(i("c5f6"),{name:"OrbitSpinner",props:{animationDuration:{type:Number,default:1e3},size:{type:Number,default:50},color:{type:String,default:"#fff"}},computed:{spinnerStyle:function(){return{height:"".concat(this.size,"px"),width:"".concat(this.size,"px")}},orbitStyle:function(){return{borderColor:this.$vuetify.theme.primary}}}}),a=o,r=(i("0ca3"),i("2877")),l=i("0e8f"),c=Object(r["a"])(a,s,n,!1,null,"4c61bb48",null);c.options.__file="orbit.vue";e["a"]=c.exports;c.options.components=Object.assign({VFlex:l["a"]},c.options.components)},"500c":function(t,e,i){},5047:function(t,e,i){"use strict";var s=i("6c05"),n=i.n(s);n.a},"545c":function(t,e,i){"use strict";var s=i("24df"),n=i.n(s);n.a},"55e6":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var s=i("2b0e"),n=i("9483");Object(n["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var o=i("bb71"),a=i("a722"),r=(i("da64"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",t._b({class:t.blackClass},"v-app",t.theme,!1),[i("v-snackbar",{attrs:{timeout:0,top:"","auto-height":""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    A newer version of dreamcloud has been downloaded\n    "),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(){return t.swReg.waiting.postMessage("skipWaiting")}}},[t._v("\n      use now\n    ")]),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      dismiss\n    ")])],1),i("v-navigation-drawer",{attrs:{id:"sideleft",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",persistent:"",ripple:"",width:"240"},model:{value:t.drawLeft,callback:function(e){t.drawLeft=e},expression:"drawLeft"}},[i("sidebar",{on:{closeLeft:t.closeLeft}})],1),i("v-toolbar",{attrs:{id:"navbar",app:"",dense:"",fixed:"","clipped-left":"","clipped-right":""}},[i("v-progress-linear",{attrs:{id:"loader",active:t.loadActive,value:t.loadValue,color:"primary","background-color":"#",height:"2"}}),i("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.leftTog(e)}}}),i("v-toolbar-title",{staticClass:"hidden-sm-and-down fwl title",staticStyle:{width:"121px"}},[i("router-link",{class:t.textClass,attrs:{to:{name:"historyRecommended",params:{user:t.uid}}}},[t._v("\n        dreamcloud \n      ")])],1),i("search"),i("v-spacer"),t.bMobi?t._e():i("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.$store.commit("toggleStage")}}},[i("v-icon",[t._v("music_video")])],1),i("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.rightTog(e)}}},[i("v-icon",[t._v("playlist_play")])],1)],1),i("v-navigation-drawer",{attrs:{id:"right-draw",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",persistent:"",right:"",width:"260"},model:{value:t.drawRight,callback:function(e){t.drawRight=e},expression:"drawRight"}},[i("current-playlist")],1),i("v-content",{directives:[{name:"show",rawName:"v-show",value:t.bShowStage,expression:"bShowStage"}],staticClass:"text-xs-center"},[i("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{"justify-center":""}},[i("v-flex",{attrs:{xs12:""}},[i("stage")],1)],1)],1)],1),i("v-content",{staticClass:"text-xs-center"},[i("v-container",{staticClass:"pa-0 ma-0",attrs:{id:"main-cont",fluid:"","fill-height":""}},[i("v-layout",{attrs:{"justify-center":""}},[i("router-view")],1)],1)],1),i("v-footer",{style:t.footStyle,attrs:{id:"foot",app:"",fixed:""}},[i("mobileFooter",{directives:[{name:"show",rawName:"v-show",value:t.bMobi,expression:"bMobi"}]}),i("dc-youtube",{directives:[{name:"show",rawName:"v-show",value:t.ytUseVideo&&t.isYT&&(!t.bMobi||t.currentActive),expression:"(ytUseVideo && isYT) && (!bMobi || currentActive)"}]}),i("dc-audio",{directives:[{name:"show",rawName:"v-show",value:(!t.ytUseVideo||!t.isYT)&&(!t.bMobi||t.currentActive),expression:"(!ytUseVideo || !isYT) && (!bMobi || currentActive)"}]}),t.bMobi?t._e():i("scroll-to-top")],1),i("hks")],1)}),l=[],c=(i("7f7f"),i("c93e")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"hks"}})},d=[],p={name:"hks",created:function(){var t=this;window.onkeydown=function(e){e=e||window.event,"INPUT"!==document.activeElement.tagName&&("67"!=e.keyCode||e.ctrlKey?"70"!=e.keyCode||e.ctrlKey?"87"==e.keyCode?(t.bWide=!(t.$store.getters.drawLeft||t.$store.getters.drawRight),t.$store.commit("drawRight",t.bWide),t.$store.commit("drawLeft",t.bWide),e.preventDefault()):"77"==e.keyCode?(t.$DCPlayer.toggleMute(),e.preventDefault()):"32"==e.keyCode?(t.$DCPlayer.togglePlay(),e.preventDefault()):"37"!=e.keyCode||e.shiftKey?"38"==e.keyCode?(t.$DCPlayer.volUp(),e.preventDefault()):"39"!=e.keyCode||e.shiftKey?"40"==e.keyCode&&(t.$DCPlayer.volDown(),e.preventDefault()):(e.altKey?(t.$DCPlayer.next(),t.$DCFB.historyPush(t.$store.getters.current_song)):t.$DCPlayer.seekForward(),e.preventDefault()):(e.altKey?(t.$DCPlayer.previous(),t.$DCFB.historyPush(t.$store.getters.current_song)):t.$DCPlayer.seekBackward(),e.preventDefault()):t.$UTILS.toggleFullscreen(t.$store.getters.ytUseVideo&&t.$store.getters.isYT?"player":"pstr"):t.$store.commit("toggleStage"))}}},h=p,m=(i("86a5"),i("2877")),f=Object(m["a"])(h,u,d,!1,null,null,null);f.options.__file="hks.vue";var g=f.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar-items",[i("autocomplete",{on:{search:function(e){t.search(e)}}}),i("v-divider"),i("v-menu",{staticClass:"mr-5",attrs:{"close-on-content-click":!1,"nudge-bottom":25,"open-on-hover":"","z-index":"10"}},[i("v-toolbar-title",{attrs:{slot:"activator"},slot:"activator"},[i("v-btn",{attrs:{icon:""}},[i("v-icon",[t._v("\n          cloud_circle\n        ")])],1)],1),i("v-card",[i("v-list",[i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.All,callback:function(e){t.$set(t.aSources,"All",e)},expression:"aSources.All"}})],1),i("v-list-tile-title",[t._v("All")])],1),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.Bandcamp,callback:function(e){t.$set(t.aSources,"Bandcamp",e)},expression:"aSources.Bandcamp"}})],1),i("v-list-tile-title",[t._v("Bandcamp")])],1),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.MixCloud,callback:function(e){t.$set(t.aSources,"MixCloud",e)},expression:"aSources.MixCloud"}})],1),i("v-list-tile-title",[t._v("Mixcloud")])],1),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.SoundCloud,callback:function(e){t.$set(t.aSources,"SoundCloud",e)},expression:"aSources.SoundCloud"}})],1),i("v-list-tile-title",[t._v("SoundCloud")])],1),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.YouTube,callback:function(e){t.$set(t.aSources,"YouTube",e)},expression:"aSources.YouTube"}})],1),i("v-list-tile-title",[t._v("YouTube")])],1),i("v-list-tile",[i("v-list-tile-action",[i("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.Vimeo,callback:function(e){t.$set(t.aSources,"Vimeo",e)},expression:"aSources.Vimeo"}})],1),i("v-list-tile-title",[t._v("Vimeo")])],1)],1)],1)],1)],1)},y=[],b=(i("386d"),i("456d"),i("ac6a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-autocomplete",{ref:"auto",staticClass:"autoSearch mx-3",attrs:{loading:t.loading,items:t.items,"search-input":t.search,color:"primary",label:"Search","append-icon":"","single-line":"","hide-no-data":"","hide-details":"",flat:"",solo:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null}},scopedSlots:t._u([{key:"item",fn:function(e){return[i("v-list-tile-content",{domProps:{textContent:t._s(e.item)},on:{click:function(i){t.clicked(e.item)}}})]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})}),w=[],_={data:function(){return{loading:!1,items:[],search:null,select:null}},watch:{search:function(t){t&&this.querySelections(t)}},methods:{clicked:function(t){this.emit(t)},enter:function(){this.$refs.auto.$children[0].isActive=!1,this.emit(this.search)},emit:function(t){this.$emit("search",t)},querySelections:function(t){var e=this;this.loading=!0,this.$jsonp("https://suggestqueries.google.com/complete/search?callback=?&hl=en&ds=yt&jsonp=suggestCallBack&client=youtube&q=".concat(t),{callbackName:"suggestCallBack"}).then(function(i){e.items=i[1].map(function(t){return t[0]}),e.items.unshift(t),e.loading=!1}).catch(function(){e.loading=!1})}}},k=_,x=(i("0a26"),i("5d23")),C=i("c6a6"),S=Object(m["a"])(k,b,w,!1,null,null,null);S.options.__file="autocomplete.vue";var I=S.exports;S.options.components=Object.assign({VListTileContent:x["a"],VAutocomplete:C["a"]},S.options.components);var $={name:"Search",components:{autocomplete:I},watch:{"aSources.All":"_All","aSources.Bandcamp":"_other","aSources.MixCloud":"_other","aSources.SoundCloud":"_other","aSources.YouTube":"_other","aSources.Vimeo":"_other"},data:function(){return{aSources:{All:!0,Bandcamp:!1,MixCloud:!1,SoundCloud:!1,YouTube:!1,Vimeo:!1},sQuery:""}},computed:{maSource:function(){var t=this;if(this.aSources.All)return"all";var e=[];return Object.keys(this.aSources).forEach(function(i){t.aSources[i]&&e.push(i)}),e.join("-")}},methods:{_All:function(t){t&&(this.aSources.Bandcamp=this.aSources.MixCloud=this.aSources.SoundCloud=this.aSources.YouTube=this.aSources.Vimeo=!1),this.search()},_other:function(t){t&&(this.aSources.All=!1),this.search()},__search:function(){this.$router.push({name:"searchPage",params:{query:this.sQuery,source:this.maSource}})},search:function(t){t&&(this.sQuery=t),this.$UTILS.closeSoftMobi(),this.__search()}}},D=$,P=(i("5cef"),i("ce7e")),T=i("132d"),V=i("8336"),A=i("2a7f"),L=i("b73d"),O=i("40fe"),j=i("ba95"),M=i("8860"),B=i("b0af"),R=i("e449"),U=Object(m["a"])(D,v,y,!1,null,"538a1812",null);U.options.__file="search.vue";var F=U.exports;U.options.components=Object.assign({VDivider:P["a"],VIcon:T["a"],VBtn:V["a"],VToolbarTitle:A["b"],VSwitch:L["a"],VListTileAction:O["a"],VListTileTitle:x["b"],VListTile:j["a"],VList:M["a"],VCard:B["a"],VMenu:R["a"],VToolbarItems:A["a"]},U.options.components);var E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"dc-audio-container"}},[i("div",{attrs:{id:"dc-player"}},[i("div",{staticClass:"fl-l",attrs:{id:"left"}},[i("div",{staticClass:"fl-l"},[i("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.previous}},[i("v-icon",[t._v("skip_previous")])],1),i("v-btn",{staticClass:"primary",attrs:{loading:t.bLoading,icon:"",outline:""},on:{click:t.$DCPlayer.togglePlay}},[i("v-icon",[t._v(t._s(t.play_arrow))])],1),i("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.next}},[i("v-icon",[t._v("skip_next")])],1)],1)]),i("div",{staticClass:"hidden-xs-only",attrs:{id:"right"},on:{wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[i("v-speed-dial",{attrs:{hover:"",transition:"slide-x-reverse-transition","open-on-hover":""}},[i("v-btn",{class:t.volClass,attrs:{slot:"activator",fab:"",hover:"",icon:"",outline:"",small:""},on:{click:t.toggleMute},slot:"activator"},[i("v-icon",[t._v(t._s(t.volIcon))])],1),i("div",{staticClass:"slider-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"vol-slider pointer",attrs:{type:"range",min:"0",max:"10",step:"0.01"},domProps:{value:t.volume},on:{input:t.volumeChange,__r:function(e){t.volume=e.target.value}}})])],1)],1),i("div",{attrs:{id:"middle"}},[i("div",{attrs:{id:"progress"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"ml-3 mr-3",attrs:{xs12:""}},[i("v-slider",{attrs:{"thumb-size":t.thumbSize,max:t.eAudio.duration,label:t.currentTime,"thumb-label":"",color:"primary","hide-details":""},on:{input:t.changePos},scopedSlots:t._u([{key:"thumb-label",fn:function(e){return[i("span",[t._v("\n                  "+t._s(t.secondsToDuration(t.progress))+"\n                ")])]}}]),model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1)],1)],1)])]),i("audio",{attrs:{id:"dc-audio",controls:""}})])},Y=[],Q={name:"DcAudio",data:function(){return{bLoading:!1,progress:0,eAudio:"",play_arrow:"play_arrow",volIcon:"volume_up",volume:10,duration:"",currentTime:""}},computed:{thumbSize:function(){return this.iProgress>3601?"55":"35"},volClass:function(){return"volume_off"===this.volIcon?"red":"primary"}},methods:{onWheel:function(t){t.deltaX>t.deltaY?this.$DCPlayer.volUp():this.$DCPlayer.volDown()},toggleMute:function(){this.eAudio.muted=!this.eAudio.muted,this.volIcon=this.eAudio.muted?"volume_off":this.updateVolIcon()},volumeChange:function(){this.eAudio.volume=this.volume/10,this.updateVolIcon()},volumeChange2:function(){this.volume=10*this.eAudio.volume,this.updateVolIcon()},updateVolIcon:function(){return this.volIcon=this.eAudio.volume>.5?"volume_up":0===this.eAudio.volume||this.eAudio.muted?"volume_off":"volume_down"},changePos:function(t){isNaN(t)||(this.eAudio.currentTime=t)},updated:function(){this.currentTime="".concat(this.secondsToDuration(this.eAudio.currentTime)," - ").concat(this.secondsToDuration(this.eAudio.duration)),this.progress=Math.floor(this.eAudio.currentTime)},playing:function(){this.duration=this.secondsToDuration(this.eAudio.duration.toFixed(0)),this.play_arrow="pause",this.bLoading=!1},paused:function(){this.play_arrow="play_arrow"},loading:function(){this.bLoading=!0},next:function(){this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)},previous:function(){this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)},secondsToDuration:function(t){if(isNaN(t))return"00:00";var e=Math.ceil(t),i=Math.floor(e/3600),s=Math.floor((e-3600*i)/60),n=e-3600*i-60*s;return i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),(i>0?i+":":"")+s+":"+n}},mounted:function(){this.eAudio=this.$DCPlayer.eAudio=document.getElementById("dc-audio"),this.eAudio.addEventListener("timeupdate",this.updated),this.eAudio.addEventListener("playing",this.playing),this.eAudio.addEventListener("pause",this.paused),this.eAudio.addEventListener("loadstart",this.loading),this.eAudio.addEventListener("ended",this.next),this.eAudio.addEventListener("volumechange",this.volumeChange2)}},N=Q,H=(i("7b04"),i("c73b")),q=i("ba0d"),K=i("0e8f"),z=Object(m["a"])(N,E,Y,!1,null,null,null);z.options.__file="dc-audio.vue";var W=z.exports;z.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VSpeedDial:H["a"],VSlider:q["a"],VFlex:K["a"],VLayout:a["a"]},z.options.components);var G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yt",attrs:{id:"dc-audio-container"}},[i("div",{attrs:{id:"dc-player"}},[i("div",{staticClass:"fl-l",attrs:{id:"left"}},[i("div",{staticClass:"fl-l"},[i("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.previous}},[i("v-icon",[t._v("skip_previous")])],1),i("v-btn",{staticClass:"primary",attrs:{loading:t.bLoading,icon:"",outline:""},on:{click:t.togglePlay}},[i("v-icon",[t._v(t._s(t.sPlayIcon))])],1),i("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.next}},[i("v-icon",[t._v("skip_next")])],1)],1)]),i("div",{staticClass:"hidden-xs-only",attrs:{id:"right"},on:{wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[i("v-speed-dial",{attrs:{hover:"",transition:"slide-x-reverse-transition","open-on-hover":""}},[i("v-btn",{class:t.volClass,attrs:{slot:"activator",fab:"",hover:"",icon:"",outline:"",small:""},on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}},slot:"activator"},[i("v-icon",[t._v(t._s(t.volIcon))])],1),i("div",{staticClass:"slider-wrapper",on:{click:function(t){t.preventDefault()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"vol-slider pointer",attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.volume},on:{input:t.volumeChange,__r:function(e){t.volume=e.target.value}}})])],1)],1),i("div",{attrs:{id:"middle"}},[i("div",{attrs:{id:"progress"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"ml-3 mr-3",attrs:{xs12:""}},[i("v-slider",{attrs:{"thumb-size":t.thumbSize,max:t.iDuration,label:t.iCurrent,"thumb-label":"",color:"primary","hide-details":""},scopedSlots:t._u([{key:"thumb-label",fn:function(e){return[i("span",[t._v("\n                  "+t._s(t.secondsToDuration(t.iProgress))+"\n                ")])]}}]),model:{value:t.iProgress,callback:function(e){t.iProgress=e},expression:"iProgress"}})],1)],1)],1)])])])},J=[],X={name:"dc-youtube",data:function(){return{progress:0,volIcon:"volume_up",volume:100}},computed:{thumbSize:function(){return this.iProgress>3601?"55":"35"},volClass:function(){return"volume_off"===this.volIcon?"red":"primary"},iProgress:{get:function(){return Math.floor(this.$store.getters.ytCurrentTime)},set:function(t){var e=Math.floor(this.iProgress);e!==t&&e+1!==t&&(this.$store.commit("ytCurrentTime",t),this.$store.getters.ytObject.seekTo(t))}},iDuration:function(){return Math.floor(this.$store.getters.ytDuration)},iCurrent:function(){return"".concat(this.secondsToDuration(this.$store.getters.ytCurrentTime)," - ").concat(this.secondsToDuration(this.$store.getters.ytDuration))},bLoading:function(){return 3===this.$store.getters.ytState},bPlaying:function(){return 1===this.$store.getters.ytState},sPlayIcon:function(){return this.bPlaying?"pause":"play_arrow"},currentImage:function(){return this.$store.getters.index>-1?this.$store.getters.current_Playlist[this.$store.getters.index].posterLarge:"/static/img/loading.png"}},methods:{onWheel:function(t){t.deltaX>t.deltaY?(this.$DCPlayer.volUp(),this.volume=this.$store.getters.ytObject.getVolume()):(this.$DCPlayer.volDown(),this.volume=this.$store.getters.ytObject.getVolume()),this.updateVolIcon()},toggleMute:function(){this.$store.getters.ytObject.isMuted()?(this.$store.getters.ytObject.unMute(),this.updateVolIcon()):(this.$store.getters.ytObject.mute(),this.volIcon="volume_off")},volumeChange:function(){this.$store.getters.ytObject.setVolume(this.volume),this.updateVolIcon(),this.$store.getters.ytObject.isMuted()&&this.$store.getters.ytObject.unMute()},updateVolIcon:function(){return this.volIcon=this.volume>50?"volume_up":0===this.volume?"volume_off":"volume_down"},togglePlay:function(){this.bPlaying?this.$store.getters.ytObject.pauseVideo():this.$store.getters.ytObject.playVideo()},next:function(){this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)},previous:function(){this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)},secondsToDuration:function(t){if(isNaN(t))return"00:00";var e=Math.ceil(t),i=Math.floor(e/3600),s=Math.floor((e-3600*i)/60),n=e-3600*i-60*s;return i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),(i>0?i+":":"")+s+":"+n}}},Z=X,tt=(i("8354"),Object(m["a"])(Z,G,J,!1,null,null,null));tt.options.__file="dc-youtube.vue";var et=tt.exports;tt.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VSpeedDial:H["a"],VSlider:q["a"],VFlex:K["a"],VLayout:a["a"]},tt.options.components);var it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"sideright",attrs:{row:"",wrap:""}},[i("transition-group",{attrs:{name:"slide-fade"}},t._l(t.aPlaylist,function(e,s){return i("current-playlist-item",{key:e.trackID+(s+t.$store.getters.index),attrs:{song:e,index:s}})})),i("v-flex",{attrs:{xs12:""}},[t.aPlaylist.length?t._e():i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("jumbo",{attrs:{discover:!1,error:"",subheading:"Nothing playing"}})],1)],1)],1)],1),t.aPlaylist.length?i("infinite-loading",{ref:"infiniteLoading2",staticClass:"flex xs12",attrs:{distance:600,spinner:"default"},on:{infinite:t.infiniteHandler}},[i("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n      End of the line kiddo\n    ")]),i("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n      End of the line kiddo\n    ")]),i("span",{attrs:{slot:"spinner"},slot:"spinner"},[i("v-flex",{staticClass:"text-xs-center"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)]):t._e()],1)},st=[],nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{xs12:""},on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[i("v-card",[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===t.song.source?16/9:"1",src:t.song.posterLarge,"lazy-src":t.song.posterLarge}},[i("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1),i("span",{staticClass:"card-duration",domProps:{textContent:t._s(t.song.duration)}})],1),i("v-card-actions",{on:{click:function(t){t.stopPropagation()}}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[t._v("\n          "+t._s(t.song.title)+"\n        ")]),i("v-flex",{attrs:{xs12:""}},[i("router-link",{staticClass:"noDeco pointer artist",attrs:{to:{name:"artist",params:{source:t.song.source,artist:t.song.artist,artistID:t.song.artistID}}}},[t._v("\n            "+t._s(t.song.artist)+"\n          ")])],1),i("v-flex",{attrs:{xs12:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",disabled:!t.desc,icon:""},nativeOn:{click:function(e){e.stopPropagation(),t.show=!t.show}},slot:"activator"},[i("v-icon",[t._v(t._s(t.show?"keyboard_arrow_up":"keyboard_arrow_down"))])],1),i("span",[t._v("Show description")])],1),i("share-button",{attrs:{song:t.song,url:"https://dreamcloud.netlify.com/#/t/"+t.song.source+"/"+encodeURIComponent(t.song.artist)+"/"+t.song.trackID}}),i("download-button",{attrs:{links:[t.song]}}),t.$store.getters.auth_state?i("add-to-playlist",{attrs:{song:t.song}}):t._e()],1)],1)],1),t.show?i("v-slide-y-transition",[i("div",[i("v-card-text",{staticClass:"wordbreak",domProps:{innerHTML:t._s(t.ytTimeToSeconds(t.desc))},on:{click:function(t){t.stopPropagation()}}})],1)]):t._e()],1)],1)},ot=[],at=(i("a481"),i("c5f6"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:{w100:t.inList},staticStyle:{display:"inline-block"}},[t.inList?i("v-list-tile",{staticClass:"w100",attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.openMenu(e)}}},[i("v-list-tile-title",[t._v("Add to playlist")]),i("v-list-tile-action",[i("v-btn",{attrs:{disabled:t.disabled,color:t.btnCol,icon:""}},[i("v-icon",[t._v("playlist_add")])],1)],1)],1):i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"ml-2",attrs:{slot:"activator",disabled:t.disabled,color:t.btnCol,icon:""},on:{click:function(e){return e.stopPropagation(),t.openMenu(e)}},slot:"activator"},[i("v-icon",[t._v("playlist_add")])],1),i("span",[t._v("Add to playist")])],1),i("v-dialog",{attrs:{dark:"",maxWidth:"500px"},model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[i("v-card",{attrs:{height:t.cardHeight1,flat:""}},[i("v-card-text",{staticClass:"title fwl ma-0 pa-2"},[t._v("\n        Add to playlist\n      ")]),i("v-card-actions",[i("v-autocomplete",{ref:"auto",staticClass:"ma-0",attrs:{menuProps:"{ maxHeight: '"+t.cardHeight2+"', contentClass: 'noShadow pt-1'}",items:t.items,searchInput:t.search,itemValue:"key",itemText:"name",appendIcon:"add","no-data-text":"Create new playlist",label:"Name",color:"primary",returnObject:"",singleLine:"",hideNoData:""},on:{"update:searchInput":function(e){t.search=e},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null},"click:append":t.enter},scopedSlots:t._u([{key:"item",fn:function(e){return[i("v-list-tile-content",{domProps:{textContent:t._s(e.item.name)},on:{click:function(i){t.clicked(e.item)}}})]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)],1)],1)],1)}),rt=[],lt=i("6bde"),ct={name:"AddToPlaylist",props:{song:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},inList:{type:Boolean,default:!1}},data:function(){return{items:[],btnCol:"",menuOpen:!1,loading:!1,search:null,select:""}},computed:{cardHeight1:function(){return this.$vuetify.breakpoint.xsOnly?"277":"385"},cardHeight2:function(){return this.$vuetify.breakpoint.xsOnly?"190":"300"}},methods:{clicked:function(t){this.emit(t)},enter:function(){this.emit(this.select)},emit:function(t){"object"===Object(lt["a"])(t)?this.$DCFB.playlistSongAdd(t[".key"],this.song):this.$DCFB.createNewPlaylist(this.search,this.song),this.btnFeedback()},openMenu:function(){var t=this;this.menuOpen=!this.menuOpen,setTimeout(function(){t.$refs.auto.$el.querySelector(".v-select__slot").click(),t.$refs.auto.$el.querySelector("input").focus()},600)},btnFeedback:function(){var t=this;this.playlistName="",this.btnCol="green",setTimeout(function(){t.menuOpen=!1,t.$emit("opened",!1),t.btnCol=""},420)},bind:function(){this.artistID&&this.$store.getters.auth_state&&this.$bindAsArray("subscribed",this.$DCFB.subscriptions.child(this.artistID))}},created:function(){this.$store.getters.auth_state&&this.$bindAsArray("items",this.$DCFB.playlists.orderByChild("name_lower"))}},ut=ct,dt=(i("2d50"),i("3a2f")),pt=i("99d9"),ht=i("169a"),mt=Object(m["a"])(ut,at,rt,!1,null,null,null);mt.options.__file="add-to-playlist.vue";var ft=mt.exports;mt.options.components=Object.assign({VListTileTitle:x["b"],VIcon:T["a"],VBtn:V["a"],VListTileAction:O["a"],VListTile:j["a"],VTooltip:dt["a"],VCardText:pt["b"],VListTileContent:x["a"],VAutocomplete:C["a"],VCardActions:pt["a"],VCard:B["a"],VDialog:ht["a"]},mt.options.components);var gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.inList?i("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.share(e)}}},[i("v-list-tile-title",[t._v("Copy to clipboard")]),i("v-list-tile-action",[i("v-btn",{attrs:{color:t.color,icon:""}},[i("v-icon",[t._v("share")])],1)],1)],1):i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.share(e)}},slot:"activator"},[i("v-icon",[t._v("share")])],1),i("span",[t._v("Share link")])],1)},vt=[],yt=i("8a7b"),bt={name:"ShareButton",props:{url:{type:String,default:""},song:{type:[Object,Array],default:function(){return[]}},inList:{type:Boolean,default:!1}},data:function(){return{color:""}},components:{"delete-button":yt["a"]},methods:{share:function(){var t=this;this.color="primary",this.$UTILS.share(this.url,this.song),setTimeout(function(){t.color=""},2e3)}}},wt=bt,_t=(i("ed43"),Object(m["a"])(wt,gt,vt,!1,null,null,null));_t.options.__file="share-button.vue";var kt=_t.exports;_t.options.components=Object.assign({VListTileTitle:x["b"],VIcon:T["a"],VBtn:V["a"],VListTileAction:O["a"],VListTile:j["a"],VTooltip:dt["a"]},_t.options.components);var xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.inList?i("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.download(e)}}},[i("v-list-tile-title",[t._v("Download")]),i("v-list-tile-action",[i("v-btn",{attrs:{color:t.color,icon:""}},[i("v-icon",{attrs:{color:"primary"===t.color?"white":""}},[t._v("file_download")])],1)],1)],1):i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.download(e)}},slot:"activator"},[i("v-icon",{attrs:{color:"primary"===t.color?"white":""}},[t._v("file_download")])],1),i("span",[t._v("Download")])],1)},Ct=[],St=(i("b54a"),{name:"DownloadButton",props:{links:{type:Array,default:function(){return[]}},inList:{type:Boolean,default:!1}},data:function(){return{color:""}},methods:{download:function(){var t=this;for(var e in this.color="primary",setTimeout(function(){t.color=""},2e3),this.links)this.$DCPlayer.getAudio(this.links[e].mp32,function(e){t.$UTILS.downloadLink(e)})}}}),It=St,$t=Object(m["a"])(It,xt,Ct,!1,null,null,null);$t.options.__file="download-button.vue";var Dt=$t.exports;$t.options.components=Object.assign({VListTileTitle:x["b"],VIcon:T["a"],VBtn:V["a"],VListTileAction:O["a"],VListTile:j["a"],VTooltip:dt["a"]},$t.options.components);var Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[t.lyrics?i("v-card-title",[i("a",{staticClass:"primary--background",attrs:{href:t.lyricsURL}},[t._v(t._s(t.lyricsURL))]),i("br"),i("div",{staticClass:"wordbreak preline"},[t._v(t._s(t.lyrics))])]):t.bLoading?i("v-card-title",[t._v("\n    "+t._s(t.loadingText+t.loadingTextAppend)+"\n  ")]):t.iTried?i("v-card-title",[t._v("\n    No lyrics available\n  ")]):i("v-card-title",{staticClass:"pointer",on:{click:function(e){t.getLyrics}}},[t._v("\n    Click to load lyrics\n  ")])],1)},Tt=[],Vt=(i("7514"),i("bc3a")),At=i.n(Vt),Lt={name:"Lyrics",props:{title:{type:String,default:""},artist:{type:String,default:""},getEm:{type:Boolean,default:!1}},watch:{title:{immediate:!0,handler:"reset"},getEm:{immediate:!0,handler:"getLyrics"}},data:function(){return{iTried:!1,lyricsServer:"https://dc-nodejs-backend-ogxsxzvffx.now.sh/api/v1",bLoading:!1,lyrics:"",lyricsURL:"",loadingTextAppend:"",loadingText:"Loading lyrics"}},computed:{query:function(){return this.title.replace(/Official Music Video/gi,"").replace(/Official Audio/gi,"").replace(/Official Video/gi,"").replace(/Music Video/gi,"").replace(/Audio/gi,"").replace(/Video/gi,"").replace(/ HD /gi,"").replace(/Lyrics/gi,"").replace(/[^\w ]/gi,"").toLowerCase()}},methods:{reset:function(){this.bLoading=!1,this.lyrics="",this.iTried=!1},animateText:function(){3===this.loadingTextAppend.length?this.loadingTextAppend="":this.loadingTextAppend+="."},fail:function(t){this.iTried=!0,this.bLoading=!1,clearInterval(t)},getLyrics:function(){var t=this;if(!this.lyrics){var e=this.title;this.bLoading=!0,this.lyrics="";var i=setInterval(this.animateText,500);At.a.get("https://api.alltomp3.org/v1/guess-track/".concat(encodeURIComponent(e))).then(function(s){e=s.data.title&&s.data.artistName?s.data.title+" "+s.data.artistName:t.query,e=e.toLowerCase(),At.a.get("".concat(t.lyricsServer,"/search/").concat(e)).then(function(s){if(s=s.data.data,s.length){var n=s.find(function(t){return e.indexOf(t.title.toLowerCase())>-1});if(n)At.a.get("".concat(t.lyricsServer,"/lyrics/").concat(n.id)).then(function(e){t.lyrics=e.data.data.lyrics,t.lyricsURL=e.data.data.url,clearInterval(i)}).catch(function(){t.fail(i)});else{var o=s.find(function(t){return e.indexOf(t.primary_artist.name.toLowerCase())>-1});if(o){var a=e.toLowerCase().replace(o.primary_artist.name.toLowerCase(),""),r=function e(s){At.a.get("".concat(t.lyricsServer,"/songsByArtist/").concat(o.primary_artist.id,"/").concat(s)).then(function(n){if(n=n.data.data,n.length){var o=n.find(function(t){return a.indexOf(t.title.replace(/[^\w ]/g,"").toLowerCase())>-1});o?At.a.get("".concat(t.lyricsServer,"/lyrics/").concat(o.id)).then(function(e){t.lyrics=e.data.data.lyrics,t.lyricsURL=e.data.data.url,t.bLoading=!1,clearInterval(i)}).catch(function(){}):t.bLoading?e(++s):t.fail(i)}else t.fail(i)}).catch(function(){t.fail(i)})};r(1)}else t.fail(i)}}else t.fail(i)}).catch(function(){t.fail(i)})})}}}},Ot=Lt,jt=(i("db74"),i("12b2")),Mt=Object(m["a"])(Ot,Pt,Tt,!1,null,null,null);Mt.options.__file="lyrics.vue";var Bt=Mt.exports;Mt.options.components=Object.assign({VCardTitle:jt["a"],VCard:B["a"]},Mt.options.components);var Rt={props:{song:{type:Object,default:function(){return[]}},index:{type:Number,default:0}},name:"CurrentPlaylistItem",components:{"add-to-playlist":ft,"download-button":Dt,lyrics:Bt,"share-button":kt},data:function(){return{show:!1,desc:this.song.description,youtubelink:"https://www.youtube.com/embed/".concat(this.song.trackID,"?autoplay=1&mute=1&controls=1&enablejsapi=1"),artistID:"#/a/".concat(this.song.source,"/").concat(encodeURIComponent(this.song.artist),"/").concat(this.song.artistID)}},watch:{show:"ifShowGetDesc"},methods:{dcTimeToSeconds:function(t){return t?t.replace(/\n/g,"<br>").replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"\n        <span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},ytTimeToSeconds:function(t){return t?t.replace(/\n/g,"<br>").replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"\n        <span class=\"underline pointer\" \n          onClick=\"\n            event.stopPropagation();\n            document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time);\n          \"\n        >\n          $&\n        </span>"):""},ifShowGetDesc:function(t){t&&"YouTube"===this.song.source&&this.getDesc()},getDesc:function(){var t=this;this.$DCAPI.getSongDescription(this.song.trackID,this.song.source,function(e){t.desc=e.items[0].snippet.description})},play:function(){0===this.index?this.$store.getters.isYT&&this.$store.getters.ytUseVideo?this.$store.getters.ytIsPlaying?this.$store.getters.ytObject.playVideo():this.$store.getters.ytObject.pauseVideo():this.$DCPlayer.togglePlay():this.$parent.$parent.play(this.index+this.$store.getters.index)}}},Ut=Rt,Ft=(i("01d6"),i("490a")),Et=i("adda"),Yt=i("0789"),Qt=Object(m["a"])(Ut,nt,ot,!1,null,null,null);Qt.options.__file="current-playlist-item.vue";var Nt=Qt.exports;Qt.options.components=Object.assign({VProgressCircular:Ft["a"],VLayout:a["a"],VImg:Et["a"],VFlex:K["a"],VIcon:T["a"],VBtn:V["a"],VTooltip:dt["a"],VCardActions:pt["a"],VCardText:pt["b"],VSlideYTransition:Yt["f"],VCard:B["a"]},Qt.options.components);var Ht=i("a1b2"),qt=i("e166"),Kt=i.n(qt),zt=i("2f62"),Wt={name:"CurrentPlaylist",data:function(){return{numberOfItems:5,infState:""}},watch:{hash:function(){this.numberOfItems=5,this.infState&&this.infState.reset()}},components:{"infinite-loading":Kt.a,jumbo:Ht["a"],"current-playlist-item":Nt},computed:Object(c["a"])({},Object(zt["b"])({hash:"hash"}),{aPlaylist:function(){return this.$store.getters.current_Playlist.slice(this.$store.getters.index,this.$store.getters.index+this.numberOfItems)}}),methods:{infiniteHandler:function(t){this.numberOfItems+=5;var e=Math.min(this.$store.getters.current_Playlist.length,this.$store.getters.index+this.numberOfItems);e===this.$store.getters.current_Playlist.length?t.complete():t.loaded(),this.infState=t},play:function(t){this.$store.commit("changeIndex",t),this.$DCPlayer.playIndex(t),this.$DCFB.historyPush(this.$store.getters.current_song)}}},Gt=Wt,Jt=(i("8808"),Object(m["a"])(Gt,it,st,!1,null,null,null));Jt.options.__file="current-playlist.vue";var Xt=Jt.exports;Jt.options.components=Object.assign({VLayout:a["a"],VCardTitle:jt["a"],VCard:B["a"],VFlex:K["a"],VProgressCircular:Ft["a"]},Jt.options.components);var Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-1"},[i("v-list",{staticClass:"pa-0",attrs:{dense:""}},[i("v-list-tile",{attrs:{to:{name:"historyRecommended",params:{user:t.UID}},ripple:"","active-class":"primary white--text"},on:{click:t.closeLeft}},[i("v-list-tile-action",[i("v-icon",[t._v("home")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Home")])],1)],1),i("v-list-tile",{attrs:{to:{name:"trending"},ripple:"","active-class":"primary white--text"},on:{click:t.closeLeft}},[i("v-list-tile-action",[i("v-icon",[t._v("whatshot")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Trending")])],1)],1),i("v-list-tile",{attrs:{to:{name:"explore"},"active-class":"primary white--text",ripple:""},on:{click:t.closeLeft}},[i("v-list-tile-action",[i("v-icon",[t._v("public")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Explore")])],1)],1),i("v-list-tile",{attrs:{to:{name:"subsAll",params:{user:t.UID}},"active-class":"primary white--text",ripple:""},on:{click:t.closeLeft}},[i("v-list-tile-action",[i("v-icon",[t._v("people")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Subscriptions")])],1)],1),i("v-list-tile",{staticClass:"history-link",attrs:{to:{name:"history",params:{user:t.UID}},ripple:"","active-class":"primary white--text"},on:{click:t.closeLeft}},[i("v-list-tile-action",[i("v-icon",[t._v("history")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("History")])],1),i("span",{staticClass:"delete"},[i("delete-button",{on:{delete:t.clearHistory}})],1)],1),i("v-list-tile",{attrs:{to:{path:"/settings"},ripple:"","active-class":"primary white--text"},on:{click:t.closeLeft}},[i("v-list-tile-action",[i("v-icon",[t._v("settings")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Settings")])],1)],1)],1),i("v-list",{staticClass:"pa-0",attrs:{dense:""}},[i("user-playlists",{on:{closeLeft:t.closeLeft}})],1),i("v-list",{staticClass:"pa-0",attrs:{dense:""}},[i("user-subscriptions",{on:{closeLeft:t.closeLeft}})],1)],1)},te=[],ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("v-subheader",{staticClass:"pointer",on:{click:function(e){t.closeLeftOnMobile(),t.$router.push({name:"playlistOverview",params:{user:t.uid}})}}},[i("div",[t._v("\n      Playlists\n    ")]),t.bUIShowMore?i("v-btn",{staticClass:"ar17",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[i("v-icon",[t._v(t._s(t.bShowMore?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1),t.playlists.length?i("v-list-tile",{attrs:{to:{name:"playlistsAll",params:{user:t.uid}},"active-class":"secondary white--text",ripple:""},on:{click:function(e){return e.stopPropagation(),t.closeLeftOnMobile(e)}}},[i("v-list-tile-action",[i("v-icon",[t._v("music_note")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("All")])],1)],1):t._e(),i("v-list-tile",{attrs:{ripple:""},on:{click:function(e){e.stopPropagation(),t.$refs.search.focus()}}},[i("v-list-tile-action",{on:{click:function(e){t.search.length>0&&(t.search="")}}},[i("v-icon",{attrs:{color:t.filterHasFocus?"primary":""}},[t._v(t._s(t.filterLeng>0?"clear":"filter_list"))])],1),i("v-list-tile-content",[i("v-text-field",{ref:"search",staticClass:"filter ma-0 pa-0",attrs:{color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.$store.getters.auth_state?i("v-data-iterator",{attrs:{items:t.playlists,search:t.search,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,"custom-filter":function(t,e,i){return e=e.toString().toLowerCase(),t.filter(function(t){return i(t["name_lower"],e)})},"hide-actions":"","no-data-text":"Add some playlists","no-results-text":"No matching playlists"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return i("v-list-tile",{key:e.item[".key"],class:t.isPlaying(t.uid,e.item[".key"],e.item["name"]),attrs:{id:"playlist","active-class":t.isPlaying(t.uid,e.item[".key"],e.item["name"])||"secondary white--text",to:{path:"/u/"+t.uid+"/"+e.item[".key"]+"/"+encodeURIComponent(e.item["name"])},ripple:""},on:{click:function(e){return e.stopPropagation(),t.closeLeftOnMobile(e)}}},[i("v-list-tile-action",[i("v-icon",{attrs:{color:t.isPlaying(t.uid,e.item[".key"],e.item["name"])?"white":""}},[t._v("music_note")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(e.item["name"]))])],1),i("span",{staticClass:"delete"},[i("delete-button",{attrs:{id:e.item[".key"]},on:{delete:t.playlistDelete}})],1)],1)}}])},[t.bUIShowMore?i("v-flex",{attrs:{slot:"footer"},slot:"footer"},[i("v-btn",{attrs:{small:"",block:"",color:"transparent"},on:{click:function(e){t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[t._v("\n        "+t._s(t.bShowMore?"SHOW LESS":"SHOW MORE")+"\n      ")])],1):t._e()],1):t._e()],1)},ie=[],se={name:"UserPlaylists",components:{"delete-button":yt["a"]},watch:{auth_state:{immediate:!0,handler:"bind"}},data:function(){return{playlists:[],bShowMore:!1,filterHasFocus:!1,search:"",active:!1,rowsPerPageItems:[7,{text:"All",value:-1}],pagination:{rowsPerPage:7}}},computed:Object(c["a"])({},Object(zt["b"])({auth_state:"auth_state",uid:"uid"}),{bUIShowMore:function(){return this.$store.getters.auth_state&&this.playlists.length>7},filterLeng:function(){return this.search.length>0}}),methods:{bind:function(){this.auth_state&&this.$bindAsArray("playlists",this.$DCFB.playlistsRefs.orderByChild("name_lower"))},isPlaying:function(t,e,i){return this.$store.getters.hash==="/u/"+t+"/"+e+"/"+encodeURIComponent(i)?"primary white--text":""},closeLeftOnMobile:function(){this.$emit("closeLeft")},playlistDelete:function(t){this.$DCFB.playlistDelete(t)}}},ne=se,oe=(i("10dd"),i("e0c7")),ae=i("2677"),re=i("c377"),le=Object(m["a"])(ne,ee,ie,!1,null,null,null);le.options.__file="user-playlists.vue";var ce=le.exports;le.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VSubheader:oe["a"],VListTileAction:O["a"],VListTileTitle:x["b"],VListTileContent:x["a"],VListTile:j["a"],VTextField:ae["a"],VFlex:K["a"],VDataIterator:re["a"],VList:M["a"]},le.options.components);var ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("v-subheader",{staticClass:"pointer",on:{click:function(e){t.closeLeftOnMobile(),t.$router.push({name:"userSubOverview",params:{user:t.uid}})}}},[t._v("\n    Subscriptions\n    "),t.bUIShowMore?i("v-btn",{staticClass:"ar17",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[i("v-icon",[t._v(t._s(t.bShowMore?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1),i("v-list-tile",{attrs:{ripple:""},on:{click:function(e){e.stopPropagation(),t.$refs.search.focus()}}},[i("v-list-tile-action",{on:{click:function(e){t.search.length>0&&(t.search="")}}},[i("v-icon",{attrs:{color:t.filterHasFocus?"primary":""}},[t._v(t._s(t.filterLeng>0?"clear":"filter_list"))])],1),i("v-list-tile-content",[i("v-text-field",{ref:"search",staticClass:"filter ma-0 pa-0",attrs:{color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.$store.getters.auth_state?i("v-data-iterator",{attrs:{items:t.subscriptions,search:t.search,"rows-per-page-items":t.rowsPerPageItems,"custom-filter":function(t,e,i){return e=e.toString().toLowerCase(),t.filter(function(t){return i(t["name_lower"],e)})},pagination:t.pagination,"hide-actions":"","no-data-text":"Subscribe to some people","no-results-text":"No matching subscriptions"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return i("v-list-tile",{key:e.item[".key"],class:t.isPlaying(e.item["source"],e.item["name"],e.item["id"]),attrs:{id:"subscription","active-class":t.isPlaying(e.item["source"],e.item["name"],e.item["id"])||"secondary white--text",to:{path:"/a/"+e.item["source"]+"/"+encodeURIComponent(e.item["name"])+"/"+e.item["id"]},ripple:""},on:{click:t.closeLeftOnMobile}},[i("v-list-tile-action",{attrs:{color:"green"}},[i("v-avatar",{attrs:{slot:"activator",size:"35px"},slot:"activator"},[i("img",{class:["sub-"+e.item["source"]],attrs:{src:e.item["img"]}})])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(e.item["name"]))])],1),i("delete-button",{staticClass:"delete",attrs:{id:e.item["id"]},on:{delete:t.subscriptionDelete}})],1)}}])},[t.bUIShowMore?i("v-flex",{attrs:{slot:"footer"},slot:"footer"},[i("v-btn",{attrs:{small:"",block:"",color:"transparent"},on:{click:function(e){t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[t._v("\n        "+t._s(t.bShowMore?"SHOW LESS":"SHOW MORE")+"\n      ")])],1):t._e()],1):t._e()],1)},de=[],pe={name:"UserPlaylists",components:{"delete-button":yt["a"]},data:function(){return{bShowMore:!0,filterHasFocus:!1,search:"",active:!1,rowsPerPageItems:[7,{text:"All",value:-1}],pagination:{rowsPerPage:-1}}},watch:{auth_state:{immediate:!0,handler:"bind"}},computed:Object(c["a"])({},Object(zt["b"])({auth_state:"auth_state",uid:"uid"}),{bUIShowMore:function(){return this.search.length>7},filterLeng:function(){return this.search.length>0}}),methods:{bind:function(){this.auth_state&&this.$bindAsArray("subscriptions",this.$DCFB.subscriptions.orderByChild("name_lower"))},isPlaying:function(t,e,i){return this.$store.getters.hash==="/a/"+t+"/"+encodeURIComponent(e)+"/"+i?"primary white--text":""},subscriptionDelete:function(t){this.$DCFB.subscriptionDelete(t)},closeLeftOnMobile:function(){this.$emit("closeLeft")}}},he=pe,me=(i("3260"),i("8212")),fe=Object(m["a"])(he,ue,de,!1,null,null,null);fe.options.__file="user-subscriptions.vue";var ge=fe.exports;fe.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VSubheader:oe["a"],VListTileAction:O["a"],VTextField:ae["a"],VListTileContent:x["a"],VListTile:j["a"],VFlex:K["a"],VAvatar:me["a"],VListTileTitle:x["b"],VDataIterator:re["a"],VList:M["a"]},fe.options.components);var ve={name:"Sidebar",components:{"user-playlists":ce,"user-subscriptions":ge,"delete-button":yt["a"]},data:function(){return{userDrawer:!1}},methods:{closeLeft:function(){this.$emit("closeLeft","left")},clearHistory:function(){this.$DCFB.historyClear()}},computed:{UID:function(){return this.$store.getters.uid},loginPath:function(){return"/"+this.loginText.toLowerCase()},loginText:function(){return this.loggedIn?"User":"Login"},loggedIn:function(){return this.$store.getters.auth_state}},mounted:function(){}},ye=ve,be=(i("6a69"),Object(m["a"])(ye,Zt,te,!1,null,null,null));be.options.__file="sidebar.vue";var we=be.exports;be.options.components=Object.assign({VIcon:T["a"],VListTileAction:O["a"],VListTileTitle:x["b"],VListTileContent:x["a"],VListTile:j["a"],VList:M["a"]},be.options.components);var _e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return-1!==t.$store.getters.index?i("v-flex",{attrs:{"d-flex":"",xs12:""}},[i("video-stage"),i("audio-stage")],1):i("jumbo",{attrs:{discover:!1,error:"Nothing playing",subheading:"Try searching for your favourite song or artist"}})},ke=[],xe={name:"Stage",components:{jumbo:Ht["a"]}},Ce=xe,Se=Object(m["a"])(Ce,_e,ke,!1,null,null,null);Se.options.__file="stage.vue";var Ie=Se.exports;Se.options.components=Object.assign({VFlex:K["a"]},Se.options.components);var $e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"?"},[t.$store.getters.auth_state?i("v-bottom-nav",{attrs:{value:!0,absolute:"",color:"transparent"}},[i("v-btn",{attrs:{to:{name:"historyRecommended",params:{user:t.UID}},color:"primary",flat:"",value:"home"}},[i("span",[t._v("Home")]),i("v-icon",[t._v("home")])],1),i("v-btn",{attrs:{to:{name:"subsAll",params:{user:t.UID}},color:"primary",flat:"",value:"subsAll"}},[i("span",[t._v("Latest")]),i("v-icon",[t._v("whatshot")])],1),i("v-btn",{attrs:{to:{name:"stage"},color:"primary",flat:"",value:"stage"}},[i("span",[t._v("Current")]),i("v-icon",[t._v("music_video")])],1),i("v-btn",{attrs:{to:{name:"playlistOverview",params:{user:t.UID}},color:"primary",flat:"",value:"playlistOverview"}},[i("span",[t._v("Playlists")]),i("v-icon",[t._v("library_music")])],1),i("v-btn",{attrs:{to:{name:"userSubOverview",params:{user:t.UID}},color:"primary",flat:"",value:"userSubOverview"}},[i("span",[t._v("Following")]),i("v-icon",[t._v("people")])],1),i("v-btn",{attrs:{to:{name:"settings"},color:"primary",flat:"",value:"settings"}},[i("span",[t._v("Settings")]),i("v-icon",[t._v("settings")])],1)],1):t._e()],1)},De=[],Pe={name:"x",data:function(){return{e2:3}},components:{"delete-button":yt["a"]},methods:{x2:function(){}},computed:{UID:function(){return this.$DCFB.UID}}},Te=Pe,Ve=(i("f86f"),i("887a")),Ae=Object(m["a"])(Te,$e,De,!1,null,null,null);Ae.options.__file="mobileFooter.vue";var Le=Ae.exports;Ae.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VBottomNav:Ve["a"]},Ae.options.components);var Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",t._b({staticClass:"scrollToTop primary",class:t.$store.getters.textColor,attrs:{fixed:"",outline:"",icon:""},on:{click:t.scrollToTop}},"v-btn",t.$store.getters.theme,!1),[i("v-icon",[t._v(t._s(t.showScrollToTop?"keyboard_arrow_up":"keyboard_arrow_down"))])],1)},je=[],Me={name:"ScrollToTop",data:function(){return{showScrollToTop:!1,lastScrollTop:""}},methods:{scrollToTop:function(){this.showScrollToTop?window.scrollTo(0,0):window.scrollTo(0,document.body.scrollHeight)},handleScroll:function(){var t=document.documentElement,e=t.scrollTop+window.innerHeight,i=t.offsetHeight;e===i?this.showScrollToTop=!0:0===t.scrollTop?this.showScrollToTop=!1:this.lastScrollTop<t.scrollTop?this.showScrollToTop=!1:this.showScrollToTop=!0,this.lastScrollTop=t.scrollTop}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},Be=Me,Re=(i("999c"),Object(m["a"])(Be,Oe,je,!1,null,null,null));Re.options.__file="scroll-to-top.vue";var Ue=Re.exports;Re.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"]},Re.options.components);var Fe={name:"App",data:function(){return{snackbar:!1,swReg:"",refreshing:!1}},components:{hks:g,search:F,"dc-audio":W,"dc-youtube":et,sidebar:we,"current-playlist":Xt,stage:Ie,"scroll-to-top":Ue,mobileFooter:Le},methods:{leftTog:function(){this.$store.commit("drawLeftTog")},rightTog:function(){this.$store.commit("drawRightTog")},closeLeft:function(){this.$UTILS.isMobile&&(this.drawLeft=!1)},listenForWaitingServiceWorker:function(t,e){function i(){t.installing.addEventListener("statechange",function(){"installed"===this.state&&e(t)})}if(t){if(t.waiting)return e(t);t.installing&&i(),t.addEventListener("updatefound",i)}}},computed:Object(c["a"])({},Object(zt["b"])({uid:"uid",blackClass:"blackClass",isYT:"isYT",ytUseVideo:"ytUseVideo",bShowStage:"bShowStage",theme:"theme",loadValue:"loadValue",loadActive:"loadActive",ytFullScreen:"ytFullScreen"}),{footStyle:function(){return{height:(this.currentActive&&this.bMobi?"128px":"56px")+" !important"}},bMobi:function(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name},textClass:function(){return(this.$store.getters.nightMode?"white":"black")+"--text noDeco pointer hidden-sm-and-down"},currentActive:function(){return"stage"===this.$route.name},drawRight:{get:function(){return this.$store.getters.drawRight},set:function(t){this.$store.commit("drawRight",t)}},drawLeft:{get:function(){return this.$store.getters.drawLeft},set:function(t){this.$store.commit("drawLeft",t)}}}),beforeCreate:function(){var t=this;navigator.serviceWorker.addEventListener("controllerchange",function(){t.refreshing||(t.refreshing=!0,window.location.reload())}),navigator.serviceWorker.getRegistration().then(function(e){t.swReg=e,t.listenForWaitingServiceWorker(t.swReg,function(){t.snackbar=!0})}),this.$vuetify.theme.primary="#009688",this.$store.commit("ytUseVideo",!this.bMobi),this.$DCFB.fb.auth().onAuthStateChanged(function(e){t.$store.commit("authChange",!1),t.$nextTick(function(){t.$store.commit("authChange",!!e),e?t.$store.commit("setUser",e):t.$DCFB.fb.auth().signInAnonymously(),t.$DCFB.init(e.uid),e.isAnonymous&&!t.$route.name?t.$router.push({name:"about"}):t.$route.name||t.$router.push({name:"historyRecommended",user:t.uid}),t.$DCFB.settings.once("value",function(e){null!==e.val()&&t.$store.commit("settings",e.val())})})})}},Ee=Fe,Ye=(i("034f"),i("2db4")),Qe=i("f774"),Ne=i("8e36"),He=i("706c"),qe=i("9910"),Ke=i("71d9"),ze=i("a523"),We=i("549c"),Ge=i("553a"),Je=i("7496"),Xe=Object(m["a"])(Ee,r,l,!1,null,null,null);Xe.options.__file="App.vue";var Ze=Xe.exports;Xe.options.components=Object.assign({VBtn:V["a"],VSnackbar:Ye["a"],VNavigationDrawer:Qe["a"],VProgressLinear:Ne["a"],VToolbarSideIcon:He["a"],VToolbarTitle:A["b"],VSpacer:qe["a"],VIcon:T["a"],VToolbar:Ke["a"],VFlex:K["a"],VLayout:a["a"],VContainer:ze["a"],VContent:We["a"],VFooter:Ge["a"],VApp:Je["a"]},Xe.options.components);var ti={state:{user:"",drawLeft:!1,drawRight:!1,view_mode:!1,auth_state:!1,bShowStage:!0,isMobile:!1,settings:{"Night Mode":!1,"List Small":!1,"Show Video":!0,Black:!1,Video:!0}},mutations:{settings:function(t,e){t.settings=e},drawLeft:function(t,e){t.drawLeft=e},drawRight:function(t,e){t.drawRight=e},drawRightTog:function(t){t.drawRight=!t.drawRight},drawLeftTog:function(t){t.drawLeft=!t.drawLeft},view_mode_toggle:function(t){t.view_mode=!t.view_mode},bShowStage:function(t,e){t.bShowStage=e},ytVideo:function(t,e){t.settings["Video"]=Boolean(e)},setUser:function(t,e){t.user=e},authChange:function(t,e){t.auth_state=e},changeSetting:function(t,e){t.settings[e.setting]=e.value},toggleStage:function(t){t.bShowStage=!t.bShowStage,t.bShowStage?li.push({name:"stage"}):li.go(-1)}},getters:{showVideo:function(t){return Boolean(t.settings["Show Video"])},listViewSmall:function(t){return Boolean(t.settings["List Small"])},black:function(t){return Boolean(t.settings["Black"])},blackClass:function(t){return t.settings["Black"]?"theme-jet-black":""},isAnon:function(t){return t.user.isAnonymous},getUser:function(t){return t.user},uid:function(t){return t.user.uid},drawRight:function(t){return t.drawRight},drawLeft:function(t){return t.drawLeft},view_mode:function(t){return t.view_mode},bShowStage:function(t){return t.bShowStage},auth_state:function(t){return t.auth_state},ytVideo:function(t){return Boolean(t.settings["Video"])},nightMode:function(t){return Boolean(t.settings["Night Mode"])},textColor:function(t){return t.settings["Night Mode"]?"white--text":"black--text"},theme:function(t){return t.settings["Night Mode"]?{dark:!0}:{light:!0}}}},ei={state:{current_Playlist:[],current_Index:-1,current_Hash:""},mutations:{setNPlay:function(t,e){t.current_Playlist=e.songs,t.current_Index=e.current,t.current_Hash=e.path},changeIndex:function(t,e){t.current_Index=e}},getters:{current_Playlist:function(t){return t.current_Playlist},index:function(t){return t.current_Index},hash:function(t){return t.current_Hash},current_trackID:function(t,e){return e.index>-1?e.current_Playlist[e.index].trackID:""},current_source:function(t,e){return e.index>-1?e.current_Playlist[e.index].source:""},current_song:function(t,e){return e.index>-1?e.current_Playlist[e.index]:""}}},ii={state:{ytUseVideo:!0,ytSwitchTime:!1,ytObject:[],ytDuration:0,ytCurrentTime:0,ytState:{data:-1,target:{getCurrentTime:function(){return""},getDuration:function(){return""},pauseVideo:function(){return""},playVideo:function(){return""}}}},mutations:{ytSwitchTime:function(t,e){t.ytSwitchTime=e},ytUseVideo:function(t,e){t.ytUseVideo=e},ytObject:function(t,e){t.ytObject=e},ytState:function(t,e){t.ytState=e},ytDuration:function(t,e){t.ytDuration=e},ytCurrentTime:function(t,e){t.ytCurrentTime=e},ytStopVideo:function(t){1===t.ytState&&"function"===typeof t.ytObject.stopVideo&&t.ytObject.stopVideo()},ytToggleVideo:function(t){t.ytUseVideo=t.ytUseVideo=!t.ytUseVideo}},getters:{ytUseVideo:function(t){return t.ytUseVideo},ytObject:function(t){return t.ytObject},ytState:function(t){return t.ytState},ytDuration:function(t){return t.ytDuration},ytCurrentTime:function(t){return t.ytCurrentTime},ytIsPlaying:function(t){return 1===t.ytState},ytIsPaused:function(t){return 2===t.ytState},isYT:function(t,e){return"YouTube"===e.current_source}}},si={state:{loadValue:0,loadIndeterm:!1,loadActive:!1},mutations:{loadActive:function(t,e){t.loadActive=e},loadValue:function(t,e){t.loadValue=e},loadIndeterm:function(t,e){t.loadIndeterm=e}},getters:{loadActive:function(t){return t.loadActive},loadValue:function(t){return t.loadValue},loadIndeterm:function(t){return t.loadIndeterm}},actions:{loadIndeterm:function(t,e){if(e){var i=function(){t.commit("loadIndeterm",e),t.getters.loadActive||0!==t.getters.loadValue||t.commit("loadActive",!0);var i=setInterval(function(){t.getters.loadValue<88&&t.getters.loadIndeterm?t.commit("loadValue",t.getters.loadValue+1):clearInterval(i)},12)};t.getters.loadIndeterm&&e?(t.commit("loadValue",0),setTimeout(function(){i()},420)):i()}else t.getters.loadIndeterm||e?(t.commit("loadIndeterm",e),t.commit("loadValue",100),setTimeout(function(){t.commit("loadActive",!1),setTimeout(function(){t.getters.loadIndeterm||t.commit("loadValue",0)},250)},600)):t.commit("loadValue",0)}}};s["a"].use(zt["a"]);var ni=new zt["a"].Store({modules:{user:ti,player:ei,loading:si,youtube:ii}}),oi=ni,ai=i("8c4f");s["a"].use(ai["a"]);var ri=new ai["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/password-reset",name:"password-reset",component:function(){return i.e("password").then(i.bind(null,"694d"))}},{path:"/login",name:"login",component:function(){return i.e("login").then(i.bind(null,"28c5"))}},{path:"/sign-up",name:"signUp",component:function(){return i.e("signUp").then(i.bind(null,"5274"))}},{path:"/u/:user/overview",name:"userOverview",component:function(){return i.e("user").then(i.bind(null,"5c64"))},props:!0},{path:"/explore",name:"explore",component:function(){return i.e("genre").then(i.bind(null,"1f62"))}},{path:"/",redirect:"/about"},{path:"/settings",name:"settings",component:function(){return i.e("settings").then(i.bind(null,"a71d"))}},{path:"/s/:source/:query",name:"searchPage",component:function(){return i.e("searchpage").then(i.bind(null,"9c4f"))},props:!0},{path:"/a/:source/:artist/:artistID/",name:"artist",component:function(){return i.e("artist").then(i.bind(null,"fd68"))},props:!0},{path:"/current",name:"stage",component:function(){return i.e("stage").then(i.bind(null,"bcd0"))},props:!0},{path:"/t/:source/:artist/:trackID",name:"song",component:function(){return i.e("song").then(i.bind(null,"b198"))},props:!0},{path:"/trending",name:"trending",component:function(){return i.e("trending").then(i.bind(null,"e8f3"))}},{path:"/u/:user/subscriptions",name:"userSubOverview",component:function(){return i.e("userSubOverview").then(i.bind(null,"ff29"))},props:!0},{path:"/u/:user/subscriptions-all",name:"subsAll",component:function(){return i.e("subsAll").then(i.bind(null,"d33b"))},props:!0},{path:"/u/:user/playlists-all",name:"playlistsAll",component:function(){return i.e("playlistsAll").then(i.bind(null,"c434"))},props:!0},{path:"/u/:user/:playlist/:name",name:"userPlaylist",component:function(){return i.e("userPlaylist").then(i.bind(null,"7fa6"))},props:!0},{path:"/p/:title/:source/:artistID/:listID/",name:"channelPlaylist",component:function(){return i.e("channelPlaylist").then(i.bind(null,"b1c9"))},props:!0},{path:"/tos",name:"tos",component:function(){return i.e("tos").then(i.bind(null,"9e97"))},props:!0},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"cced"))}},{path:"/about2",name:"about2",component:function(){return i.e("about").then(i.bind(null,"5df1"))}},{path:"/u/:user/history",name:"history",component:function(){return i.e("history").then(i.bind(null,"08fc"))},props:!0},{path:"/u/:user/playlist-overview",name:"playlistOverview",component:function(){return i.e("playlistOverview").then(i.bind(null,"8d8d"))},props:!0},{path:"/u/:user/home",name:"historyRecommended",component:function(){return i.e("historyRecommended").then(i.bind(null,"be63"))},props:!0}]});ri.beforeEach(function(t,e,i){oi.getters.isMobile&&(oi.getters.drawLeft||oi.getters.drawRight)?(oi.commit("drawLeft",!1),oi.commit("drawRight",!1),i(!1)):oi.getters.bShowStage&&"stage"!==t.name?(oi.commit("bShowStage",!1),i()):i()});var li=ri,ci=i("283e"),ui=i.n(ci),di={install:function(t){var e={isMobile:window.matchMedia("only screen and (max-width: 599px)").matches,isOnline:function(){return window.navigator.onLine},setLoc:function(t,e){return localStorage.setItem(t,e)},getLoc:function(t){return localStorage.getItem(t)},copyToClipboard:function(t){var e=document.createElement("input");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),e.remove()},uniqueArray:function(t){for(var e=[],i=!1,s=0;s<t.length-1;s++){i=!1;for(var n=0;n<e.length-1;n++)if("undefined"===typeof t[s]||e[n].trackID===t[s].trackID){i=!0;break}i||e.push(t[s])}return e},closeSoftMobi:function(){this.isMobile&&document.activeElement.blur()},downloadLink:function(t){var e=document.createElement("iframe");e.style.display="none",e.id=e.name=t,e.src=t,document.body.appendChild(e)},share:function(t,i){e.isMobile?navigator.share?navigator.share({title:i.title,text:i.mp32,url:t}):e.downloadLink("whatsapp://send?text=".concat(encodeURIComponent(t))):e.copyToClipboard(encodeURI(t))},formatBytes:function(t,e){if(0===t)return"0 Bytes";var i=1024,s=e||2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(i));return"".concat(parseFloat((t/Math.pow(i,o)).toFixed(s))," ").concat(n[o])},isFullscreen:function(){return!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement},toggleFullscreen:function(t){var i=function(){var t=!1;document.querySelector("body").style.cursor="auto",t||setTimeout(function(){t=!0,document.querySelector("body").style.cursor="none"},500)};if(e.isFullscreen()){var s=document.getElementById(t);s.requestFullscreen?s.requestFullscreen():s.msRequestFullscreen?s.msRequestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen&&s.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);var n=function(){e.isFullscreen()&&(document.querySelector("#app").removeEventListener("mousemove",i),document.querySelector("#app").style.cursor="auto")};document.querySelector("#app").style.cursor="none",document.querySelector("#app").addEventListener("mousemove",i),document.addEventListener("fullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("MSFullscreenChange",n)}else document.querySelector("#app").removeEventListener("mousemove",i),document.querySelector("#app").style.cursor="auto",document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};Object.defineProperty(t.prototype,"$UTILS",{value:e})}},pi=(i("4917"),i("f386"),i("c665")),hi=i("aa9a"),mi=function(){function t(){Object(pi["a"])(this,t),this.bcBase="https://dc-nodejs-backend-ftjhiqutmh.now.sh/",this.sYtKey="AIzaSyAEHNLb3uQonIYJKlTRANrQEXqjptYAUhg",this.sScKey="***REMOVED***",this.sVimeoKey="***REMOVED***",this.YTnextPageTokenString=0,this.YTCommentNext=0,this.nextPageToken=0,this.SCnextPageToken=0,this.aQuery=[]}return Object(hi["a"])(t,[{key:"searchInt",value:function(t,e,i,s,n,o){var a=this,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50;if(!o||"bandcamp"!==i[0].toLowerCase()){e||(this.SCnextPageToken="",this.nextPageToken="",this.YTnextPageTokenString="");var l=this.genUID();for(var c in this.aQuery[l]={aAjax:[],aResult:[],sToken:0,hCallback:n,iLimit:r,sQuery:t,sArtist:s,bRelated:o,iPage:e},i="all"===i[0].toLowerCase()?["mixcloud","soundcloud","youtube","vimeo"]:i,i)this.aQuery[l].aAjax.push(this.search(i[c],l));return At.a.all(this.aQuery[l].aAjax).then(function(){a.aQuery[l].hCallback(a.aQuery[l].aResult),delete a.aQuery[l]})}}},{key:"search",value:function(t,e){switch(t.toLowerCase()){case"bandcamp":return this.bc(e);case"mixcloud":return this.mc(e);case"soundcloud":return this.sc(e);case"youtube":return this.yt(e);case"vimeo":return this.vim(e);default:console.log("!source",t);break}}},{key:"bc",value:function(t){var e=this;if(this.aQuery[t].bRelated)return Promise.resolve();if(!this.aQuery[t].iPage||!this.aQuery[t].sArtist){var i=this.aQuery[t].sArtist?this.bcBase+"api/v2/getartist/".concat(encodeURIComponent(atob(this.aQuery[t].sArtist)),"/"):this.bcBase+"api/v2/albumswithtag/".concat(this.aQuery[t].sQuery,"/").concat(this.aQuery[t].iPage+1);return At.a.get(i).then(function(i){for(var s in i=i.data,i)e.pushResult(t,i[s].artist,btoa(i[s].artistID),i[s].created,"",e.secondstominutes(i[s].duration),"https://dream.tribe.nu/r3/off/?q="+i[s].mp32,i[s].mp32,i[s].poster,i[s].poster,"Bandcamp",i[s].title,i[s].mp32)})}}},{key:"mc",value:function(t){var e,i=this;return this.aQuery[t].bRelated?Promise.resolve():(e=""!==this.aQuery[t].sArtist?"https://api.mixcloud.com/"+this.aQuery[t].sArtist+"/cloudcasts/?limit="+this.aQuery[t].iLimit+"&offset="+this.aQuery[t].iLimit*(this.aQuery[t].iPage>0?this.aQuery[t].iPage:0):"https://api.mixcloud.com/search/?type=cloudcast&limit="+this.aQuery[t].iLimit+"&q="+this.aQuery[t].sQuery+"&offset="+this.aQuery[t].iLimit*this.aQuery[t].iPage,At.a.get(e).then(function(e){for(var s in e=e.data.data,e)i.pushResult(t,e[s].user.name,e[s].user.username,i.parseDate(e[s].created_time),"",i.secondstominutes(e[s].audio_length),"https://dream.tribe.nu/r3/off/?q="+e[s].url,e[s].url,e[s].pictures.large,e[s].pictures.extra_large,"MixCloud",e[s].name,encodeURIComponent(e[s].key))}))}},{key:"sc",value:function(t){var e,i=this;if(e=this.aQuery[t].bRelated?"https://api.soundcloud.com/tracks/"+this.aQuery[t].sArtist+"/related?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:this.aQuery[t].sArtist?"https://api.soundcloud.com/users/"+this.aQuery[t].sArtist+"/tracks.json?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:"https://api.soundcloud.com/tracks.json?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&q="+encodeURIComponent(this.aQuery[t].sQuery)+"&client_id="+this.sScKey,this.SCnextPageToken)e=this.SCnextPageToken;else if(!this.SCnextPageToken&&this.aQuery[t].iPage>0)return Promise.resolve();return new Promise(function(s){At.a.get(e).then(function(e){var n,o;for(var a in e.data.next_href?(i.SCnextPageToken=e.data.next_href,i.SCnextPageToken=e.data.next_href):i.SCnextPageToken=0,e=e.data.collection,e)!e[a].artwork_url&&e[a].user.avatar_url?(n=e[a].user.avatar_url.replace("i1","i2").replace("-large","-t300x300"),o=e[a].user.avatar_url.replace("-large","-t500x500")):e[a].user.avatar_url||e[a].user.avatar_url?(n=e[a].artwork_url.replace("i1","i2").replace("-large","-t300x300"),o=e[a].artwork_url.replace("-large","-t500x500")):n=o="./img/icons/no-image.png",i.pushResult(t,e[a].user.username,e[a].user_id,i.parseDate(e[a].created_at),e[a].description,i.secondstominutes(Math.floor(e[a].duration/1e3)),e[a].stream_url+"?client_id="+i.sScKey,e[a].permalink_url,n,o,"SoundCloud",e[a].title,e[a].id);i.aQuery[t].aResult.length<i.aQuery[t].iLimit&&i.SCnextPageToken?i.sc(t).then(function(){i.aQuery[t].aResult=i.uniqueArray(i.aQuery[t].aResult),s()}).catch(function(){s()}):(i.aQuery[t].aResult=i.uniqueArray(i.aQuery[t].aResult),s())}).catch(function(){s()})})}},{key:"yt",value:function(t){var e,i=this;if(this.YTnextPageTokenString=this.nextPageToken?"&pageToken="+this.nextPageToken:"",this.YTnextPageTokenString||!(this.aQuery[t].iPage>1))return e=this.aQuery[t].bRelated?"https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=".concat(this.aQuery[t].iLimit,"&relatedToVideoId=").concat(this.aQuery[t].sArtist,"&type=video&key=").concat(this.sYtKey):""===this.aQuery[t].sArtist?"https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=".concat(this.aQuery[t].iLimit,"&type=video&q=").concat(this.aQuery[t].sQuery,"&key=").concat(this.sYtKey).concat(this.YTnextPageTokenString):"https://www.googleapis.com/youtube/v3/search?part=snippet&order=date&maxResults=".concat(this.aQuery[t].iLimit,"&type=video&channelId=").concat(this.aQuery[t].sArtist,"&key=").concat(this.sYtKey).concat(this.YTnextPageTokenString),new Promise(function(s,n){At.a.get(e).then(function(e){try{i.nextPageToken=e.data.nextPageToken,e=e.data.items;var n=[];for(var o in e)n.push(e[o].id.videoId);n.length&&At.a.get("https://www.googleapis.com/youtube/v3/videos?id=".concat(n.join(","),"&part=contentDetails&key=").concat(i.sYtKey)).then(function(n){var o=[];for(var a in n.data.items)o[n.data.items[a].id]=i.timeHMS(n.data.items[a].contentDetails.duration);for(var a in e)i.aQuery[t].aResult.push({artist:e[a].snippet.channelTitle,artistID:e[a].snippet.channelId,uploaded:i.parseDate(e[a].snippet.publishedAt),description:e[a].snippet.description,duration:o[e[a].id.videoId],mp3:"https://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v=".concat(e[a].id.videoId),mp32:"https://www.youtube.com/watch?v=".concat(e[a].id.videoId),poster:e[a].snippet.thumbnails.medium.url,posterLarge:e[a].snippet.thumbnails.high.url,source:"YouTube",title:e[a].snippet.title,trackID:e[a].id.videoId});s()}).catch(function(t){})}catch(t){return void(i.YTnextPageToken="")}})})}},{key:"vim",value:function(t){var e,i=this;return this.aQuery[t].bRelated?Promise.resolve():(e="undefined"!==this.aQuery[t].sArtist?"https://api.vimeo.com/videos?page="+(this.aQuery[t].iPage+1)+"&per_page=12&query="+this.aQuery[t].sQuery+"&sort=relevant&access_token="+this.sVimeoKey:"https://api.vimeo.com/users/"+this.aQuery[t].sArtist+"/videos?page="+(this.aQuery[t].iPage+1)+"&per_page=12&sort=date&access_token="+this.sVimeoKey,At.a.get(e).then(function(e){if(e=e.data.data,e.length)for(var s in e)console.log(e[s]),i.pushResult(t,e[s].user.name,e[s].user.uri.replace(/\/users\/(.*?)/gi,"user"),i.parseDate(e[s].user.created_time),e[s].description,i.secondstominutes(e[s].duration),"https://dream.tribe.nu/r3/off/?q="+e[s].link,e[s].link,e[s].pictures.sizes[2].link,e[s].pictures.sizes[e[s].pictures.sizes.length-1].link,"vimeo",e[s].name,e[s].link)}))}},{key:"genUID",value:function(){return Math.random()}},{key:"getTrendingSC",value:function(t){var e=this;return new Promise(function(t,i){At.a.get("https://cors.io/?https://api-v2.soundcloud.com/charts?kind=top&genre=soundcloud%3Agenres%3Aall-music&high_tier_only=false&client_id=".concat(e.sScKey,"&limit=50&offset=0")).then(function(i){var s={nextPage:"",data:i.data.collection.map(function(t){var i,s;return!t.track.artwork_url&&t.track.user.avatar_url?(i=t.track.user.avatar_url.replace("i1","i2").replace("-large","-t300x300"),s=t.track.user.avatar_url.replace("-large","-t500x500")):t.track.user.avatar_url||t.track.user.avatar_url?(i=t.track.artwork_url.replace("i1","i2").replace("-large","-t300x300"),s=t.track.artwork_url.replace("-large","-t500x500")):i=s="./img/icons/no-image.png",{artist:t.track.user.username,artistID:t.track.user_id,uploaded:e.parseDate(t.track.created_at),description:t.track.description,duration:e.secondstominutes(Math.floor(t.track.duration/1e3)),mp3:t.track.stream_url+"?client_id="+e.sScKey,mp32:t.track.permalink_url,poster:i,posterLarge:s,source:"SoundCloud",title:t.track.title,trackID:t.track.id}})};t(s)}).catch(function(t){console.log(t),i()})})}},{key:"getTrendingYT",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(i,s){At.a.get("https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&pageToken=".concat(e,"&videoCategoryId=10&chart=mostPopular&regionCode=SE&maxResults=50&key=").concat(t.sYtKey)).then(function(e){var s={nextPage:e.data.nextPageToken,data:e.data.items.map(function(e){return{duration:t.timeHMS(e.contentDetails.duration),title:e.snippet.title,poster:e.snippet.thumbnails.medium.url,posterLarge:e.snippet.thumbnails.high.url,description:e.snippet.description,trackID:e.id,uploaded:t.parseDate(e.snippet.publishedAt),artist:e.snippet.channelTitle,artistID:e.snippet.channelId,source:"YouTube"}})};i(s)}).catch(function(t){console.log(t),s()})})}},{key:"getChannelPlaylists",value:function(t,e,i,s,n){var o=this;this.genUID();if(e.toLowerCase().indexOf("soundcloud")>-1)At.a.get("https://api.soundcloud.com/users/".concat(t,"/playlists?client_id=").concat(this.sScKey)).then(function(i){var s="",o={data:i.data.map(function(i){return i.tracks.length>0&&i.tracks[0].artwork_url?s=i.tracks[0].artwork_url.replace("-large","-t500x500"):i.tracks.length>1&&i.tracks[1].artwork_url?s=i.tracks[1].artwork_url.replace("-large","-t500x500"):i.tracks.length>2&&i.tracks[2].artwork_url?s=i.tracks[2].artwork_url.replace("-large","-t500x500"):i.tracks.length>3&&i.tracks[3].artwork_url?s=i.tracks[3].artwork_url.replace("-large","-t500x500"):i.tracks.length>4&&i.tracks[4].artwork_url?s=i.tracks[4].artwork_url.replace("-large","-t500x500"):i.tracks.length>5&&i.tracks[5].artwork_url&&(s=i.tracks[5].artwork_url.replace("-large","-t500x500")),{title:i.title,numberOfSongs:i.tracks.length,img:s,description:i.description,listID:i.id,uploaded:i.id,artist:i.user.username,artistID:t,source:e}})};n(o)});else if(e.toLowerCase().indexOf("youtube")>-1)return At.a.get("https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&pageToken=".concat(s,"&channelId=").concat(t,"&maxResults=").concat(i,"&key=").concat(this.sYtKey)).then(function(i){var s={nextPage:i.data.nextPageToken,data:i.data.items.map(function(i){return{title:i.snippet.title,numberOfSongs:i.contentDetails.itemCount,img:i.snippet.thumbnails.high.url,description:i.snippet.description,listID:i.id,uploaded:o.parseDate(i.snippet.publishedAt),artist:i.snippet.channelTitle,artistID:t,source:e}})};n(s)})}},{key:"getChannelSubscriptions",value:function(t,e,i,s,n){var o=this;if(e.toLowerCase().indexOf("soundcloud")>-1){var a=s||"https://api.soundcloud.com/users/".concat(t,"/followings?client_id=").concat(this.sScKey);At.a.get(a).then(function(t){var i={nextPage:t.data.next_href,data:t.data.collection.map(function(t){return{numberOfSongs:t.track_count,img:t.avatar_url.replace("large","t500x500"),description:t.description,uploaded:o.parseDate(t.last_modified),artist:t.username,artistID:t.id,source:e}})};n(i)}).catch(function(){})}else if(e.toLowerCase().indexOf("youtube")>-1)return At.a.get("https://www.googleapis.com/youtube/v3/subscriptions?part=snippet,contentDetails&pageToken=".concat(s,"&channelId=").concat(t,"&maxResults=").concat(i,"&key=").concat(this.sYtKey)).then(function(t){var i={nextPage:t.data.nextPageToken,data:t.data.items.map(function(t){return{numberOfSongs:t.contentDetails.totalItemCount,newItemCount:t.contentDetails.newItemCount,img:t.snippet.thumbnails.high.url,description:t.snippet.description,uploaded:o.parseDate(t.snippet.publishedAt),artist:t.snippet.title,artistID:t.snippet.resourceId.channelId,source:e}})};n(i)}).catch(function(){})}},{key:"getChannelPlaylistItems",value:function(t,e,i,s,n){var o=this;this.genUID();return e.toLowerCase().indexOf("soundcloud")>-1?At.a.get("https://api.soundcloud.com/playlists/".concat(t,"?client_id=").concat(this.sScKey)).then(function(t){var e={nextPage:"",data:t.data.tracks.map(function(t){var e,i;return t.artwork_url&&(e=t.artwork_url.replace("i1","i2").replace("-large","-t300x300"),i=t.artwork_url.replace("-large","-t500x500")),{artist:t.user.username,artistID:t.user_id,uploaded:o.parseDate(t.created_at),description:t.description,duration:o.secondstominutes(Math.floor(t.duration/1e3)),mp3:t.stream_url+"?client_id="+o.sScKey,mp32:t.permalink_url,poster:e,posterLarge:i,source:"SoundCloud",title:t.title,trackID:t.id}})};n(e)}):e.toLowerCase().indexOf("youtube")>-1?At.a.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&playlistId=".concat(t,"&pageToken=").concat(s,"&maxResults=").concat(i,"&key=").concat(this.sYtKey)).then(function(t){var e=t.data.items.map(function(t){return t.contentDetails.videoId}).join(",");At.a.get("https://www.googleapis.com/youtube/v3/videos?id=".concat(e,"&part=contentDetails&key=").concat(o.sYtKey)).then(function(e){var i=[];for(var s in e.data.items)i[e.data.items[s].id]=o.timeHMS(e.data.items[s].contentDetails.duration);var a={nextPage:t.data.nextPageToken,data:t.data.items.filter(function(t){return"undefined"!==typeof t.snippet.thumbnails}).map(function(t){return{artist:t.snippet.channelTitle,artistID:t.snippet.channelId,uploaded:o.parseDate(t.snippet.publishedAt),description:t.snippet.description,duration:i[t.contentDetails.videoId],mp3:"https://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v=".concat(t.contentDetails.videoId),mp32:"https://www.youtube.com/watch?v=".concat(t.contentDetails.videoId),poster:t.snippet.thumbnails.medium.url,posterLarge:t.snippet.thumbnails.high.url,source:"YouTube",title:t.snippet.title,trackID:t.contentDetails.videoId}})};n(a)})}):void 0}},{key:"getArtistInfo",value:function(t,e,i){return e.toLowerCase().indexOf("youtube")>-1?At.a.get("https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id="+t+"&key="+this.sYtKey).then(i):e.toLowerCase().indexOf("soundcloud")>-1?At.a.get("https://api.soundcloud.com/users/"+t+"?client_id="+this.sScKey).then(i):e.toLowerCase().indexOf("mixcloud")>-1?At.a.get("https://api.mixcloud.com/"+t+"/").then(i):Promise.resolve("")}},{key:"getSongComments",value:function(t,e,i,s,n){this.genUID();return e.toLowerCase().indexOf("youtube")>-1?At.a.get("https://www.googleapis.com/youtube/v3/comments?part=snippet&pageToken=".concat(s,"&maxResults=").concat(i,"&parentId=").concat(t,"&key=").concat(this.sYtKey)).then(function(t){var e={nextPage:t.data.nextPageToken,data:t.data.items.map(function(t){return{artist:t.snippet.authorDisplayName,artistID:t.snippet.authorChannelId.value,artistIMG:t.snippet.authorProfileImageUrl,comment:t.snippet.textDisplay,commentCreated:t.snippet.publishedAt,totalReplyCount:t.snippet.totalReplyCount,commentID:t.id}})};n(e)}):e.toLowerCase().indexOf("soundcloud")>-1?At.a.get("https://api.soundcloud.com/tracks/"+t+"/comments?linked_partitioning=1&limit=50&client_id="+this.sScKey).then(function(t){var e={nextPage:t.data.nextPageToken,data:t.data.collection.map(function(t){return{artist:t.user.username,artistID:t.user.id,artistIMG:t.user.avatar_url,comment:t.body,commentCreated:t.created_at}})};n(e)}):void 0}},{key:"getSongCommentsThreads",value:function(t,e,i,s,n){var o=this;this.genUID();if(i.toLowerCase().indexOf("youtube")>-1){if(e&&!this.YTCommentNext)return;var a=this.YTCommentNext&&e?"&pageToken="+this.YTCommentNext:"";return At.a.get("https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&order=relevance&textFormat=plainText&maxResults="+s+"&videoId="+t+"&key="+this.sYtKey+a).then(function(t){o.YTCommentNext=t.data.nextPageToken;var e=t.data.items.map(function(t){return{artist:t.snippet.topLevelComment.snippet.authorDisplayName,artistID:t.snippet.topLevelComment.snippet.authorChannelId.value,artistIMG:t.snippet.topLevelComment.snippet.authorProfileImageUrl,comment:t.snippet.topLevelComment.snippet.textDisplay,commentCreated:t.snippet.topLevelComment.snippet.publishedAt,totalReplyCount:t.snippet.totalReplyCount,commentID:t.id}});n(e)})}if(i.toLowerCase().indexOf("soundcloud")>-1)return At.a.get("https://api.soundcloud.com/tracks/"+t+"/comments?linked_partitioning=1&limit=50&client_id="+this.sScKey).then(function(t){var e=t.data.collection.map(function(t){return{artist:t.user.username,artistID:t.user.id,artistIMG:t.user.avatar_url,comment:t.body,commentCreated:t.created_at}});n(e)})}},{key:"getSongDescription",value:function(t,e,i){var s=this.genUID();this.aQuery[s]={aResult:[],hCallback:i},e.toLowerCase().indexOf("youtube")>-1&&At.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+t+"&fields=items/snippet/description&key="+this.sYtKey).then(function(t){i(t.data)})}},{key:"getSongPlays",value:function(t,e,i){if(e.toLowerCase().indexOf("youtube")>-1){var s="https://www.googleapis.com/youtube/v3/videos?part=statistics&id=".concat(t,"&key=").concat(this.sYtKey);return At.a.get(s).then(function(t){i(t.data.items[0].statistics.viewCount)})}if(e.toLowerCase().indexOf("soundcloud")>-1){s="https://api.soundcloud.com/tracks/".concat(t,"?client_id=").concat(this.sScKey);return At.a.get(s).then(function(t){i(t.data.playback_count)})}i(-1)}},{key:"getSongInfo",value:function(t,e,i){var s=this,n=this.genUID();return this.aQuery[n]={aResult:[],hCallback:i},e.toLowerCase().indexOf("youtube")>-1?At.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+t+"&key="+this.sYtKey).then(function(t){t=t.data.items[0],s.pushResult(n,t.snippet.channelTitle,t.snippet.channelId,s.parseDate(t.snippet.publishedAt),t.snippet.description,"","http://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v="+t.id,"https://www.youtube.com/watch?v="+t.id,t.snippet.thumbnails.high.url,t.snippet.thumbnails.high.url,"YouTube",t.snippet.title,t.id),s.aQuery[n].hCallback(s.aQuery[n].aResult),delete s.aQuery[n]}):e.toLowerCase().indexOf("soundcloud")>-1?At.a.get("https://api.soundcloud.com/tracks/"+t+"?client_id="+this.sScKey).then(function(t){t=t.data,s.pushResult(n,t.user.username,t.user_id,s.parseDate(t.created_at),t.description,s.secondstominutes(Math.floor(t.duration/1e3)),t.stream_url+"?client_id="+s.sScKey,t.permalink_url,"string"===typeof t.artwork_url?t.artwork_url.replace("i1","i2").replace("-large","-t300x300"):"./img/icons/no-image.png","string"===typeof t.artwork_url?t.artwork_url.replace("-large","-t500x500"):"./img/icons/no-image.png","SoundCloud",t.title,t.id),s.aQuery[n].hCallback(s.aQuery[n].aResult),delete s.aQuery[n]}):e.toLowerCase().indexOf("mixcloud")>-1?At.a.get("https://api.mixcloud.com"+t).then(function(t){t=t.data,s.pushResult(n,t.user.name,t.user.key,s.parseDate(t.created_time),t.description,s.secondstominutes(t.audio_length),t.url,t.url,t.pictures.small,t.pictures.large,"MixCloud",t.name,t.key),s.aQuery[n].hCallback(s.aQuery[n].aResult),delete s.aQuery[n]}):void 0}},{key:"guessSongTitle",value:function(t,e){At.a.get("https://api.alltomp3.org/v1/guess-track/".concat(t)).then(function(t){e(t)})}},{key:"pushResult",value:function(t,e,i,s,n,o,a,r,l,c,u,d,p){this.aQuery[t].aResult.push({artist:e,artistID:i,description:n,duration:o,mp3:a,mp32:r,poster:l,posterLarge:c,source:u,title:d,uploaded:s,trackID:p})}},{key:"calcDate",value:function(t,e){t||(t=new Date),e||(e=new Date),Object(lt["a"])(e)!==Object&&(e=new Date(e));var i=Math.abs(t.getTime()-e.getTime()),s=Math.floor(i/864e5),n=Math.floor(i/36e5),o=Math.floor(i/6e4),a=Math.floor(s/31),r=Math.floor(s/7),l=Math.floor(a/12);return t=l>0?[l," year"]:a>0?[a," month"]:r>0?[r," week"]:s>0?[s," day"]:n>0?[n," hour"]:[o," minute"],t[0]+t[1]+(t[0]>1?"s":"")}},{key:"parseDate",value:function(t){if(t=t.match(/^(\d{4})\/?-?(0[1-9]|1[0-2])\/?-?(0[1-9]|[12]\d|3[01])/),t&&(t[0]=new Date(+t[1],+t[2]-1,+t[3]),t[0].getMonth()===+t[2]-1))return t[0]}},{key:"sortDate",value:function(t,e){return t=new Date(t.uploaded),e=new Date(e.uploaded),t>e?-1:t<e?1:0}},{key:"str_pad_left",value:function(t,e,i){return(new Array(i+1).join(e)+t).slice(-i)}},{key:"uniqueArray",value:function(t){for(var e=t.concat(),i=0;i<e.length;i++)for(var s=i+1;s<e.length;s++)e[i].mp32===e[s].mp32&&e.splice(s--,1);return e}},{key:"secondstominutes1",value:function(t){return this.str_pad_left(Math.floor(t/60),"0",2)+":"+this.str_pad_left(t-60*Math.floor(t/60),"0",2)}},{key:"error",value:function(t){this.aQuery[t].hCallback(this.aQuery[t].aResult)}},{key:"secondstominutes",value:function(t){var e=parseInt(t,10),i=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,n=e%60;return[i,s,n].map(function(t){return t<10?"0"+t:t}).filter(function(t,e){return"00"!==t||e>0}).join(":")}},{key:"timeHMS",value:function(t){var e="date",i=864e5,s=i/24,n=s/60,o={date:{y:365.25*i,m:1461*i/48,d:i},time:{h:s,m:n,s:1e3}},a=/[^a-z]+|[a-z]/gi,r=t.toLowerCase().match(/p|t|\d+\.?\d*[ymdhs]/gi).reduce(function(t,i){if("p"==i)return t;if("t"==i)return e="time",t;var s=i.match(a);return t+s[0]*o[e][s[1]]},0);return this.secondstominutes(r/1e3)}}]),t}(),fi={install:function(t,e){Object.defineProperty(t.prototype,"$DCAPI",{value:new mi})}},gi=(i("6b54"),{install:function(t){var e={aPlaylist:[],iCurrent:0,eAudio:{src:""},error_count:0,init:function(){e.bindMediaSesssion()},ePlayer:function(){return document.getElementById("dc-audio")},next:function(){e.iCurrent=e.iCurrent<e.aPlaylist.length-1?e.iCurrent+1:0,e.playIndex(e.iCurrent)},pause:function(){e.eAudio.pause()},stop:function(){e.eAudio.src=""},play:function(){return e.eAudio.play()},previous:function(){e.iCurrent=e.iCurrent>0?e.iCurrent-1:e.aPlaylist.length-1,e.playIndex(e.iCurrent)},playIndex:function(t){if(e.iCurrent=t,oi.commit("changeIndex",e.iCurrent),this.setMediaSession(e.aPlaylist[t]),!oi.getters.ytUseVideo||!oi.getters.isYT)return oi.commit("ytStopVideo"),"SoundCloud"==e.aPlaylist[t].source?e.setAudioSrc(e.aPlaylist[t].mp3):e.play_url(e.aPlaylist[t].mp32);e.stop()},play_url:function(t){return e.getAudio(t,e.setAudioSrc)},setAudioSrc:function(t){e.eAudio.src=t+(e.error_count?"&x="+e.error_count:"");var i=e.play().then(function(){e.error_count=0}).catch(function(t){-1===t.toString().indexOf("interrupted by a new load request")&&(e.error_count++,e.error_count<6?e.error():(e.error_count=0,e.next()))});return i},setPlaylist:function(t){e.aPlaylist=t},setNPlay:function(t,i){return e.setPlaylist(t),e.iCurrent=i,e.playIndex(i)},seekBackward:function(){oi.getters.ytUseVideo&&oi.getters.isYT?oi.getters.ytObject.seekTo(oi.getters.ytObject.getCurrentTime()-10,!0):e.eAudio.currentTime-=10},seekForward:function(){oi.getters.ytUseVideo&&oi.getters.isYT?oi.getters.ytObject.seekTo(oi.getters.ytObject.getCurrentTime()+10,!0):e.eAudio.currentTime+=10},toggleMute:function(){oi.getters.ytUseVideo&&oi.getters.isYT?this.$store.getters.ytObject.isMuted()?this.$store.getters.ytObject.unMute():this.$store.getters.ytObject.mute():this.eAudio.muted=!this.eAudio.muted},togglePlay:function(){oi.getters.ytUseVideo&&oi.getters.isYT?oi.getters.ytIsPlaying?oi.getters.ytObject.pauseVideo():oi.getters.ytObject.playVideo():e.eAudio.paused?e.eAudio.play():e.eAudio.pause()},getAudio:function(t,e){var i=At.a.get("https://cors.io/?https://www.saveitoffline.com/process/?type=audio&url="+t);return i.then(function(i){if("data"in i&&"Error: no_media_found"!==i.data&&"Error: daily_secondary_api_limit_reached"!==i.data&&"Error: miss"!==i.data&&""!==i.data){for(var s=0;s<i.data.urls.length;s++)if(i.data.urls[s].label.indexOf("m4a")>-1||i.data.urls[s].label.indexOf("audio")>-1)return void e(i.data.urls[s].id);e(i.data.urls[Math.max(0,i.data.urls.length-3)].id)}else e("//dream.tribe.nu/r3/off?q="+t)}).catch(function(i){e("//dream.tribe.nu/r3/off?q="+t)}),i},error:function(t){setTimeout(function(){e.playIndex(e.iCurrent)},2e3)},setMediaSession:function(t){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:t.artist,artwork:[{src:t.poster,sizes:"96x96",type:"image/png"},{src:t.poster,sizes:"128x128",type:"image/png"},{src:t.poster,sizes:"192x192",type:"image/png"},{src:t.poster,sizes:"256x256",type:"image/png"},{src:t.poster,sizes:"384x384",type:"image/png"},{src:t.poster,sizes:"512x512",type:"image/png"}]}),this.bindMediaSesssion())},bindMediaSesssion:function(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",function(){return e.play()}),navigator.mediaSession.setActionHandler("pause",function(){return e.pause()}),navigator.mediaSession.setActionHandler("seekbackward",function(){return e.seekBackward()}),navigator.mediaSession.setActionHandler("seekforward",function(){return e.seekForward()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return e.previous()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return e.next()}))},volUp:function(){oi.getters.ytUseVideo&&oi.getters.isYT?oi.getters.ytObject.setVolume(oi.getters.ytObject.getVolume()+5):e.eAudio.volume=Math.min(1,e.eAudio.volume+.05)},volDown:function(){oi.getters.ytUseVideo&&oi.getters.isYT?oi.getters.ytObject.setVolume(oi.getters.ytObject.getVolume()-5):e.eAudio.volume=Math.max(0,e.eAudio.volume-.05)}};e.init(),Object.defineProperty(t.prototype,"$DCPlayer",{value:e})}}),vi=(i("f751"),i("9393")),yi=(i("ffc1"),i("a322")),bi=i("59ca");i("ea7b"),i("66ce");var wi={apiKey:"AIzaSyDSaKaRsDvmOicthSOJGvSF4iQC2ZprwFw",authDomain:"dreamcloud-3f276.firebaseapp.com",databaseURL:"https://dreamcloud-3f276.firebaseio.com",projectId:"dreamcloud-3f276",storageBucket:"dreamcloud-3f276.appspot.com",messagingSenderId:"137974869044"},_i=function(){function t(){Object(pi["a"])(this,t),this.playlists="",this.playlistRefs="",this.fb=bi.initializeApp(wi),this.fbb=bi,this.GoogleAuth=bi.auth.GoogleAuthProvider,this.db=bi.database(),this.UID=this.fb.auth.currentUser}return Object(hi["a"])(t,[{key:"init",value:function(t){this.UID=t,this.settings=this.db.ref("users/"+t+"/Settings"),this.playlists=this.db.ref("users/"+t+"/PlaylistsData"),this.playlistsRefs=this.db.ref("users/"+t+"/PlaylistsNames"),this.subscriptions=this.db.ref("users/"+t+"/Subscriptions"),this.history=this.db.ref("users/"+t+"/History")}},{key:"setting",value:function(t){return this.settings.child(t)}},{key:"settingChange",value:function(t,e){this.settings.child(t).set(e)}},{key:"subscriptionGet",value:function(t){return this.db.ref("users/"+t+"/Subscriptions/")}},{key:"subscriptionAdd",value:function(t,e,i,s){this.subscriptions.update(Object(yi["a"])({},i,{name:t,name_lower:t.toLowerCase(),source:e,id:i,img:s}))}},{key:"subscriptionDelete",value:function(t){this.subscriptions.child(t).remove()}},{key:"createNewPlaylist",value:function(t,e){var i=this.playlistsRefs.push({name:t,name_lower:t.toLowerCase()});this.playlists.child(i.ref.key).set({name:t,name_lower:t.toLowerCase()}),this.playlistSongAdd(i.ref.key,e)}},{key:"playlistDelete",value:function(t){this.playlistsRefs.child(t).remove(),this.playlists.child(t).remove()}},{key:"historyPush",value:function(t){var e=this.history.push();t.key=e.key,delete t[".key"],t.uploaded=t.uploaded.toString(),e.set(t)}},{key:"historyClear",value:function(){this.history.remove()}},{key:"playlistSongAdd",value:function(t,e){var i=this,s=function(e){var s=i.playlists.child(t+"/songs").push();e.key=s.key,delete e[".key"],e.uploaded=e.uploaded.toString(),s.set(e)};if(e.length>1)for(var n=Object.entries(e),o=0;o<n.length;o++){var a=Object(vi["a"])(n[o],2),r=a[0],l=a[1];s(Object.assign({},l),r)}else s(Object.assign({},Array.isArray(e)?e[0]:e))}},{key:"playlistSongDelete",value:function(t,e){this.playlists.child(t+"/songs/"+e).remove()}},{key:"playlistGet",value:function(t,e){return this.db.ref("users/"+t+"/PlaylistsData/"+e+"/songs")}},{key:"playlistGetAll",value:function(t){return this.db.ref("users/"+t+"/PlaylistsData")}}]),t}(),ki={install:function(t){Object.defineProperty(t.prototype,"$DCFB",{value:new _i})}},xi=i("5f30"),Ci=i.n(xi),Si=i("ec7e"),Ii=i.n(Si),$i=i("0284"),Di=i.n($i),Pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"pb-5",attrs:{row:"",wrap:""}},[i("v-flex",{directives:[{name:"show",rawName:"v-show",value:!(t.$store.getters.ytUseVideo&&t.$store.getters.isYT),expression:"!($store.getters.ytUseVideo && $store.getters.isYT)"}],attrs:{id:"img-bg",xs12:""},on:{click:function(e){t.$DCPlayer.togglePlay()}}},[i("div",{staticClass:"pstr-wrapper"},[i("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.song.posterLarge,expression:"song.posterLarge",arg:"background-image"}],key:t.song.poster,style:{background:"center center no-repeat"},attrs:{id:"pstr"}})])]),t.show?t._e():i("v-flex",{attrs:{dFlex:"",xs12:""}},[i("v-layout",{attrs:{id:"dc-padding",row:"",wrap:""}},[i("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[i("div",{staticClass:"title fwl text-xs-left"},[t._v(t._s(t.$store.getters.current_song.title))])]),i("v-flex",{staticClass:"stage-btns",style:t.stageBorderStyle,attrs:{xs12:""}},[i("div",{staticClass:"fl-l blue-grey--text text--lighten-1 mt-3"},[t._v("\n          "+t._s(t.iViews>-1?t.iViews+"  ":"")+t._s(t.$DCAPI.calcDate("",t.song.uploaded))+"\n        ")]),i("div",{staticClass:"fl-r"},[i("youtube-button"),i("share-button",{attrs:{song:t.song,url:"https://dreamcloud.netlify.com/#/t/"+t.song.source+"/"+encodeURIComponent(t.song.artist)+"/"+t.song.trackID}}),i("download-button",{attrs:{links:[t.song]}}),t.auth_state?i("add-to-playlist",{attrs:{song:t.song}}):t._e(),t.$vuetify.breakpoint.lgAndUp?i("v-btn",{attrs:{icon:""},on:{click:t.widescreen}},[i("v-icon",[t._v("crop_16_9")])],1):t._e(),i("v-btn",{attrs:{icon:""},on:{click:t.fullscreen}},[i("v-icon",[t._v("fullscreen")])],1)],1)]),i("artist-mini",{key:t.song.artistID,attrs:{artistID:t.song.artistID,source:t.song.source,artist:t.song.artist}}),i("v-flex",{staticClass:"title fwl text-xs-left song-meta mt-3 wordbreak",attrs:{xs12:"",lg7:""}},[t._v("\n        "+t._s(t.song.artist)+"\n        "),i("v-flex",[i("span",{staticClass:"subheading wordbreak fwl preline",domProps:{innerHTML:t._s(t.timeToSeconds(t._description))}})]),i("v-tabs",{ref:"tabs",staticClass:"mt-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"primary"}}),i("v-tab",[t._v("\n            Comments\n          ")]),i("v-tab",[t._v("\n            Lyrics\n          ")]),t.$vuetify.breakpoint.xsOnly?i("v-tab",[t._v("\n            Related\n          ")]):t._e()],1),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",[i("songComments",{attrs:{trackID:t.song.trackID,source:t.song.source}})],1),i("v-tab-item",[i("lyrics",{attrs:{getEm:t.getLyrics,title:t.song.title,artist:t.song.artist}})],1),t.$vuetify.breakpoint.mdAndDown?i("v-tab-item",[i("related")],1):t._e()],1)],1),t.$vuetify.breakpoint.lgAndUp?i("related"):t._e()],1)],1)],1)},Ti=[],Vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"mt-3",attrs:{xs12:"",lg4:""}},[t.loading?i("v-flex",{attrs:{xs2:"","offset-xs5":"",lg2:"","offset-lg5":""}},[i("orbit")],1):t._e(),i("v-data-iterator",{attrs:{items:t.items,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,id:String(t.song.trackID),"hide-actions":"","content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return i("v-flex",{attrs:{xs12:""},on:{click:function(i){t.play(e.index)}}},[i("v-card",{staticClass:"mb-2 pointer",attrs:{color:""}},[i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs5:""}},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===e.item.source?16/9:"1",src:e.item.posterLarge,"lazy-src":e.item.posterLarge}},[i("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1)],1),i("v-flex",{staticClass:"ma-2",attrs:{xs7:""}},[i("div",[i("div",{staticClass:"subheading text-xs-left wordbreak"},[t._v(t._s(e.item.title))]),i("div",{staticClass:"text-xs-left grey--text",on:{click:function(i){i.stopPropagation(),t.$router.push({name:"artist",params:{source:e.item.source,artist:e.item.artist,artistID:e.item.artistID}})}}},[t._v(t._s(e.item.artist))]),i("div",{staticClass:"text-xs-left grey--text"},[t._v(t._s(e.item.duration))])])])],1)],1)],1)}}])},[i("v-flex",{attrs:{slot:"no-data"},slot:"no-data"})],1)],1)},Ai=[],Li=i("45b7"),Oi={name:"StageRelated",components:{orbit:Li["a"]},watch:{index:{immediate:!0,handler:"getRelated"}},data:function(){return{loading:!0,rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:-1},items:[]}},computed:Object(c["a"])({},Object(zt["b"])({isYT:"isYT",song:"current_song",trackID:"current_trackID",index:"index"})),methods:{play:function(t){return window.scrollTo(0,0),this.$store.commit("setNPlay",{songs:this.items,current:t,path:this.$route.path}),this.$DCPlayer.setNPlay(this.items,t)},getRelated:function(){var t=this;this.loading=!0,this.items=[],this.$DCAPI.searchInt("",0,[this.song.source],this.trackID,function(e){t.loading=!1,e.length&&(e[0].trackID===t.trackID&&e.shift(),t.items=e)},!0,50)},hai:function(t){return"xs"===this.$vuetify.breakpoint.name?"YouTube"===t?"119px":"140px":"YouTube"===t?"119px":"209px"}}},ji=Oi,Mi=(i("de8e"),Object(m["a"])(ji,Vi,Ai,!1,null,null,null));Mi.options.__file="related.vue";var Bi=Mi.exports;Mi.options.components=Object.assign({VFlex:K["a"],VProgressCircular:Ft["a"],VLayout:a["a"],VImg:Et["a"],VCard:B["a"],VDataIterator:re["a"]},Mi.options.components);var Ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"mt-3",attrs:{xs3:"",lg1:"",alignCenter:""}},[i("v-flex",{attrs:{xs12:""}},[i("router-link",{attrs:{to:{name:"artist",params:{source:t.source,artist:t.artist,artistID:t.artistID}}}},[i("v-flex",{attrs:{xs12:""}},[i("v-avatar",{staticClass:"pointer",attrs:{slot:"activator",size:"55px"},slot:"activator"},[i("img",{staticClass:"img-fluid",staticStyle:{display:"inline-block"},attrs:{src:t.info.img}})])],1)],1),i("v-flex",{staticClass:"mt-2",attrs:{xl12:""}},[t.$store.getters.auth_state?i("subscribe-button",{attrs:{artistID:t.artistID,source:t.source,artist:t.artist,img:t.info.img}}):t._e()],1)],1)],1)},Ui=[],Fi=i("162d"),Ei={name:"ArtistMini",props:{artistID:{type:String,default:""},source:{type:String,default:""},artist:{type:String,default:""}},components:{"subscribe-button":Fi["a"]},data:function(){return{info:{created:"",description:"",img:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",followers_count:"",last_modified:"",title:"",track_count:""}}},methods:{avatarClicked:function(){this.$router.push({name:"artist",params:{source:this.source,artist:this.artist,artistID:this.artistID}})}},computed:{items:function(){return[{icon:"music_note",name:"Tracks",data:this.info.track_count},{icon:"star",name:"Followers",data:this.info.followers_count},{icon:"updated",name:"Last updated",data:this.info.last_modified?this.$DCAPI.calcDate(new Date,this.info.last_modified):""},{icon:"date_range",name:"Created",data:this.info.created?this.$DCAPI.calcDate(new Date,this.info.created):""}]}},mounted:function(){var t=this;this.$DCAPI.getArtistInfo(this.artistID,this.source).then(function(e){t.source.toLowerCase().indexOf("youtube")>-1?(t.info.created=e.data.items[0].snippet.publishedAt,t.info.description=e.data.items[0].snippet.description,t.info.img=e.data.items[0].snippet.thumbnails.high.url,t.info.title=e.data.items[0].snippet.title):t.source.toLowerCase().indexOf("soundcloud")>-1?(t.info.created="",t.info.description="",t.info.img=e.data.avatar_url.replace("large","t500x500"),t.info.followers_count=e.data.followers_count,t.info.last_modified=e.data.last_modified,t.info.title=e.data.username,t.info.track_count=e.data.track_count):t.source.toLowerCase().indexOf("mixcloud")>-1?(t.info.created=e.data.created,t.info.description=e.biog,t.info.img=e.data.pictures.medium,t.info.followers_count=e.data.followers_count,t.info.last_modified=e.data.updated_time,t.info.title=e.data.username,t.info.track_count=e.data.cloudcast_count):t.source.toLowerCase().indexOf("bandcamp")>-1&&(t.info.created=e.data.created,t.info.img=e.data.img,t.info.last_modified=e.data.last,t.info.track_count=e.data.tracks)})}},Yi=Ei,Qi=(i("a11e"),Object(m["a"])(Yi,Ri,Ui,!1,null,null,null));Qi.options.__file="artist-mini.vue";var Ni=Qi.exports;Qi.options.components=Object.assign({VAvatar:me["a"],VFlex:K["a"]},Qi.options.components);var Hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.isYT,expression:"$store.getters.isYT"}],staticClass:"ma-0 pa-0",attrs:{disabled:!t.$store.getters.isYT,icon:"",fab:"",small:""},on:{click:function(e){return e.stopPropagation(),t.clicked(e)}}},[i("v-icon",{attrs:{color:t.color}},[t._v("ondemand_video")])],1)},qi=[],Ki={computed:{showColor:function(){return"red"},color:function(){var t=this.$store.getters.ytUseVideo&&this.$store.getters.isYT?"red":"";return t}},methods:{clicked:function(){var t=this;this.$store.commit("ytSwitchTime",!0),this.$store.commit("ytToggleVideo");var e=this.$store.getters.ytUseVideo?this.$DCPlayer.eAudio.currentTime:this.$store.getters.ytCurrentTime,i=this.$store.getters.ytIsPlaying||!this.$DCPlayer.eAudio.paused;this.$store.getters.ytUseVideo?(i&&this.$DCPlayer.stop(),this.$store.getters.ytObject.hasOwnProperty("loadVideoById")?this.$store.getters.ytObject.loadVideoById(this.$store.getters.current_song.trackID,e):(this.$store.commit("changeIndex",-2),setTimeout(function(){t.$store.commit("changeIndex",t.$DCPlayer.iCurrent)},150)),setTimeout(function(){t.$store.getters.ytObject.seekTo(e)},250),setTimeout(function(){i||t.$store.commit("ytStopVideo"),t.$store.commit("ytSwitchTime",!1)},1500)):(this.$store.commit("ytStopVideo"),this.$DCPlayer.playIndex(this.$DCPlayer.iCurrent).then(function(){t.$DCPlayer.eAudio.currentTime=e,i||t.$DCPlayer.pause(),setTimeout(function(){t.$store.commit("ytSwitchTime",!1)},1500)}))}}},zi=Ki,Wi=Object(m["a"])(zi,Hi,qi,!1,null,null,null);Wi.options.__file="toggle-video-button.vue";var Gi=Wi.exports;Wi.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"]},Wi.options.components);var Ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{xs12:""}},[t.show?i("v-data-iterator",{attrs:{items:t.aComments,"content-tag":"v-layout",row:"",wrap:"","hide-actions":"","no-data-text":""},scopedSlots:t._u([{key:"item",fn:function(e){return i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"py-2"},[i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"comAv"},[i("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[i("v-avatar",{staticClass:"mt-1 comAv",attrs:{size:"40",color:"grey lighten-4"}},[i("img",{attrs:{src:e.item.artistIMG,alt:"avatar"}})])],1)],1),i("v-flex",{attrs:{xs11:""}},[i("div",[i("div",{staticClass:"body-1 grey--text py-1"},[i("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[i("strong",[t._v(t._s(e.item.artist))])]),i("span",[t._v(t._s(" "+t.$DCAPI.calcDate("",e.item.commentCreated)))])],1),i("div",{staticClass:"body-1 preline py-1",domProps:{innerHTML:t._s(t.timeToSeconds(e.item.comment))}})])])],1),e.item.totalReplyCount?i("commentThread",{attrs:{"total-reply-count":e.item.totalReplyCount,"comment-thread":e.item.commentID,source:t.source}}):t._e()],1),e.index!==t.aComments.length-1?i("v-divider"):t._e()],1)}}])},[t.aComments.length&&t.$DCAPI.YTCommentNext&&"soundcloud"===!t.source.toLowerCase()?i("v-flex",{attrs:{slot:"footer"},slot:"footer"},[i("v-btn",{staticClass:"comMor",attrs:{loading:t.bLoading,small:"",block:"",color:"transparent"},on:{click:t.getMore}},[t._v("\n        SHOW MORE\n      ")])],1):t._e()],1):t._e(),i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[t.noComments?i("v-card",[i("v-card-title",[t._v("\n          No comments available\n        ")])],1):t._e()],1)],1)],1)},Xi=[],Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"ma-0 pa-0"},[i("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},[i("v-flex",{staticStyle:{"min-width":"64px"},attrs:{xs1:"",sm1:""}}),i("v-flex",{staticClass:"pointer body-1 comMor",attrs:{xs11:""},on:{click:function(e){t.show=!t.show}}},[t._v("\n      "+t._s(t.show?"Hide "+t.totalReplyCount+" replies":"Show "+t.totalReplyCount+" replies")+" \n      "),i("v-icon",{attrs:{size:"18"}},[t._v(t._s(t.show?"keyboard_arrow_up":"keyboard_arrow_down"))]),t.bLoading?i("orbit",{staticClass:"my-3 ml-4"}):t._e()],1)],1),t.show?i("v-data-iterator",{attrs:{items:t.aComments,"content-tag":"v-layout",row:"",wrap:"","hide-actions":"","no-data-text":""},scopedSlots:t._u([{key:"item",fn:function(e){return t.show?i("v-flex",{staticClass:"pr-1 py-1",attrs:{"offset-xs1":"",xs11:""}},[i("v-card",{staticClass:"py-2",attrs:{flat:""}},[i("v-layout",{attrs:{row:""}},[i("v-flex",{staticStyle:{"min-width":"64px"},attrs:{xs1:"",sm1:""}},[i("router-link",{staticClass:"body-1 grey--text noDeco pl-2",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[i("v-avatar",{attrs:{size:"40",color:"grey lighten-4"}},[i("img",{attrs:{src:e.item.artistIMG,alt:"avatar"}})])],1)],1),i("v-flex",{attrs:{xs11:""}},[i("div",[i("div",{staticClass:"body-1 grey--text py-1"},[i("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[i("strong",[t._v(t._s(e.item.artist))])]),i("span",[t._v(t._s(" "+t.$DCAPI.calcDate("",e.item.commentCreated)))])],1),i("div",{staticClass:"body-1 preline py-1",domProps:{innerHTML:t._s(t.timeToSeconds(e.item.comment))}})])])],1)],1),e.index!==t.aComments.length-1?i("v-divider"):t._e()],1):t._e()}}])}):t._e()],1)},ts=[],es={name:"songCommentsThread",watch:{show:"queryComments"},components:{orbit:Li["a"]},props:{totalReplyCount:{type:[String,Number],default:""},commentThread:{type:[String,Number],default:""},source:{type:[String],default:""}},data:function(){return{show:!1,aComments:[],iPage:0,bLoading:!1}},methods:{timeToSeconds:function(t){return t?this.$store.getters.ytUseVideo?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},queryComments:function(){this.show&&!this.aComments.length&&(this.aComments=[],this.iPage=0,this.getComments())},getComments:function(){var t=this;this.bLoading=!0;var e=function e(i){return t.$DCAPI.getSongComments(t.commentThread,t.source,50,i,function(i){t.bLoading=!1,i.data.length&&(t.aComments=t.aComments.concat(i.data),i.nextPage&&e(i.nextPage))})};e("")},getMore:function(){this.iPage+=1,this.getComments()}}},is=es,ss=(i("5047"),Object(m["a"])(is,Zi,ts,!1,null,null,null));ss.options.__file="commentThread.vue";var ns,os=ss.exports;ss.options.components=Object.assign({VFlex:K["a"],VIcon:T["a"],VLayout:a["a"],VAvatar:me["a"],VCard:B["a"],VDivider:P["a"],VDataIterator:re["a"]},ss.options.components);var as=(ns={name:"songComments",watch:{trackID:"reset"}},Object(yi["a"])(ns,"watch",{trackID:{immediate:!0,handler:"reset"}}),Object(yi["a"])(ns,"props",{trackID:{type:[String,Number],default:""},source:{type:[String],default:""}}),Object(yi["a"])(ns,"components",{commentThread:os,"infinite-loading":Kt.a}),Object(yi["a"])(ns,"data",function(){return{show:!1,infState:"",aComments:[],iPage:0,bLoading:!1,noComments:!1}}),Object(yi["a"])(ns,"methods",{reset:function(){this.aComments=[],this.iPage=0,this.show=!1,this.noComments=!1,this.getComments()},infiniteHandler:function(t){this.infState=t,this.queryComments()},timeToSeconds:function(t){return t?this.$store.getters.ytUseVideo?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},getComments:function(){var t=this;return this.bLoading=!0,this.$DCAPI.getSongCommentsThreads(this.trackID,this.iPage,this.source,50,function(e){t.infState&&t.infState.complete(),e.length?(t.show=!0,t.bLoading=!1,t.aComments=t.aComments.concat(e)):(t.noComments=!0,console.log("no comments"))})},getMore:function(){this.iPage+=1,this.getComments()}}),ns),rs=as,ls=(i("6c99"),Object(m["a"])(rs,Ji,Xi,!1,null,null,null));ls.options.__file="comments.vue";var cs=ls.exports;ls.options.components=Object.assign({VAvatar:me["a"],VFlex:K["a"],VLayout:a["a"],VCard:B["a"],VDivider:P["a"],VBtn:V["a"],VDataIterator:re["a"],VCardTitle:jt["a"]},ls.options.components);var us={name:"DcStage",watch:{current_trackID:{immediate:!0,handler:"trackChanged"}},components:{songComments:cs,"artist-mini":Ni,related:Bi,lyrics:Bt,"youtube-button":Gi,"add-to-playlist":ft,"download-button":Dt,"share-button":kt},data:function(){return{tab:0,bWide:!1,btnCol:"",description:"",iViews:""}},computed:Object(c["a"])({},Object(zt["b"])({song:"current_song",current_trackID:"current_trackID",ytUseVideo:"ytUseVideo",auth_state:"auth_state"}),{getLyrics:function(){return 1===this.tab},_description:{get:function(){return this.description?this.description:this.song.description},set:function(t){this.description=t}},stageBorderStyle:function(){return{"border-bottom":"1px solid "+this.$vuetify.theme.primary}},show:function(){return this.ytUseVideo&&this.$store.getters.isYT}}),methods:{trackChanged:function(){this.getDesc(),this.getPlays()},widescreen:function(){this.bWide=!(this.$store.getters.drawLeft||this.$store.getters.drawRight),this.$store.commit("drawRight",this.bWide),this.$store.commit("drawLeft",this.bWide)},btnFeedback:function(){var t=this;this.btnCol="primary",setTimeout(function(){t.btnCol=""},2e3)},fullscreen:function(){this.$UTILS.toggleFullscreen("pstr")},getPlays:function(){var t=this;this.$DCAPI.getSongPlays(this.song.trackID,this.song.source,function(e){t.iViews=t.makeFriendly(e)})},intlFormat:function(t){return(new Intl.NumberFormat).format(Math.round(10*t)/10)},makeFriendly:function(t){return t>=1e6?this.intlFormat(t/1e6)+"M views":t>=1e3?this.intlFormat(t/1e3)+"k views":this.intlFormat(t)+" views"},timeToSeconds:function(t){return t?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},getDesc:function(){var t=this;this.$store.getters.isYT?this.$DCAPI.getSongDescription(this.current_trackID,this.song.source,function(e){t.description=e.items[0].snippet.description.trim()}):this._description=this.song.description}}},ds=us,ps=(i("63e9"),i("9a96")),hs=i("71a3"),ms=i("fe57"),fs=i("c671"),gs=i("aac8"),vs=Object(m["a"])(ds,Pi,Ti,!1,null,null,null);vs.options.__file="audio.vue";var ys=vs.exports;vs.options.components=Object.assign({VFlex:K["a"],VIcon:T["a"],VBtn:V["a"],VTabsSlider:ps["a"],VTab:hs["a"],VTabs:ms["a"],VTabItem:fs["a"],VTabsItems:gs["a"],VLayout:a["a"]},vs.options.components);var bs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.ytUseVideo&&t.$store.getters.isYT,expression:"$store.getters.ytUseVideo && $store.getters.isYT"}],staticClass:"pb-5 ma-0 pa-0",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("div",{staticClass:"video-wrapper"},[i("div",{attrs:{id:"player"}})])]),t.$store.getters.ytUseVideo&&t.$store.getters.isYT?i("v-flex",{attrs:{dFlex:"",xs12:""}},[i("v-layout",{attrs:{id:"dc-padding",row:"",wrap:""}},[i("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[i("div",{staticClass:"title fwl text-xs-left"},[t._v(t._s(t.$store.getters.current_song.title))])]),i("v-flex",{staticClass:"stage-btns",style:t.stageBorderStyle,attrs:{xs12:""}},[i("div",{staticClass:"fl-l blue-grey--text text--lighten-1 mt-3"},[t._v("\n          "+t._s(t.iViews)+"  "+t._s(t.$DCAPI.calcDate("",t.song.uploaded))+"\n        ")]),i("div",{staticClass:"fl-r"},[i("v-btn",{attrs:{icon:""},on:{click:t.toggleCC}},[i("v-icon",{attrs:{color:t.cc?"white":"grey"}},[t._v("subtitles")])],1),i("youtube-button"),i("share-button",{attrs:{song:t.song,url:"https://dreamcloud.netlify.com/#/t/"+t.song.source+"/"+encodeURIComponent(t.song.artist)+"/"+t.song.trackID}}),i("download-button",{attrs:{links:[t.song]}}),t.$store.getters.auth_state?i("add-to-playlist",{attrs:{song:t.song}}):t._e(),t.$vuetify.breakpoint.lgAndUp?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.widescreen},slot:"activator"},[i("v-icon",[t._v(t._s(t.bWide?"crop_3_2":"crop_16_9"))])],1),i("span",[t._v(t._s(t.bWide?"Wide":"Default"))])],1):t._e(),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.fullscreen},slot:"activator"},[i("v-icon",[t._v("fullscreen")])],1),i("span",[t._v("Fullscreen")])],1)],1)]),i("artist-mini",{key:t.song.artistID,attrs:{artistID:t.song.artistID,source:t.song.source,artist:t.song.artist}}),i("v-flex",{staticClass:"title fwl text-xs-left song-meta mt-3",attrs:{xs12:"",lg7:""}},[t._v("\n        "+t._s(t.song.artist)+"\n        "),i("v-flex",{attrs:{xs12:""}},[i("span",{staticClass:"subheading fwl wordbreak preline",domProps:{innerHTML:t._s(t.timeToSeconds(t.description))}})]),i("v-tabs",{ref:"tabs",staticClass:"mt-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"primary"}}),i("v-tab",[t._v("\n            Comments\n          ")]),i("v-tab",[t._v("\n            Lyrics\n          ")]),t.$vuetify.breakpoint.xsOnly?i("v-tab",[t._v("\n            Related\n          ")]):t._e()],1),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",[i("songComments",{attrs:{trackID:t.song.trackID,source:t.song.source}})],1),i("v-tab-item",[i("lyrics",{attrs:{getEm:t.getLyrics,title:t.song.title,artist:t.song.artist}})],1),t.$vuetify.breakpoint.mdAndDown?i("v-tab-item",[i("related")],1):t._e()],1)],1),t.$vuetify.breakpoint.lgAndUp?i("related"):t._e()],1)],1):t._e()],1)},ws=[],_s={name:"video-stage",beforeCreate:function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},watch:{trackID:{immediate:!0,handler:"trackChanged"}},components:{"artist-mini":Ni,"youtube-button":Gi,related:Bi,lyrics:Bt,songComments:cs,"add-to-playlist":ft,"download-button":Dt,"share-button":kt},computed:Object(c["a"])({},Object(zt["b"])({current_song:"current_song",index:"index",hash:"hash",trackID:"trackID",ytUseVideo:"ytUseVideo"}),{getLyrics:function(){return 1===this.tab},stageBorderStyle:function(){return{"border-bottom":"1px solid "+this.$vuetify.theme.primary}},song:function(){return this.$store.getters.current_song},showClass:function(){return{hidden:this.$store.getters.ytShowVideo}},trackID:function(){return this.$store.getters.current_trackID}}),data:function(){return{tab:0,bWide:!1,btnCol:"",iViews:"",cc:!1,yt:"",interval:"",description:"",currentid:""}},destroyed:function(){clearInterval(this.interval)},methods:{widescreen:function(){this.bWide=!(this.$store.getters.drawLeft||this.$store.getters.drawRight),this.$store.commit("drawRight",this.bWide),this.$store.commit("drawLeft",this.bWide)},btnFeedback:function(){var t=this;this.btnCol="primary",setTimeout(function(){t.btnCol=""},2e3)},getPlays:function(){var t=this;this.$DCAPI.getSongPlays(this.song.trackID,this.song.source,function(e){t.iViews=t.makeFriendly(e)})},intlFormat:function(t){return(new Intl.NumberFormat).format(Math.round(10*t)/10)},makeFriendly:function(t){return t>=1e6?this.intlFormat(t/1e6)+"M views":t>=1e3?this.intlFormat(t/1e3)+"k views":this.intlFormat(t)+" views"},toggleCC:function(){this.cc=!this.cc,this.cc?this.yt.loadModule("captions"):this.yt.unloadModule("captions")},timeToSeconds:function(t){return t?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):""},fullscreen:function(){this.$UTILS.toggleFullscreen("player")},getDesc:function(){var t=this;this.$DCAPI.getSongDescription(this.trackID,this.song.source,function(e){t.description=e.items[0].snippet.description.trim()})},ytBind:function(){"undefined"!==typeof YT&&YT&&YT.Player?this.$store.getters.ytUseVideo&&(this.$DCPlayer.pause(),this.yt||(this.yt=new YT.Player("player",{width:"100%",videoId:this.trackID,enablejsapi:1,playerVars:{autoplay:1,controls:0,color:"primary",showinfo:0,modestbranding:1,fs:0,cc_load_policy:1,iv_load_policy:3,rel:0,autohide:1},events:{onReady:this.ytReady,onStateChange:this.ytChanged,onApiChange:this.ytOnApiChange}}))):setTimeout(this.ytBind,100)},ytOnApiChange:function(){},ytReady:function(t){this.$store.commit("ytObject",t.target),this.$store.getters.ytObject.playVideo(),window.dcYT=this.yt},ytChanged:function(t){var e=this;this.$store.commit("ytState",t.data),1===t.data?(this.$store.commit("ytDuration",this.$store.getters.ytObject.getDuration()),this.interval=setInterval(function(){e.$store.commit("ytCurrentTime",e.$store.getters.ytObject.getCurrentTime())},250)):0===t.data?(clearInterval(this.interval),this.$store.commit("ytCurrentTime",0),this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)):clearInterval(this.interval)},trackChanged:function(){this.$store.getters.isYT&&this.ytUseVideo&&(this.$store.getters.ytObject.hasOwnProperty("loadVideoById")?this.$store.getters.ytObject.loadVideoById(this.trackID):this.ytBind(),this.getPlays(),this.getDesc(),this.$DCPlayer.pause())}}},ks=_s,xs=(i("75eb"),Object(m["a"])(ks,bs,ws,!1,null,null,null));xs.options.__file="video.vue";var Cs=xs.exports;xs.options.components=Object.assign({VFlex:K["a"],VIcon:T["a"],VBtn:V["a"],VTooltip:dt["a"],VTabsSlider:ps["a"],VTab:hs["a"],VTabs:ms["a"],VTabItem:fs["a"],VTabsItems:gs["a"],VLayout:a["a"]},xs.options.components);var Ss,Is=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{row:"",wrap:"","pb-5":""}},[t.list&&!t.gridView?i("list",{attrs:{songs:t.fixedSongs,full:t.full,"rows-per-page":t.rowsPerPage,"sort-by":t.sortBy},on:{toggleView:t.toggleView}}):i("grid",{attrs:{songs:t.fixedSongs,full:t.full,"rows-per-page":t.rowsPerPage,"sort-by":t.sortBy,"show-uploaded":t.showUploaded},on:{toggleView:t.toggleView}})],1)},$s=[],Ds=(i("55dd"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"elevation-0"},[t.full?i("v-card-title",{staticClass:"ma-0 pa-0"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-xs-left mt-2",attrs:{xs6:"",lg2:""}},[i("v-tooltip",{attrs:{top:""}},[t.auth_state?i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelect=!t.bSelect}},slot:"activator"},[i("v-icon",{attrs:{color:t.bSelect?"primary":""}},[t._v("check_box")])],1):t._e(),i("span",[t._v("Select multiple songs")])],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.$emit("toggleView")}},slot:"activator"},[i("v-icon",[t._v(t._s(t.view_mode?"view_module":"view_list"))])],1),i("span",[t._v("Change view")])],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.search.length>0?t.search="":t.$refs.search.focus()}},slot:"activator"},[i("v-icon",[t._v(t._s(t.search.length>0?"clear":"filter_list"))])],1),i("span",[t._v("Filter")])],1)],1),i("v-flex",{attrs:{xs5:"",lg9:""}},[i("v-text-field",{ref:"search",attrs:{id:"flr-txt",color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.bSelect?i("v-flex",{staticClass:"text-xs-left",attrs:{xs12:"",lg12:""}},[i("v-tooltip",{attrs:{slot:"activator",top:""},slot:"activator"},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelectAll=!t.bSelectAll,t.bSelectAll?t.selected=Object.assign([],t.sorted):t.selected=[]}},slot:"activator"},[i("v-icon",{attrs:{color:t.selected.length===t.filterLength?"primary":""}},[t._v("done_all")])],1),i("span",[t._v("Select all")])],1),i("download-button",{attrs:{dis:0==t.selected.length,links:t.selected}}),t.$route.params.playlist?i("delete-button",{attrs:{disabled:0==t.selected.length},on:{delete:t.removeList}}):t._e(),t.auth_state?i("add-to-playlist",{key:"multi",attrs:{disabled:0==t.selected.length,song:t.selected}}):t._e(),i("v-flex",{attrs:{"d-inline-flex":""}},[t._v(t._s(t.selected.length)+" of "+t._s(t.filterLength))])],1):t._e()],1)],1):t._e(),i("v-container",{staticClass:"pa-0",attrs:{"grid-list-lg":"",fluid:""}},[i("v-data-iterator",{ref:"dItera",attrs:{headers:t.headers,items:t.songs,pagination:t.pagination,"rows-per-page-items":[24,50,100,{text:"All",value:-1}],search:t.search,"hide-actions":!t.full,"content-class":"pa-0 ma-0","content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return i("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg2:"",xl2:""},on:{click:function(i){i.stopPropagation(),t.bSelect?t.checkItem(e.item):t.play(e.index)}}},[i("v-card",{staticClass:"dc-crd ma-0 pa-0 pointer"},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect,src:e.item.posterLarge,"lazy-src":e.item.posterLarge}},[i("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1),i("v-card-title",{staticClass:"pa-0"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs10:""}},[i("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.bSelect,expression:"bSelect"}],staticClass:"chkbx pa-1",on:{click:function(t){t.stopPropagation()}}},[i("v-checkbox",{attrs:{value:e.item,"hide-details":"",color:"primary"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),i("v-flex",{staticClass:"text-xs-left body-2 grd-txt pa-0 pt-1"},[t._v("\n                    "+t._s(e.item.title)+"\n                  ")]),"artist"!==t.$route.name?i("v-flex",{staticClass:"text-xs-left grey--text grd-txt pa-0 pt-1",on:{click:function(i){i.stopPropagation(),t.bSelect?t.checkItem(e.item):t.$router.push({name:"artist",params:{source:e.item.source,artist:e.item.artist,artistID:e.item.artistID}})}}},[t._v("\n                    "+t._s(e.item.artist)+"\n                  ")]):t._e(),t.$route.params.artistID||t.showUploaded?i("v-flex",{staticClass:"text-xs-left grey--text grd-txt pa-0 pt-1"},[t._v("\n                    "+t._s(t.$DCAPI.calcDate(!1,e.item.uploaded))+"  "+t._s(e.item.duration)+"\n                  ")]):t._e()],1),i("v-flex",{staticClass:"ma-0 pa-0 pt-2",attrs:{xs2:""},on:{click:function(t){t.stopPropagation()}}},[i("v-btn",{staticClass:"men fl-r ma-0 pa-0 mt-1",attrs:{icon:"",small:""},on:{click:function(i){t.chosenSong=e.item,t.dialog=!0}}},[i("v-icon",[t._v("more_vert")])],1)],1)],1)],1)],1)],1)}}])},[i("template",{slot:"footer"},[i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-list",[i("add-to-playlist",{attrs:{"in-list":!0,song:t.bSelect?t.selected:[t.chosenSong]}}),i("share-button",{attrs:{"in-list":!0,song:t.chosenSong,url:"https://dreamcloud.netlify.com/#/t/"+t.chosenSong.source+"/"+encodeURIComponent(t.chosenSong.artist)+"/"+t.chosenSong.trackID}}),t.chosenSong.key&&!t.bSelect?i("delete-button",{attrs:{"in-list":!0,id:t.chosenSong.key},on:{delete:function(e){t.bSelect?t.removeList():t.remove(t.chosenSong.key)}}}):t._e(),i("download-button",{attrs:{"in-list":!0,links:t.bSelect?t.selected:[t.chosenSong]}}),i("offlineButton",{attrs:{"in-list":!0,link1:t.chosenSong.mp32,link2:t.chosenSong.mp3,"track-id":t.chosenSong.trackID}})],1)],1)],1),i("template",{slot:"no-data"},[i("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},t._l(36,function(e){return i("v-flex",{key:e,staticClass:"ma-0",attrs:{xs12:"",sm6:"",md4:"",lg3:"",xl2:""}},[i("v-card",{staticClass:"dc-crd ma-0 pa-0 pointer"},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect||1}},[i("v-layout",{staticClass:"grey--text",attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[t._v("Loading")])],1),i("v-card-title",{staticClass:"pa-0"},[i("v-flex",{staticClass:"dumTitle fillPlace pa-0 pt-1",attrs:{xs10:""}}),i("v-flex",{staticClass:"dumDate fillPlace pa-0 pt-1",attrs:{xs4:""}})],1)],1)],1)}))],1)],2)],1)],1)],1)}),Ps=[],Ts=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.inList?i("v-list-tile",{attrs:{disabled:t.disabled,ripple:""},on:{click:function(e){return e.stopPropagation(),t.toggleOffline(e)}}},[i("v-list-tile-title",[t._v("Save offline")]),i("v-list-tile-action",[i("v-btn",{attrs:{loading:t.loading,icon:""}},[i("v-icon",{attrs:{color:t.btnColor}},[t._v(t._s(t.btnIcon))])],1)],1)],1):i("v-btn",{attrs:{disabled:t.disabled,loading:t.loading,icon:""},on:{click:function(e){return e.stopPropagation(),t.toggleOffline(e)}}},[i("v-icon",{attrs:{color:t.btnColor}},[t._v(t._s(t.btnIcon))])],1)},Vs=[],As=(Ss={name:"offline-button",props:["link1","link2","trackID"]},Object(yi["a"])(Ss,"props",{link1:{type:String,default:""},link2:{type:String,default:""},trackID:[String,Number],inList:Boolean}),Object(yi["a"])(Ss,"watch",{trackID:{immediate:!0,handler:"checkOfflineStatus"}}),Object(yi["a"])(Ss,"data",function(){return{status:!1,loading:!1,disabled:!1}}),Object(yi["a"])(Ss,"methods",{downloadAudio:function(t){return new Promise(function(e,i){var s=document.createElement("audio");s.oncanplaythrough=function(){e()},s.oncanplay=function(){e()},s.onerror=function(){e()},s.style.display="none",s.id=s.name=t,s.src=t,s.preload="auto",document.body.appendChild(s)})},toggleOffline:function(){this.loading||(this.loading=!0,this.status?this.offlineOff():this.offlineOn())},offlineOn:function(){var t=this;-1===this.link1.indexOf("soundcloud")?this.$DCPlayer.getAudio(this.link1,function(e){t.downloadAudio(e).then(function(){t.checkOfflineStatus()})}):this.downloadAudio(this.link2).then(function(){this.checkOfflineStatus()})},offlineOff:function(){var t=this;"caches"in window?window.caches.open("song-cache").then(function(e){t.$DCPlayer.getAudio(t.link1,function(i){e.delete(i),e.delete(t.c_link).then(function(){t.checkOfflineStatus()})})}):this.disabled=!0},checkOfflineStatus:function(){var t=this;"caches"in window?window.caches.open("song-cache").then(function(e){e.match(t.c_link).then(function(e){t.status="object"===Object(lt["a"])(e),t.loading=!1})}):this.disabled=!0}}),Object(yi["a"])(Ss,"computed",{btnColor:function(){return this.status?"green":""},btnIcon:function(){return this.status?"offline_pin":"offline_bolt"},isSc:function(){return this.link1.indexOf("soundcloud")>-1},c_link:function(){return this.isSc?this.link2:"https://www.saveitoffline.com/process/?type=audio&url="+this.link1}}),Ss),Ls=As,Os=(i("35a1"),Object(m["a"])(Ls,Ts,Vs,!1,null,null,null));Os.options.__file="offline-button.vue";var js=Os.exports;Os.options.components=Object.assign({VListTileTitle:x["b"],VIcon:T["a"],VBtn:V["a"],VListTileAction:O["a"],VListTile:j["a"]},Os.options.components);var Ms={name:"Grid",props:{songs:{type:Array,default:function(){return[]}},sortBy:{type:[String],default:""},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0},showUploaded:{type:[Boolean],default:!1}},components:{offlineButton:js,"add-to-playlist":ft,"delete-button":yt["a"],"download-button":Dt,"share-button":kt},watch:{rowsPerPage:function(t){this.pagination.rowsPerPage=t}},data:function(){return{chosenSong:[],dialog:!1,bShow:!1,filterHasFocus:!1,bSelectAll:!1,bSelect:!1,selected:[],search:"",today:new Date,loading:!1,pagination:{rowsPerPage:this.rowsPerPage},items:this.songs,headers:[{text:"Title",value:"title",align:"left"},{text:"Artist",value:"artist",align:"left"},{text:"Date",value:"uploaded",align:"left"},{text:"Source",value:"source",align:"left"},{text:"Duration",value:"duration",align:"left"}]}},computed:Object(c["a"])({},Object(zt["b"])({showVideo:"showVideo",auth_state:"auth_state",index:"index",hash:"hash",current_song:"current_song",view_mode:"view_mode",drawLeft:"drawLeft",drawRight:"drawRight"}),{aspect:function(){return"artist"===this.$route.name&&"YouTube"!==this.$route.params.source?"":16/9},filterLength:function(){return this.search.length&&this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems.length:this.songs.length},sorted:function(){if(-1!==this.$refs.dItera.pagination.rowsPerPage&&this.songs.length>this.$refs.dItera.pagination.rowsPerPage){var t=this.$refs.dItera.pagination.rowsPerPage;this.$refs.dItera.pagination.rowsPerPage=-1;var e=this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems:this.songs;return this.$refs.dItera.pagination.rowsPerPage=t,e}return this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems:this.songs}}),methods:{cardColor:function(t){return this.bSelect?this.selected.some(function(e){return e===t.item})?"primary":"":this.isPlaying(t.item.trackID)},checkItem:function(t){for(var e=!1,i=this.selected.length-1;i>=0;i--)this.selected[i]===t&&(this.selected.splice(i,1),e=!0);e||this.selected.push(t)},download:function(t){var e=this;this.$DCPlayer.getAudio(t.mp32,function(t){e.$UTILS.downloadLink(t)})},downloadAll:function(){var t=this,e=function(e){setTimeout(function(){t.download(t.selected[e])},1e3*e-1)};for(var i in this.selected)e(i)},isPlaying:function(t){return t===this.current_song.trackID?"primary white--text":""},remove:function(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},removeList:function(){for(var t in this.selected)this.remove(this.selected[t].key)},play:function(t){if(this.$store.getters.index===t&&this.hash===this.$route.path)return this.$DCPlayer.togglePlay();this.showVideo&&this.$router.push({name:"stage"}),-1===this.$store.getters.index&&this.$UTILS.isMobile&&this.$DCPlayer.eAudio.play(),t=1===this.pagination.page?t:this.pagination.rowsPerPage*(this.pagination.page-1)+t,this.$store.commit("setNPlay",{songs:this.sorted,current:t,path:this.$route.path}),this.$DCPlayer.setNPlay(this.sorted,t),this.$DCFB.historyPush(this.sorted[t])}}},Bs=Ms,Rs=(i("e343"),i("ac7c")),Us=Object(m["a"])(Bs,Ds,Ps,!1,null,null,null);Us.options.__file="grid.vue";var Fs=Us.exports;Us.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VTooltip:dt["a"],VFlex:K["a"],VTextField:ae["a"],VLayout:a["a"],VCardTitle:jt["a"],VList:M["a"],VDialog:ht["a"],VImg:Et["a"],VCard:B["a"],VProgressCircular:Ft["a"],VCheckbox:Rs["a"],VDataIterator:re["a"],VContainer:ze["a"]},Us.options.components);var Es=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"elevation-0"},[t.full?i("v-card-title",{staticClass:"ma-0 pa-0"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-xs-left mt-2",attrs:{xs6:"",lg2:""}},[i("v-tooltip",{attrs:{top:""}},[t.$store.getters.auth_state?i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelect=!t.bSelect,t.bSelect?t.headers.unshift({class:"ma-0",width:"10px",text:"",value:"",align:"left",sortable:!1}):t.headers.shift()}},slot:"activator"},[i("v-icon",{attrs:{color:t.bSelect?"primary":""}},[t._v("check_box")])],1):t._e(),i("span",[t._v("Select multiple songs")])],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.$emit("toggleView")}},slot:"activator"},[i("v-icon",[t._v(t._s(t.view_mode?"view_module":"view_list"))])],1),i("span",[t._v("Change view")])],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.search.length>0?t.search="":t.$refs.search.focus()}},slot:"activator"},[i("v-icon",[t._v(t._s(t.search.length>0?"clear":"filter_list"))])],1),i("span",[t._v("Filter")])],1)],1),i("v-flex",{attrs:{xs5:"",lg9:""}},[i("v-text-field",{ref:"search",attrs:{id:"flr-txt",color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.bSelect?i("v-flex",{staticClass:"text-xs-left",attrs:{xs8:"",lg5:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelectAll=!t.bSelectAll,t.bSelectAll?t.selected=t.sorted:t.selected=[]}},slot:"activator"},[i("v-icon",{attrs:{color:t.selected.length===t.filterLength?"primary":""}},[t._v("done_all")])],1),i("span",[t._v("Select all")])],1),i("download-button",{attrs:{dis:0==t.selected.length,links:t.selected}}),t.$route.params.playlist?i("delete-button",{attrs:{disabled:0==t.selected.length},on:{delete:t.removeList}}):t._e(),t.$store.getters.auth_state?i("add-to-playlist",{key:"multi",attrs:{disabled:0==t.selected.length,song:t.selected}}):t._e(),i("v-flex",{attrs:{"d-inline-flex":""}},[t._v(t._s(t.selected.length)+" of "+t._s(t.filterLength))])],1):t._e()],1)],1):t._e(),i("v-data-table",{ref:"dtable",staticClass:"dtable",attrs:{headers:t.headers,items:t.songs,"item-key":t.itemKey,pagination:t.pagination,"rows-per-page-items":[25,50,100,{text:"All",value:-1}],search:t.search},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",{key:e.index,class:t.isPlaying(e.item.trackID)?"mb-3 primary white--text pointer":"mb-3 pointer",attrs:{id:t.bSelect?"nulld":""},on:{click:function(i){i.stopPropagation(),t.bSelect?e.selected=!e.selected:t.play(e.index)}}},[t.bSelect?i("td",[i("v-checkbox",{attrs:{color:t.isPlaying(e.item.trackID)?"white":"primary","hide-details":""},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"props.selected"}})],1):t._e(),i("td",{staticClass:"pa-2"},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect,src:e.item.posterLarge,"lazy-src":e.item.posterLarge}},[i("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1)],1),i("td",{staticClass:"text-xs-left",attrs:{colspan:t.$route.params.artistID?"1":"2"}},[i("div",{class:"xs"===t.$vuetify.breakpoint.name?"subheading":"dc-t"},[t._v(t._s(e.item.title))]),i("div",{staticClass:"ma-0 pa-0"},[t.$route.params.artistID||t.bSelect?t.bSelect?t._e():i("span",{class:t.artistClass},[t._v(t._s(e.item.artist))]):i("a",{class:t.artistClass(e.item.trackID),attrs:{href:t.shareArtistURL(e.item)},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(e.item.artist))]),i("span",[t._v(" "+t._s(t.date(e.item.uploaded))+"  "+t._s(e.item.duration))]),t.$vuetify.breakpoint.xs?t._e():i("div",{staticClass:"preline wordbreak mh-2 mt-2"},[t._v(t._s(e.item.description))])])]),t.bSelect?t._e():i("td",{on:{click:function(t){t.stopPropagation()}}},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){t.chosenSong=e.item,t.dialog=!0}}},[i("v-icon",[t._v("more_vert")])],1)],1)])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("template",{slot:"footer"},[i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-list",[i("add-to-playlist",{attrs:{"in-list":!0,song:t.bSelect?t.selected:[t.chosenSong]}}),i("share-button",{attrs:{"in-list":!0,song:t.chosenSong,url:"https://dreamcloud.netlify.com/#/t/"+t.chosenSong.source+"/"+encodeURIComponent(t.chosenSong.artist)+"/"+t.chosenSong.trackID}}),t.chosenSong.key&&!t.bSelect?i("delete-button",{attrs:{"in-list":!0,id:t.chosenSong.key},on:{delete:function(e){t.bSelect?t.removeList():t.remove(t.chosenSong.key)}}}):t._e(),i("download-button",{attrs:{"in-list":!0,links:t.bSelect?t.selected:[t.chosenSong]}}),i("offlineButton",{attrs:{"in-list":!0,link1:t.chosenSong.mp32,link2:t.chosenSong.mp3,"track-id":t.chosenSong.trackID}})],1)],1)],1),i("template",{slot:"no-data"},t._l(36,function(e){return i("tr",{key:e},[i("td",{staticClass:"pa-2"},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect,"max-height":"290",src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}},[i("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)],1)],1),t.$route.params.artistID?t._e():i("td"),i("td",{staticClass:"text-xs-left hidden-xs-only"}),i("td")])}))],2)],1)],1)},Ys=[],Qs={name:"List",props:{songs:{type:[Array],required:!0},sortBy:{type:[String],default:""},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0}},components:{"add-to-playlist":ft,"delete-button":yt["a"],"download-button":Dt,"share-button":kt},data:function(){return{chosenSong:[],dialog:!1,bSelectAll:!1,filterHasFocus:!1,itemKey:"mp32",bSelect:!1,selected:[],pagination:{sortBy:this.sortBy,rowsPerPage:this.rowsPerPage,descending:!0},search:"",actions:[{icon:"file_download",func:this.download}],today:new Date,headers:[{text:"Duration",value:"duration",align:"left",width:this.$vuetify.breakpoint.xs?"45%":"22%",class:"pTh"},{text:"Title",value:"title",align:"left",class:"ma-0 pa-0"},{text:"Date",value:"uploaded",align:"left",class:"ma-0 pa-0"}]}},created:function(){this.$route.params.artistID||this.headers.splice(3,0,{text:"Artist",value:"artist",align:"center",class:"ma-0 pa-0"}),this.itemKey=this.$route.params.playlist?"key":"mp32"},computed:Object(c["a"])({},Object(zt["b"])({showVideo:"showVideo",listViewSmall:"listViewSmall",view_mode:"view_mode"}),{aspect:function(){return"artist"===this.$route.name&&"YouTube"!==this.$route.params.source?"":16/9},imgClass:function(){return this.listViewSmall?"pstr-sm pdiv":"pstr-lg pdiv"},sorted:function(){if(-1!==this.$refs.dtable.pagination.rowsPerPage&&this.songs.length>this.$refs.dtable.pagination.rowsPerPage){var t=this.$refs.dtable.pagination.rowsPerPage;this.$refs.dtable.pagination.rowsPerPage=-1;var e=this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems:this.songs;return this.$refs.dtable.pagination.rowsPerPage=t,e}return this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems:this.songs},artistID:function(){return"/#/a/"+this.song.source+"/"+this.song.artist+"/"+this.song.artistID},filterLength:function(){return this.search.length&&this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems.length:this.songs.length}}),methods:{artistClass:function(t){return{"text-xs-left":!0,"artist-dark":this.$store.getters.theme.dark,"artist-light":this.$store.getters.theme.light,noDeco:!0,"white--text":this.isPlaying(t)}},addSong:function(t){return this.bSelect&&this.selected.length?this.selected:t},remove:function(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},removeList:function(){for(var t in this.selected)this.remove(this.selected[t].key)},downloadAll:function(){var t=this,e=function(e){setTimeout(function(){t.download(t.selected[e])},1e3*e-1)};for(var i in this.selected)e(i)},download:function(t){var e=this;this.$DCPlayer.getAudio(t.mp32,function(t){e.$UTILS.downloadLink(t)})},shareArtistURL:function(t){return"#/a/"+t.source+"/"+encodeURIComponent(t.artist)+"/"+t.artistID},isPlaying:function(t){if(-1!==this.$store.getters.index)return this.$store.getters.current_trackID===t},date:function(t){return this.$DCAPI.calcDate(this.today,t)},play:function(t){if(this.$store.getters.index===t&&this.hash===this.$route.path)return this.$DCPlayer.togglePlay();this.showVideo&&this.$router.push({name:"stage"}),-1===this.$store.getters.index&&this.$UTILS.isMobile&&this.$DCPlayer.eAudio.play(),t=1===this.pagination.page?t:this.pagination.rowsPerPage*(this.pagination.page-1)+t,this.$store.commit("setNPlay",{songs:this.sorted,current:t,path:this.$route.path}),this.$DCPlayer.setNPlay(this.sorted,t),this.$DCFB.historyPush(this.sorted[t])}}},Ns=Qs,Hs=(i("545c"),i("8fea")),qs=Object(m["a"])(Ns,Es,Ys,!1,null,null,null);qs.options.__file="list.vue";var Ks=qs.exports;qs.options.components=Object.assign({VIcon:T["a"],VBtn:V["a"],VTooltip:dt["a"],VFlex:K["a"],VTextField:ae["a"],VLayout:a["a"],VCardTitle:jt["a"],VList:M["a"],VDialog:ht["a"],VProgressCircular:Ft["a"],VImg:Et["a"],VCheckbox:Rs["a"],VDataTable:Hs["a"],VCard:B["a"]},qs.options.components);var zs={name:"Playlist",props:{songs:{type:[Array],required:!0},gridView:{type:[Boolean],default:!1},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0},sortBy:{type:[String],default:""},showUploaded:{type:[Boolean],default:!1}},components:{grid:Fs,list:Ks},data:function(){return{showScrollToTop:!1,fixd:this.songs}},computed:Object(c["a"])({},Object(zt["b"])({list:"view_mode"}),{_size:function(){return this.$vuetify.breakpoint.name},fixedSongs:function(){for(var t in this.fixd=this.songs,this.fixd){if(this.fixd[t].uploaded instanceof Date)break;this.fixd[t].uploaded=new Date(this.fixd[t].uploaded)}return this.fixd}}),methods:{play:function(t){return this.$store.commit("setNPlay",{songs:this.songs,current:t,path:this.$route.path}),this.$DCPlayer.setNPlay(this.songs,t)},sort:function(){this.songs.sort(this.$DCAPI.sortDate)},toggleView:function(){this.$store.commit("view_mode_toggle")}}},Ws=zs,Gs=(i("8b42"),Object(m["a"])(Ws,Is,$s,!1,null,null,null));Gs.options.__file="playlist.vue";var Js=Gs.exports;Gs.options.components=Object.assign({VLayout:a["a"]},Gs.options.components),s["a"].config.productionTip=!1,s["a"].use(o["a"],{components:{VLayout:a["a"]}}),i.e("chunk-76d4c477").then(i.t.bind(null,"5b23",7)),s["a"].use(ui.a,{preLoad:1.6,attempt:1}),s["a"].use(di),s["a"].use(fi),s["a"].use(gi),s["a"].use(ki),s["a"].use(Ci.a),s["a"].use(Ii.a),s["a"].use(Di.a,{id:"UA-113982522-1",router:li}),s["a"].component("audio-stage",ys),s["a"].component("video-stage",Cs),s["a"].component("playlist",Js),s["a"].use(o["a"],{theme:{primary:"#009688"}}),new s["a"]({router:li,store:oi,render:function(t){return t(Ze)}}).$mount("#app")},"5cef":function(t,e,i){"use strict";var s=i("7de5"),n=i.n(s);n.a},"5eb6":function(t,e,i){"use strict";var s=i("c092"),n=i.n(s);n.a},"634d":function(t,e,i){},"63e9":function(t,e,i){"use strict";var s=i("d542"),n=i.n(s);n.a},6486:function(t,e,i){},"681a":function(t,e,i){"use strict";var s=i("7ed1"),n=i.n(s);n.a},"6a69":function(t,e,i){"use strict";var s=i("bd0a"),n=i.n(s);n.a},"6c05":function(t,e,i){},"6c99":function(t,e,i){"use strict";var s=i("edc7"),n=i.n(s);n.a},"75eb":function(t,e,i){"use strict";var s=i("3e84"),n=i.n(s);n.a},"7b04":function(t,e,i){"use strict";var s=i("bca8"),n=i.n(s);n.a},"7de5":function(t,e,i){},"7ed1":function(t,e,i){},8354:function(t,e,i){"use strict";var s=i("1634"),n=i.n(s);n.a},"86a5":function(t,e,i){"use strict";var s=i("19fb"),n=i.n(s);n.a},"87dc":function(t,e,i){},8808:function(t,e,i){"use strict";var s=i("6486"),n=i.n(s);n.a},"8a7b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.inList?i("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.emitDelete(e)},mouseleave:function(e){t.clicks=t.clickedTwice?2:0}}},[i("v-list-tile-title",[t._v("Delete from playlist")]),i("v-list-tile-action",[i("v-btn",{attrs:{color:t.color,icon:""}},[i("v-icon",{attrs:{color:t.clickedOnce?"whit1e":""}},[t._v(t._s(t.dlIcn))])],1)],1)],1):i("v-tooltip",{attrs:{top:""}},[i("v-btn",t._b({staticClass:"del-btn",attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.emitDelete(e)},mouseleave:function(e){t.clicks=t.clickedTwice?2:0}},slot:"activator"},"v-btn",t.$props,!1),[i("v-icon",{attrs:{color:t.clickedOnce?"white":""}},[t._v(t._s(t.dlIcn))])],1),i("span",[t._v("Delete from playlist")])],1)},n=[],o=(i("c5f6"),i("cadf"),i("551c"),i("097d"),{name:"DeleteButton",props:{id:{type:[String,Number],default:""},inList:{type:Boolean,default:!1}},data:function(){return{clicks:0}},computed:{dlIcn:function(){return this.clickedOnce?"delete":this.clickedTwice?"delete_forever":"delete"},color:function(){return this.clickedOnce?"red lighten-1":this.clickedTwice?"green lighten-1":this.colour},clickedOnce:function(){return 1===this.clicks},clickedTwice:function(){return 2===this.clicks}},methods:{emitDelete:function(){var t=this;this.clicks++,2===this.clicks&&(setTimeout(function(){t.clicks=0},2e3),this.$emit("delete",this.id))}}}),a=o,r=(i("5eb6"),i("2877")),l=i("5d23"),c=i("132d"),u=i("8336"),d=i("40fe"),p=i("ba95"),h=i("3a2f"),m=Object(r["a"])(a,s,n,!1,null,null,null);m.options.__file="delete-button.vue";e["a"]=m.exports;m.options.components=Object.assign({VListTileTitle:l["b"],VIcon:c["a"],VBtn:u["a"],VListTileAction:d["a"],VListTile:p["a"],VTooltip:h["a"]},m.options.components)},"8b42":function(t,e,i){"use strict";var s=i("3fb2"),n=i.n(s);n.a},"999c":function(t,e,i){"use strict";var s=i("634d"),n=i.n(s);n.a},"9bbf":function(t,e,i){},a11e:function(t,e,i){"use strict";var s=i("437b"),n=i.n(s);n.a},a1b2:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{xs12:""}},[i("v-container",{attrs:{"fill-height":""}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",[i("loading"),i("h1",{staticClass:"display-2 fwl"},[t._v(t._s(t.error))]),i("div",{staticClass:"subheading my-2 text-xs-center"},[t._v(t._s(t.title))]),i("v-divider",{staticClass:"my-3"}),i("div",{staticClass:"title mb-3 text-xs-center"},[t._v(t._s(t.subheading))]),t.discover?i("v-btn",{attrs:{to:{name:"explore"},color:"primary white--text"}},[t._v("discover new music"),i("v-icon",{attrs:{right:""}},[t._v("explore")])],1):t._e()],1)],1)],1)],1)},n=[],o=(i("cadf"),i("551c"),i("097d"),i("45b7")),a={name:"Jumbo",components:{loading:o["a"]},props:{subheading:{type:String,default:""},title:{type:String,default:""},discover:{type:Boolean,default:!0},error:{type:String,default:"Oops"}}},r=a,l=i("2877"),c=i("ce7e"),u=i("132d"),d=i("8336"),p=i("0e8f"),h=i("a722"),m=i("a523"),f=Object(l["a"])(r,s,n,!1,null,null,null);f.options.__file="jumbo.vue";e["a"]=f.exports;f.options.components=Object.assign({VDivider:c["a"],VIcon:u["a"],VBtn:d["a"],VFlex:p["a"],VLayout:h["a"],VContainer:m["a"]},f.options.components)},bca8:function(t,e,i){},bd0a:function(t,e,i){},c092:function(t,e,i){},d542:function(t,e,i){},db74:function(t,e,i){"use strict";var s=i("257b"),n=i.n(s);n.a},de8e:function(t,e,i){"use strict";var s=i("9bbf"),n=i.n(s);n.a},e343:function(t,e,i){"use strict";var s=i("219d"),n=i.n(s);n.a},e593:function(t,e,i){},ed43:function(t,e,i){"use strict";var s=i("314a"),n=i.n(s);n.a},edc7:function(t,e,i){},f86f:function(t,e,i){"use strict";var s=i("1ed3"),n=i.n(s);n.a}});