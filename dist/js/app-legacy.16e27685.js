(function(t){function e(e){for(var i,s,a=e[0],l=e[1],c=e[2],u=0,d=[];u<a.length;u++)s=a[u],r[s]&&d.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);p&&p(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var i={},s={app:0},r={app:0},o=[];function a(t){return l.p+"js/"+({about:"about",artist:"artist",auto:"auto",channelPlaylist:"channelPlaylist",genre:"genre",home:"home",login:"login",password:"password",playlistOverview:"playlistOverview",playlistsAll:"playlistsAll",searchQuery:"searchQuery",searchpage:"searchpage",settings:"settings",share:"share",signUp:"signUp",stage:"stage",subsAll:"subsAll",tos:"tos",trending:"trending",user:"user",userPlaylist:"userPlaylist",userSubOverview:"userSubOverview"}[t]||t)+"-legacy."+{about:"70ce0eaa",artist:"388e68ba",auto:"26e50117",channelPlaylist:"76be2db2","chunk-76d4c477":"39706100",genre:"3bf1e00c",home:"c7cb89fb",login:"74f17709",password:"7429d939",playlistOverview:"a703a176",playlistsAll:"169d51c2",searchQuery:"0b44d1c3",searchpage:"916fb381",settings:"4bfe720f",share:"07d3b885",signUp:"df91fdb1",stage:"77090ccd",subsAll:"5d99c45d",tos:"bb915d4e",trending:"1153f5f0",user:"4ed26bcf",userPlaylist:"731f72d4",userSubOverview:"10ee1671"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={about:1,artist:1,"chunk-76d4c477":1,genre:1,login:1,password:1,playlistOverview:1,playlistsAll:1,searchQuery:1,searchpage:1,settings:1,signUp:1,userSubOverview:1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise(function(e,n){for(var i="css/"+({about:"about",artist:"artist",auto:"auto",channelPlaylist:"channelPlaylist",genre:"genre",home:"home",login:"login",password:"password",playlistOverview:"playlistOverview",playlistsAll:"playlistsAll",searchQuery:"searchQuery",searchpage:"searchpage",settings:"settings",share:"share",signUp:"signUp",stage:"stage",subsAll:"subsAll",tos:"tos",trending:"trending",user:"user",userPlaylist:"userPlaylist",userSubOverview:"userSubOverview"}[t]||t)+"."+{about:"a340837d",artist:"88d9c49e",auto:"31d6cfe0",channelPlaylist:"31d6cfe0","chunk-76d4c477":"031beb83",genre:"4b0f9126",home:"31d6cfe0",login:"6fcd4d13",password:"a5ce5c20",playlistOverview:"382e7198",playlistsAll:"cb1bf88d",searchQuery:"cb1bf88d",searchpage:"cb1bf88d",settings:"a6c228ab",share:"31d6cfe0",signUp:"47e97b1a",stage:"31d6cfe0",subsAll:"31d6cfe0",tos:"31d6cfe0",trending:"31d6cfe0",user:"31d6cfe0",userPlaylist:"31d6cfe0",userSubOverview:"12dbe21b"}[t]+".css",r=l.p+i,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var c=o[a],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===r))return e()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){c=d[a],u=c.getAttribute("data-href");if(u===i||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[t],p.parentNode.removeChild(p),n(o)},p.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(p)}).then(function(){s[t]=0}));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise(function(e,n){i=r[t]=[e,n]});e.push(i[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=a(t),c=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+i+": "+s+")");o.type=i,o.request=s,n[1](o)}r[t]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(n,i,function(e){return t[e]}.bind(null,i));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01d6":function(t,e,n){"use strict";var i=n("5450"),s=n.n(i);s.a},"034f":function(t,e,n){"use strict";var i=n("1356"),s=n.n(i);s.a},"08fc":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:"",lg10:""}},[t.bLoading||t.aHistRev.length?n("div",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[t._v("History")]):t._e(),t.bLoading||t.aHistRev.length?n("playlist",{attrs:{songs:t.aHistRev,infinite:"","show-uploaded":""},on:{conmen:function(e){return t.$emit("conmen",e)}}}):t.bFailed&&"history"===t.$route.name?n("jumbo",{attrs:{title:"Here is supposed to be your history"}},[t._v("\n    "+t._s(t.$store.getters.isAnon?"We won't log your history unless you":"Why not listen to some music?")+"\n    "),t.$store.getters.isAnon?n("router-link",{attrs:{to:{name:"login"}}},[t._v("login")]):t._e()],1):t._e()],1)},s=[],r=n("a1b2"),o=(n("8a7b"),n("2f62"));function a(t){return u(t)||c(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={props:["user"],name:"history",components:{jumbo:r["a"]},data:function(){return{aHistory:[],bLoading:!1,bFailed:!1}},watch:{auth_state:{handler:"bind",immediate:!0}},methods:{bind:function(){var t=this;this.auth_state&&(this.bFailed=!1,this.$bindAsArray("aHistory",this.$DCFB.fbhistory.limitToLast(300),null,function(){t.bLoading=!1,t.bFailed=!!t.aHistory}))}},computed:p({},Object(o["c"])({auth_state:function(t){return t.user.auth_state}}),{aHistRev:function(){return this.$UTILS.uniqueArray(a(this.aHistory).reverse())}})},m=f,g=n("2877"),v=n("6544"),y=n.n(v),b=n("0e8f"),w=Object(g["a"])(m,i,s,!1,null,null,null);e["default"]=w.exports;y()(w,{VFlex:b["a"]})},"0a26":function(t,e,n){"use strict";var i=n("5a8b"),s=n.n(i);s.a},"10dd":function(t,e,n){"use strict";var i=n("1f11"),s=n.n(i);s.a},1356:function(t,e,n){},"162d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"ma-0 mb-1",attrs:{color:t.btnColor,round:"",small:"",outline:"","content-class":"ma-0"},on:{click:function(e){return e.preventDefault(),t.toggleSub(e)}}},[t._v(t._s(t.subbed?"Subscribed":"Subscribe"))])},s=[],r={name:"SubscribeButton",props:{artistID:{type:[String,Number],default:""},source:{type:String,default:""},artist:{type:String,default:""},img:{type:String,default:""}},watch:{artistID:{immediate:!0,handler:"bind"}},data:function(){return{subscribed:[]}},computed:{subbed:function(){return this.subscribed.length},btnColor:function(){return this.subbed?"":"primary white--text"}},methods:{toggleSub:function(){this.subscribed.length?this.unsubscribe():this.subscribe()},bind:function(){this.artistID&&this.$store.state.user.auth_state&&this.$bindAsArray("subscribed",this.$DCFB.subscriptions.child(this.artistID))},subscribe:function(){this.$DCFB.subscriptionAdd(this.artist,this.source,this.artistID,this.img)},unsubscribe:function(){this.$DCFB.subscriptionDelete(this.artistID)}}},o=r,a=n("2877"),l=n("6544"),c=n.n(l),u=n("8336"),d=Object(a["a"])(o,i,s,!1,null,null,null);e["a"]=d.exports;c()(d,{VBtn:u["a"]})},"1c55":function(t,e,n){},"1f11":function(t,e,n){},"2acc":function(t,e,n){},"2d50":function(t,e,n){"use strict";var i=n("9c1e"),s=n.n(i);s.a},3260:function(t,e,n){"use strict";var i=n("9a03"),s=n.n(i);s.a},"3b08":function(t,e,n){},"45b7":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"loading-flex",attrs:{"justify-center":t.justifyCenter,xs12:""}},[n("div",{staticClass:"orbit-spinner",style:t.spinnerStyle},[n("div",{staticClass:"orbit one",style:t.orbitStyle}),n("div",{staticClass:"orbit two",style:t.orbitStyle}),n("div",{staticClass:"orbit three",style:t.orbitStyle})])])},s=[],r={name:"OrbitSpinner",props:{justifyCenter:{type:Boolean,default:!1},animationDuration:{type:Number,default:1e3},size:{type:Number,default:50},color:{type:String,default:"#fff"}},computed:{spinnerStyle:function(){return{height:"".concat(this.size,"px"),width:"".concat(this.size,"px")}},orbitStyle:function(){return{borderColor:this.$vuetify.theme.primary}}}},o=r,a=(n("6943"),n("2877")),l=n("6544"),c=n.n(l),u=n("0e8f"),d=Object(a["a"])(o,i,s,!1,null,"b9b0686e",null);e["a"]=d.exports;c()(d,{VFlex:u["a"]})},"45dc":function(t,e,n){},"4bf0":function(t,e,n){},"4cfa":function(t,e,n){},5047:function(t,e,n){"use strict";var i=n("f87e"),s=n.n(i);s.a},5450:function(t,e,n){},"545c":function(t,e,n){"use strict";var i=n("3b08"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),s=n("9483");Object(s["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var r=n("bb71"),o=n("a722"),a=(n("da64"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",t._b({class:t.blackClass},"v-app",t.theme,!1),[n("context-menu",{key:t.uid,ref:"con"}),n("snackbar"),n("v-snackbar",{attrs:{timeout:0,bottom:"","auto-height":""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    A new version is ready\n    "),n("v-btn",{staticClass:"ma-0",attrs:{block:"",dark:"",flat:""},on:{click:function(){return t.swReg.waiting.postMessage("skipWaiting")}}},[t._v("\n      use\n    ")]),n("v-btn",{staticClass:"ma-0",attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      close\n    ")])],1),n("v-navigation-drawer",{attrs:{id:"sideleft",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",persistent:"",ripple:"",width:"240"},model:{value:t.drawLeft,callback:function(e){t.drawLeft=e},expression:"drawLeft"}},[n("sidebar",{on:{closeLeft:t.closeLeft}})],1),n("v-toolbar",{attrs:{id:"navbar",app:"",dense:"",fixed:"","clipped-left":"","clipped-right":""}},[n("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.leftTog(e)}}}),n("v-toolbar-title",{staticClass:"hidden-sm-and-down fwl title",staticStyle:{width:"121px"}},[n("router-link",{class:t.textClass,attrs:{to:{name:"home",params:{user:t.uid}}}},[t._v("\n        dreamcloud\n      ")])],1),n("search"),n("v-spacer"),n("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.rightTog(e)}}},[n("v-icon",[t._v("playlist_play")])],1)],1),n("v-navigation-drawer",{attrs:{id:"right-draw",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",persistent:"",right:"",width:"260"},model:{value:t.drawRight,callback:function(e){t.drawRight=e},expression:"drawRight"}},[n("current-playlist",{on:{conmen:t.con}})],1),n("v-content",{staticClass:"text-xs-center",style:t.bShowStage?"":"position:absolute"},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("stage",{on:{conmen:t.con}})],1)],1)],1)],1),n("v-content",{staticClass:"text-xs-center"},[n("v-container",{staticClass:"pa-0 ma-0",attrs:{id:"main-cont",fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":""}},[n("keep-alive",{attrs:{max:4}},[n("router-view",{on:{conmen:t.con}})],1)],1)],1)],1),n("popup",{on:{conmen:t.con}}),n("v-footer",{style:t.footStyle,attrs:{id:"foot",app:"",fixed:""}},[t.bMobi?n("mobileFooter"):t._e(),n("dc-youtube",{directives:[{name:"show",rawName:"v-show",value:t.ytUseVideo&&t.isYT,expression:"(ytUseVideo && isYT)"}]}),n("dc-audio",{directives:[{name:"show",rawName:"v-show",value:!t.ytUseVideo||!t.isYT,expression:"(!ytUseVideo || !isYT)"}]})],1),n("hks")],1)}),l=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",t._b({staticClass:"scrollToTop primary",class:t.$store.getters.textColor,attrs:{outline:"",fab:"",small:"",icon:""},on:{click:t.showPop}},"v-btn",t.$store.getters.theme,!1),[n("v-icon",{attrs:{medium:""}},[t._v(t._s(t.show_pop?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)},u=[],d=n("2f62");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach(function(e){f(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"ScrollToTop",computed:h({},Object(d["c"])({show_pop:function(t){return t.player.show_pop}})),methods:{showPop:function(){this.$store.commit("show_pop",!this.show_pop),!this.show_pop||"auto"!=this.$route.name&&"current"!=this.$route.name||this.$router.go(-1)}}},g=m,v=(n("ea26"),n("2877")),y=n("6544"),b=n.n(y),w=n("8336"),_=n("132d"),k=Object(v["a"])(g,c,u,!1,null,null,null),x=k.exports;b()(k,{VBtn:w["a"],VIcon:_["a"]});var C=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_pop&&e.$vuetify.breakpoint.smAndUp,expression:"show_pop && $vuetify.breakpoint.smAndUp"}],staticClass:"pop",class:e.size,attrs:{xs12:""}},[i("v-card",{staticClass:"pop-card"},[i("div",{on:{contextmenu:function(t){return e.$emit("conmen",[t,[e.current_song]])},click:function(){return t.$store.commit("show_pop",!1),e.$router.push({name:"auto",params:{artist:t.current_song.artist,trackID:t.current_song.trackID,source:t.current_song.source}})}}},[i("v-img",{attrs:{src:e.current_song.posterLarge,"aspect-ratio":e.aspect,height:"196px"}},[i("div",{staticClass:"d-flex text-xs-center pointer",staticStyle:{height:"100%"}},[i("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[i("v-flex",{attrs:{xs4:""},on:{click:function(t){return t.stopPropagation(),e.$DCPlayer.previous()}}},[i("v-btn",{staticClass:"full",attrs:{icon:"",dark:"","x-large":""}},[i("v-icon",{attrs:{large:""}},[e._v("skip_previous")])],1)],1),i("v-flex",{attrs:{xs4:""},on:{click:function(t){return t.stopPropagation(),e.$DCPlayer.togglePlay()}}},[i("v-btn",{staticClass:"full",attrs:{icon:"",dark:"","x-large":""}},[i("v-icon",{attrs:{large:""}},[e._v(e._s(e.$store.getters.isPlaying?"pause":"play_arrow"))])],1)],1),i("v-flex",{attrs:{xs4:""},on:{click:function(t){return t.stopPropagation(),e.$DCPlayer.next()}}},[i("v-btn",{staticClass:"full",attrs:{icon:"",dark:"","x-large":""}},[i("v-icon",{attrs:{large:""}},[e._v("skip_next")])],1)],1),i("v-btn",{staticClass:"full white--text",staticStyle:{top:"5px",right:"5px"},attrs:{absolute:"",top:"",icon:"",right:""},on:{click:function(t){return t.stopPropagation(),e.$store.commit("show_pop",!1)}}},[i("v-icon",[e._v("close")])],1)],1)],1)]),i("v-layout",{staticClass:"pointer",attrs:{row:"",wrap:""},on:{click:function(t){return e.$router.push({name:"auto",params:{artist:e.current_song.artist,trackID:e.current_song.trackID,source:e.current_song.source}})}}},[i("v-flex",{attrs:{xs10:"","pa-3":""}},[i("div",{staticClass:"subheading pop-title",attrs:{title:e.current_song.title}},[e._v(e._s(e.current_song.title))]),i("div",{staticClass:"body-1 grey--text text--lighten-1"},[e._v(e._s(e.current_song.artist))])]),i("v-flex",{attrs:{xs2:"","pa-3":""},on:{click:function(t){return t.stopPropagation(),e.toggleList(t)}}},[i("v-icon",{attrs:{"mt-3":"",icon:"",large:""}},[e._v(e._s(e.show_pop_list?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1)],1),i("v-list",{staticClass:"scroll-y pop-list"},e._l(e.current_playlist,function(t,n){return i("v-list-tile",{key:t.trackID+""+n,attrs:{id:"pop-"+t.trackID,avatar:"",hover:""},on:{click:function(t){return e.play(n)},contextmenu:function(t){return e.$emit("conmen",[t,[e.current_playlist[n]]])}}},[i("v-list-tile-content",[i("v-list-tile-title",{staticClass:"body-1 fwl"},[i("div",{attrs:{title:t.title}},[e._v(e._s(t.title))])]),i("v-list-tile-sub-title",[e._v(e._s(t.artist+" • "+t.duration))])],1)],1)}),1)],1)],1)},S=[],P=n("8a7b");function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(n,!0).forEach(function(e){I(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O={name:"PopupPlayer",components:{"delete-button":P["a"]},data:function(){return{x:"a"}},watch:{index:{handler:"scroll"},show_pop:{handler:function(t){t&&this.scroll()}}},methods:{toggleList:function(){this.$store.commit("show_pop_list",!this.show_pop_list),this.scroll()},play:function(t){this.$DCPlayer.setNPlay({songs:this.current_playlist,current:t,path:this.hash}),this.$DCFB.historyPush(this.current_playlist[t])},scroll:function(){var t=this;this.$nextTick(function(){t.next_song&&t.show_pop&&(t.index+1>t.current_playlist.length?document.getElementById("pop-"+t.current_song.trackID).scrollIntoView({behavior:"smooth"}):document.getElementById("pop-"+t.next_song.trackID).scrollIntoView({behavior:"smooth"}))})}},computed:$({},Object(d["c"])({bShowStage:function(t){return t.user.bShowStage},current_playlist:function(t){return t.player.current_playlist},show_pop_list:function(t){return t.player.show_pop_list},show_pop:function(t){return t.player.show_pop},index:function(t){return t.player.current_index},hash:function(t){return t.player.current_hash}}),{},Object(d["b"])(["next_song","current_song","isPlaying"]),{size:function(){return this.show_pop_list?"pop-lg":"pop-sm"},aspect:function(){return 16/9}})},T=O,A=(n("ba11"),n("b0af")),V=n("0e8f"),L=n("adda"),j=n("8860"),M=n("ba95"),B=n("5d23"),E=Object(v["a"])(T,C,S,!1,null,null,null),U=E.exports;b()(E,{VBtn:w["a"],VCard:A["a"],VFlex:V["a"],VIcon:_["a"],VImg:L["a"],VLayout:o["a"],VList:j["a"],VListTile:M["a"],VListTileContent:B["a"],VListTileSubTitle:B["b"],VListTileTitle:B["c"]});var F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"hks"}})},R=[],Q={name:"hks",created:function(){var t=this;window.onkeydown=function(e){e=e||window.event,"INPUT"!==document.activeElement.tagName&&("67"!=e.keyCode||e.ctrlKey?"70"!=e.keyCode||e.ctrlKey?"87"==e.keyCode?(t.bWide=!(t.$store.state.user.drawLeft||t.$store.state.user.drawRight),t.$store.commit("drawRight",t.bWide),t.$store.commit("drawLeft",t.bWide),e.preventDefault()):"77"==e.keyCode?(t.$DCPlayer.toggleMute(),e.preventDefault()):"32"==e.keyCode?(t.$DCPlayer.togglePlay(),e.preventDefault()):"37"!=e.keyCode||e.shiftKey?"38"==e.keyCode?(t.$DCPlayer.volUp(),e.preventDefault()):"39"!=e.keyCode||e.shiftKey?"40"==e.keyCode&&(t.$DCPlayer.volDown(),e.preventDefault()):(e.altKey?(t.$DCPlayer.next(),t.$DCFB.historyPush(t.$store.getters.current_song)):t.$DCPlayer.seekForward(),e.preventDefault()):(e.altKey?(t.$DCPlayer.previous(),t.$DCFB.historyPush(t.$store.getters.current_song)):t.$DCPlayer.seekBackward(),e.preventDefault()):t.$UTILS.toggleFullscreen(t.$store.getters.ytUseVideo&&t.$store.getters.isYT?"player":"pstr"):t.$store.commit("toggleStage"))}}},Y=Q,N=(n("86a5"),Object(v["a"])(Y,F,R,!1,null,null,null)),H=N.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar-items",{staticClass:"ml-3"},[n("autocomplete",{on:{search:function(e){return t.search(e)}}}),n("v-menu",{attrs:{"close-on-content-click":!1,"open-on-hover":t.$vuetify.breakpoint.mdAndUp,"nudge-bottom":25,"z-index":"10"},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[n("v-toolbar-title",{attrs:{slot:"activator"},slot:"activator"},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("\n          search\n        ")])],1)],1),n("v-card",[n("v-list",[n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.artist,callback:function(e){t.artist=e},expression:"artist"}})],1),n("v-list-tile-title",[t._v("Artist")])],1),n("v-divider"),n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.All,callback:function(e){t.$set(t.aSources,"All",e)},expression:"aSources.All"}})],1),n("v-list-tile-title",[t._v("All")])],1),n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.Bandcamp,callback:function(e){t.$set(t.aSources,"Bandcamp",e)},expression:"aSources.Bandcamp"}})],1),n("v-list-tile-title",[t._v("Bandcamp")])],1),n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.MixCloud,callback:function(e){t.$set(t.aSources,"MixCloud",e)},expression:"aSources.MixCloud"}})],1),n("v-list-tile-title",[t._v("Mixcloud")])],1),n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.SoundCloud,callback:function(e){t.$set(t.aSources,"SoundCloud",e)},expression:"aSources.SoundCloud"}})],1),n("v-list-tile-title",[t._v("SoundCloud")])],1),n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.YouTube,callback:function(e){t.$set(t.aSources,"YouTube",e)},expression:"aSources.YouTube"}})],1),n("v-list-tile-title",[t._v("YouTube")])],1),n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.Vimeo,callback:function(e){t.$set(t.aSources,"Vimeo",e)},expression:"aSources.Vimeo"}})],1),n("v-list-tile-title",[t._v("Vimeo")])],1),t.$vuetify.breakpoint.smAndDown?n("v-list-tile",{on:{click:function(e){t.showMenu=!1}}},[n("v-btn",{attrs:{flat:"",block:"",color:"primary"},on:{click:function(e){t.showMenu=!1}}},[t._v("Close")])],1):t._e()],1)],1)],1)],1)},K=[],z=n("b3af"),W={name:"Search",components:{autocomplete:z["a"]},watch:{"aSources.All":"_All","aSources.Bandcamp":"_other","aSources.MixCloud":"_other","aSources.SoundCloud":"_other","aSources.YouTube":"_other","aSources.Vimeo":"_other",artist:"__search"},data:function(){return{aSources:{All:!1,Bandcamp:!1,MixCloud:!1,SoundCloud:!1,YouTube:!0,Vimeo:!1},sQuery:"",artist:!1,showMenu:!1}},computed:{maSource:function(){var t=this;if(this.aSources.All)return"all";var e=[];return Object.keys(this.aSources).forEach(function(n){t.aSources[n]&&e.push(n)}),e.join("-")}},methods:{_All:function(t){t&&(this.aSources.Bandcamp=this.aSources.MixCloud=this.aSources.SoundCloud=this.aSources.YouTube=this.aSources.Vimeo=!1),this.search()},_other:function(t){t&&(this.aSources.All=!1),this.search()},__search:function(){this.artist?this.$router.push({name:"searchArtist",params:{query:this.sQuery,source:this.maSource}}):this.$router.push({name:"searchQuery",params:{query:this.sQuery,source:this.maSource}})},search:function(t){t&&(this.sQuery=t),this.$UTILS.closeSoftMobi(),this.__search()}}},G=W,X=(n("6730"),n("ce7e")),J=n("40fe"),Z=n("e449"),tt=n("b73d"),et=n("2a7f"),nt=Object(v["a"])(G,q,K,!1,null,"3ec380ec",null),it=nt.exports;b()(nt,{VBtn:w["a"],VCard:A["a"],VDivider:X["a"],VIcon:_["a"],VList:j["a"],VListTile:M["a"],VListTileAction:J["a"],VListTileTitle:B["c"],VMenu:Z["a"],VSwitch:tt["a"],VToolbarItems:et["a"],VToolbarTitle:et["b"]});var st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{staticClass:"pb-5",attrs:{value:t.$store.getters.snackb,color:t.$store.getters.snackc,bottom:!t.$vuetify.breakpoint.smAndDown,top:t.$vuetify.breakpoint.smAndDown}},[t._v("\n  "+t._s(t.$store.getters.snacks)+"\n  "),t.$store.getters.snackul?n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){return t.$store.dispatch("snacku")}}},[t._v("\n    Undo\n  ")]):n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){return t.$store.commit("snackb",!1)}}},[n("v-icon",[t._v("close")])],1)],1)},rt=[],ot={computed:{snackb:{get:function(){return this.$store.getters.snackb},set:function(t){return this.$store.commit("snackb",t)}}}},at=ot,lt=n("2db4"),ct=Object(v["a"])(at,st,rt,!1,null,null,null),ut=ct.exports;b()(ct,{VBtn:w["a"],VIcon:_["a"],VSnackbar:lt["a"]});var dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"dc-audio-container"}},[n("div",{staticClass:"fl-l",style:t.$vuetify.breakpoint.xsOnly?{width:"100%"}:{},attrs:{id:"left"},on:{click:function(e){t.$vuetify.breakpoint.xsOnly&&t.$store.commit("toggleStage")}}},[n("div",{style:{width:"100%"}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs2:"",sm12:""},on:{click:function(t){t.stopPropagation()}}},[t.$vuetify.breakpoint.smAndUp?n("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.previous}},[n("v-icon",[t._v("skip_previous")])],1):t._e(),n("v-btn",{class:t.$vuetify.breakpoint.smAndUp?"primary":"",attrs:{loading:t.bLoading,outline:t.$vuetify.breakpoint.smAndUp,icon:""},on:{click:t.$DCPlayer.togglePlay}},[n("v-icon",[t._v(t._s(t.play_arrow))])],1),t.$vuetify.breakpoint.smAndUp?n("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:function(e){return e.stopPropagation(),t.next(e)}}},[n("v-icon",[t._v("skip_next")])],1):t._e()],1),n("v-flex",{directives:[{name:"touch",rawName:"v-touch",value:{left:t.next,right:t.previous},expression:"{\n            left: next,\n            right: previous\n          }"}],attrs:{xs10:"","pr-2":""}},[t.$vuetify.breakpoint.xsOnly?n("div",{staticClass:"mr-4",attrs:{id:"mobTitle"}},[t.artistAndTitleLength?n("marquee",[n("span",[t._v(t._s(t.$store.getters.current_song.title))]),n("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]):[n("span",[t._v(t._s(t.$store.getters.current_song.title))]),n("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]],2):t._e()])],1)],1)]),n("div",{staticClass:"hidden-xs-only",attrs:{id:"right"},on:{wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[n("v-speed-dial",{attrs:{transition:"none","open-on-hover":""}},[n("v-btn",{class:t.volClass,attrs:{slot:"activator",fab:"",hover:"",icon:"",outline:"",small:""},on:{click:t.toggleMute},slot:"activator"},[n("v-icon",[t._v(t._s(t.volIcon))])],1),n("div",{staticClass:"slider-wrapper ma-0 pa-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"vol-slider pointer",attrs:{type:"range",min:"0",max:"10",step:"0.01"},domProps:{value:t.volume},on:{input:t.volumeChange,__r:function(e){t.volume=e.target.value}}})])],1)],1),t.$vuetify.breakpoint.smAndUp?n("div",{staticClass:"right"},[n("scroll-to-top")],1):t._e(),n("div",{attrs:{id:"middle"}},[n("div",{attrs:{id:"progress"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"ml-3 mr-3",attrs:{xs12:""}},[n("v-slider",{attrs:{max:t.eAudio.duration,label:t.currentTime,color:"primary","hide-details":""},on:{input:t.changePos},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1)],1)],1)]),n("audio",{attrs:{id:"dc-audio",controls:"",preload:"auto"}}),n("img",{attrs:{id:"dc-preload"}})])},pt=[],ht="",ft={name:"DcAudio",components:{"scroll-to-top":x},data:function(){return{bPreLoaded:!1,bLoading:!1,progress:0,eAudio:"",ePreload:"",play_arrow:"play_arrow",volIcon:"volume_up",volume:10,duration:"",currentTime:""}},computed:{volClass:function(){return"volume_off"===this.volIcon?"red":"primary"},artistAndTitleLength:function(){return this.$store.state.player.current_index?String(this.$store.getters.current_song.title).length+String(this.$store.getters.current_song.artist).length>40:0}},methods:{onWheel:function(t){t.deltaX>t.deltaY?this.$DCPlayer.volUp():this.$DCPlayer.volDown()},toggleMute:function(){this.eAudio.muted=!this.eAudio.muted,this.volIcon=this.eAudio.muted?"volume_off":this.updateVolIcon()},volumeChange:function(){this.eAudio.volume=this.volume/10,this.updateVolIcon()},volumeChange2:function(){this.volume=10*this.eAudio.volume,this.updateVolIcon()},updateVolIcon:function(){return this.volIcon=this.eAudio.volume>.5?"volume_up":0===this.eAudio.volume||this.eAudio.muted?"volume_off":"volume_down"},changePos:function(t){!isNaN(t)&&this.eAudio.currentTime&&(this.eAudio.currentTime=t)},updated:function(){ht!=~~this.eAudio.currentTime&&(ht=~~this.eAudio.currentTime,this.currentTime="".concat(this.secondsToDuration(this.eAudio.currentTime)," - ").concat(this.secondsToDuration(this.eAudio.duration)),this.progress=Math.floor(this.eAudio.currentTime),!this.bPreLoaded&&100/this.eAudio.duration*this.eAudio.currentTime>3&&(this.bPreLoaded=!0,this.$store.getters.next_song&&"SoundCloud"!=this.$store.getters.next_song.source&&("YouTube"==this.$store.getters.next_song.source?this.ePreload.src="".concat(this.$DCPlayer.sBase,"v2/preload/?i=").concat(this.$store.getters.next_song.trackID):this.ePreload.src="".concat(this.$DCPlayer.sBase,"v2/preload/?i=").concat(this.$store.getters.next_song.mp32))))},playing:function(){this.$store.commit("dcIsLoading",!1),this.$store.commit("dcIsPlaying",!0),this.duration=this.secondsToDuration(this.eAudio.duration.toFixed(0)),this.play_arrow="pause",this.bLoading=!1},paused:function(){this.$store.commit("dcIsPlaying",!1),this.play_arrow="play_arrow"},loading:function(){this.currentTime="00:00 - 00:00",this.$store.commit("dcIsLoading",!0),this.bLoading=!0,this.bPreLoaded=!1},next:function(){this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)},previous:function(){this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)},secondsToDuration:function(t){if(isNaN(t))return"00:00";var e=Math.ceil(t),n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),s=e-3600*n-60*i;return n<10&&(n="0"+n),i<10&&(i="0"+i),s<10&&(s="0"+s),(n>0?n+":":"")+i+":"+s}},mounted:function(){this.eAudio=this.$DCPlayer.eAudio=document.getElementById("dc-audio"),this.ePreload=document.getElementById("dc-preload"),this.eAudio.addEventListener("timeupdate",this.updated),this.eAudio.addEventListener("playing",this.playing),this.eAudio.addEventListener("pause",this.paused),this.eAudio.addEventListener("loadstart",this.loading),this.eAudio.addEventListener("ended",this.next),this.eAudio.addEventListener("volumechange",this.volumeChange2)}},mt=ft,gt=(n("7b04"),n("ba0d")),vt=n("c73b"),yt=n("269a"),bt=n.n(yt),wt=n("c341"),_t=Object(v["a"])(mt,dt,pt,!1,null,null,null),kt=_t.exports;b()(_t,{VBtn:w["a"],VFlex:V["a"],VIcon:_["a"],VLayout:o["a"],VSlider:gt["a"],VSpeedDial:vt["a"]}),bt()(_t,{Touch:wt["a"]});var xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"yt",attrs:{id:"dc-audio-container"}},[n("div",{attrs:{id:"dc-player"}},[n("div",{staticClass:"fl-l",style:t.$vuetify.breakpoint.xsOnly?{width:"100%"}:{},attrs:{id:"left"},on:{click:function(e){e.stopPropagation(),t.$vuetify.breakpoint.xsOnly&&t.$store.commit("toggleStage")}}},[n("div",{style:{width:"100%"}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs2:"",sm12:""}},[t.$vuetify.breakpoint.smAndUp?n("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.previous}},[n("v-icon",[t._v("skip_previous")])],1):t._e(),n("v-btn",{class:t.$vuetify.breakpoint.smAndUp?"primary":"",attrs:{loading:t.$store.getters.ytIsLoading,outline:t.$vuetify.breakpoint.smAndUp,icon:""},on:{click:function(e){return e.stopPropagation(),t.$DCPlayer.togglePlay(e)}}},[n("v-icon",[t._v(t._s(t.sPlayIcon))])],1),t.$vuetify.breakpoint.smAndUp?n("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.next}},[n("v-icon",[t._v("skip_next")])],1):t._e()],1),n("v-flex",{directives:[{name:"touch",rawName:"v-touch",value:{left:t.next,right:t.previous},expression:"{\n              left: next,\n              right: previous\n            }"}],attrs:{xs10:"","pr-2":""}},[t.$vuetify.breakpoint.xsOnly?n("div",{staticClass:"mr-4",attrs:{id:"mobTitle"}},[t.artistAndTitleLength?n("marquee",[n("span",[t._v(t._s(t.$store.getters.current_song.title))]),n("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]):[n("span",[t._v(t._s(t.$store.getters.current_song.title))]),n("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]],2):t._e()])],1)],1)]),n("div",{key:t.volThumbCol,staticClass:"hidden-xs-only",attrs:{id:"right"},on:{wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[n("v-speed-dial",{attrs:{transition:"none","open-on-hover":""}},[n("v-btn",{class:t.volCol,attrs:{slot:"activator",fab:"",hover:"",icon:"",outline:"",small:""},on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}},slot:"activator"},[n("v-icon",[t._v(t._s(t.volIcn))])],1),n("div",{staticClass:"slider-wrapper",on:{click:function(t){t.preventDefault()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"vol-slider pointer",attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.volume},on:{input:t.volumeChange,__r:function(e){t.volume=e.target.value}}})])],1)],1),t.$vuetify.breakpoint.smAndUp?n("div",{staticClass:"right"},[n("scroll-to-top")],1):t._e(),n("div",{attrs:{id:"middle"}},[n("div",{attrs:{id:"progress"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"ml-3 mr-3",attrs:{xs12:""}},[n("v-slider",{attrs:{max:t.iDuration,label:t.iCurrent,color:"primary","hide-details":""},model:{value:t.iProgress,callback:function(e){t.iProgress=e},expression:"iProgress"}})],1)],1)],1)])])])},Ct=[];function St(t,e){var n=document.createElement("style");n.innerHTML=t,n.id=e,document.body.appendChild(n)}var Pt={name:"dc-youtube",data:function(){return{progress:0,volume:100}},components:{"scroll-to-top":x},computed:{volThumbCol:function(){St(".vol-slider::-webkit-slider-thumb { background: ".concat(this.$vuetify.theme.primary," }.vol-slider::-moz-range-thumb { background: ").concat(this.$vuetify.theme.primary," }"),"vol-slider-style")},volIcn:function(){return this.volume>50?"volume_up":0===this.volume?"volume_off":"volume_down"},volCol:function(){return 0===this.volume?"red":"primary"},iProgress:{get:function(){return Math.floor(this.$store.getters.ytCurrentTime)},set:function(t){var e=Math.floor(this.iProgress);e!==t&&e+1!==t&&(this.$store.commit("ytCurrentTime",t),this.$store.getters.ytObject.seekTo(t))}},iDuration:function(){return Math.floor(this.$store.getters.ytDuration)},iCurrent:function(){return"".concat(this.secondsToDuration(this.$store.getters.ytCurrentTime)," - ").concat(this.secondsToDuration(this.$store.getters.ytDuration))},artistAndTitleLength:function(){return this.$store.state.player.current_index?String(this.$store.getters.current_song.title).length+String(this.$store.getters.current_song.artist).length>40:0},sPlayIcon:function(){return this.$store.getters.ytIsPlaying?"pause":"play_arrow"}},methods:{onWheel:function(t){t.deltaX>t.deltaY?this.volume=this.$DCPlayer.volUp():this.volume=this.$DCPlayer.volDown(),this.updateVolIcon()},toggleMute:function(){this.$store.getters.ytObject.isMuted()?(this.$store.getters.ytObject.unMute(),this.updateVolIcon()):(this.$store.getters.ytObject.mute(),this.volIcon="volume_off")},volumeChange:function(){this.$store.getters.ytObject.setVolume(this.volume),this.updateVolIcon(),this.$store.getters.ytObject.isMuted()&&this.$store.getters.ytObject.unMute()},updateVolIcon:function(){return this.volIcon=this.volume>50?"volume_up":0===this.volume?"volume_off":"volume_down"},togglePlay:function(){this.$store.getters.ytIsPlaying?this.$store.getters.ytObject.pauseVideo():this.$store.getters.ytObject.playVideo()},next:function(){this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)},previous:function(){this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)},secondsToDuration:function(t){if(isNaN(t))return"00:00";var e=Math.ceil(t),n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),s=e-3600*n-60*i;return n<10&&(n="0"+n),i<10&&(i="0"+i),s<10&&(s="0"+s),(n>0?n+":":"")+i+":"+s}}},Dt=Pt,$t=(n("8354"),Object(v["a"])(Dt,xt,Ct,!1,null,null,null)),It=$t.exports;b()($t,{VBtn:w["a"],VFlex:V["a"],VIcon:_["a"],VLayout:o["a"],VSlider:gt["a"],VSpeedDial:vt["a"]}),bt()($t,{Touch:wt["a"]});var Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.state.user.drawRight?n("v-layout",{attrs:{row:"",wrap:""}},[n("transition-group",{attrs:{name:"slide-fade"}},t._l(t.aPlaylist,function(e,i){return n("current-playlist-item",{key:e.trackID+(i+t.$store.state.player.current_index),attrs:{song:e,index:i},nativeOn:{contextmenu:function(n){return t.$emit("conmen",[n,[e]])}}})}),1),n("v-flex",{attrs:{xs12:""}},[t.aPlaylist.length?t._e():n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("jumbo",{attrs:{discover:!1,error:"",subheading:"Nothing playing"}})],1)],1)],1)],1),t.aPlaylist.length?n("infinite-loading",{ref:"infiniteLoading2",staticClass:"flex xs12",attrs:{distance:600,spinner:"default"},on:{infinite:t.infiniteHandler}},[n("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n      End of the line kiddo\n    ")]),n("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n      End of the line kiddo\n    ")]),n("span",{attrs:{slot:"spinner"},slot:"spinner"},[n("v-flex",{staticClass:"text-xs-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)]):t._e()],1):t._e()},Tt=[],At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:""},on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[n("v-card",{staticClass:"pointer"},[n("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===t.song.source?16/9:1,src:t.song.poster}},[n("span",{staticClass:"card-duration",domProps:{textContent:t._s(t.song.duration)}})]),n("v-card-actions",{on:{click:function(t){t.stopPropagation()}}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[t._v("\n          "+t._s(t.song.title)+"\n        ")]),n("v-flex",{attrs:{xs12:""}},[n("router-link",{staticClass:"noDeco pointer artist",attrs:{to:{name:"artist",params:{source:t.song.source,artist:t.song.artist,artistID:t.song.artistID}}}},[t._v("\n            "+t._s(t.song.artist)+"\n          ")])],1)],1)],1)],1)],1)},Vt=[],Lt={props:{song:{type:Object,default:function(){return[]}},index:{type:Number,default:0}},name:"CurrentPlaylistItem",data:function(){return{show:!1,desc:this.song.description,youtubelink:"https://www.youtube.com/embed/".concat(this.song.trackID,"?autoplay=1&mute=1&controls=1&enablejsapi=1"),artistID:"#/a/".concat(this.song.source,"/").concat(encodeURIComponent(this.song.artist),"/").concat(this.song.artistID)}},methods:{play:function(){if(0===this.index)return"auto"===this.$route.name?this.$DCPlayer.togglePlay():this.$router.push({name:"auto",params:{artist:this.song.artist,trackID:this.song.trackID,source:this.song.source}});this.$parent.$parent.play(this.index+this.$store.state.player.current_index)}}},jt=Lt,Mt=(n("01d6"),n("99d9")),Bt=Object(v["a"])(jt,At,Vt,!1,null,null,null),Et=Bt.exports;b()(Bt,{VCard:A["a"],VCardActions:Mt["a"],VFlex:V["a"],VImg:L["a"],VLayout:o["a"]});var Ut=n("a1b2"),Ft=n("e166"),Rt=n.n(Ft);function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(n,!0).forEach(function(e){Nt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ht={name:"CurrentPlaylist",data:function(){return{numberOfItems:4,infState:""}},watch:{hash:function(){this.numberOfItems=4,this.infState&&this.infState.reset()}},components:{"infinite-loading":Rt.a,jumbo:Ut["a"],"current-playlist-item":Et},computed:Yt({},Object(d["b"])({hash:"hash"}),{aPlaylist:function(){return this.$store.state.player.current_playlist.slice(this.$store.state.player.current_index,this.$store.state.player.current_index+this.numberOfItems)}}),methods:{infiniteHandler:function(t){this.numberOfItems+=4;var e=Math.min(this.$store.state.player.current_playlist.length,this.$store.state.player.current_index+this.numberOfItems);e===this.$store.state.player.current_playlist.length?t.complete():t.loaded(),this.infState=t},play:function(t){this.$store.commit("changeIndex",t),this.$DCPlayer.playIndex(t),this.$DCFB.historyPush(this.$store.getters.current_song)}}},qt=Ht,Kt=(n("8808"),n("12b2")),zt=n("490a"),Wt=Object(v["a"])(qt,Ot,Tt,!1,null,null,null),Gt=Wt.exports;b()(Wt,{VCard:A["a"],VCardTitle:Kt["a"],VFlex:V["a"],VLayout:o["a"],VProgressCircular:zt["a"]});var Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-1"},[n("v-list",{staticClass:"pa-0",attrs:{dense:""}},[n("v-list-tile",{class:t.isPorA("home"),attrs:{to:{name:"home",params:{user:t.UID}},"active-class":t.isPorA("home")},on:{click:t.closeLeft}},[n("v-list-tile-action",[n("v-icon",[t._v("home")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Home")])],1)],1),n("v-list-tile",{class:t.isPorA("trending"),attrs:{to:{name:"trending"},"active-class":t.isPorA("trending")},on:{click:t.closeLeft}},[n("v-list-tile-action",[n("v-icon",[t._v("whatshot")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Trending")])],1)],1),n("v-list-tile",{attrs:{to:{name:"auto",params:{artist:this.$store.getters.current_song.artist,trackID:this.$store.getters.current_song.trackID,source:this.$store.getters.current_song.source}},"active-class":t.isPorA("auto")},on:{click:t.closeLeft}},[n("v-list-tile-action",[n("v-icon",[t._v("music_video")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Current")])],1)],1),n("v-list-tile",{class:t.isPorA("subsAll"),attrs:{to:{name:"subsAll",params:{user:t.UID}},"active-class":t.isPorA("subsAll")},on:{click:t.closeLeft}},[n("v-list-tile-action",[n("v-icon",[t._v("people")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Subscriptions")])],1)],1),n("v-list-tile",{staticClass:"history-link",class:t.isPorA("history"),attrs:{to:{name:"history",params:{user:t.UID}},"active-class":t.isPorA("history")},on:{click:t.closeLeft}},[n("v-list-tile-action",[n("v-icon",[t._v("history")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("History")])],1),n("span",{staticClass:"delete"},[n("delete-button",{on:{delete:t.clearHistory}})],1)],1),n("v-list-tile",{attrs:{to:{path:"/settings"},"active-class":"secondary white--text"},on:{click:t.closeLeft}},[n("v-list-tile-action",[n("v-icon",[t._v("settings")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Settings")])],1)],1)],1),n("v-list",{staticClass:"pa-0",attrs:{dense:""}},[n("user-playlists",{on:{closeLeft:t.closeLeft}})],1),n("v-list",{staticClass:"pa-0 pb-5",attrs:{dense:""}},[n("user-subscriptions",{on:{closeLeft:t.closeLeft}})],1)],1)},Jt=[],Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[n("v-subheader",{staticClass:"pointer",on:{click:function(e){t.closeLeftOnMobile(),t.$router.push({name:"playlistOverview",params:{user:t.uid}})}}},[n("div",[t._v("Playlists")]),t.bUIShowMore?n("v-btn",{staticClass:"ar17",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:5}}},[n("v-icon",[t._v(t._s(t.bShowMore?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1),t.playlists.length?n("v-list-tile",{attrs:{to:{name:"playlistsAll",params:{user:t.uid}},"active-class":"secondary white--text"},on:{click:function(e){return e.stopPropagation(),t.closeLeftOnMobile(e)}}},[n("v-list-tile-action",[n("v-icon",[t._v("music_note")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("All")])],1)],1):t._e(),n("v-list-tile",{on:{click:function(e){return e.stopPropagation(),t.$refs.search.focus()}}},[n("v-list-tile-action",{on:{click:function(e){t.search.length>0&&(t.search="")}}},[n("v-icon",{attrs:{color:t.filterHasFocus?"primary":""}},[t._v(t._s(t.filterLeng>0?"clear":"filter_list"))])],1),n("v-list-tile-content",[n("v-text-field",{ref:"search",staticClass:"filter ma-0 pa-0",attrs:{color:"primary",placeholder:"Filter",onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Filter'","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.auth_state?n("v-data-iterator",{attrs:{items:t.playlists,search:t.search,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,"custom-filter":function(t,e,n){return e=e.toString().toLowerCase(),t.filter(function(t){return n(t["name_lower"],e)})},"hide-actions":"","no-data-text":"Add some playlists","no-results-text":"No matching playlists"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return n("v-list-tile",{key:e.item[".key"],class:t.isPlaying(t.uid,e.item[".key"],e.item["name"]),attrs:{id:"playlist","active-class":t.isPlaying(t.uid,e.item[".key"],e.item["name"])||"secondary white--text"},on:{click:function(n){t.closeLeftOnMobile(),t.$router.push({name:"userPlaylist",params:{user:t.uid,name:e.item["name"],playlist:e.item[".key"]}})}}},[n("v-list-tile-action",[n("v-icon",{attrs:{color:t.isPlaying(t.uid,e.item[".key"],e.item["name"])?"white":""}},[t._v("music_note")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.item["name"]))])],1),n("span",{staticClass:"delete"},[n("delete-button",{attrs:{id:e.item[".key"]},on:{delete:t.playlistDelete}})],1)],1)}}],null,!1,4071872398)},[t.bUIShowMore?n("v-flex",{attrs:{slot:"footer"},slot:"footer"},[n("v-btn",{attrs:{small:"",block:"",color:"transparent"},on:{click:function(e){t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:5}}},[t._v("\n        "+t._s(t.bShowMore?"SHOW LESS":"SHOW MORE")+"\n      ")])],1):t._e()],1):t._e()],1)},te=[];function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(n,!0).forEach(function(e){ie(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var se={name:"UserPlaylists",components:{"delete-button":P["a"]},watch:{auth_state:{immediate:!0,handler:"bind"}},data:function(){return{playlists:[],bShowMore:!1,filterHasFocus:!1,search:"",active:!1,rowsPerPageItems:[5,{text:"All",value:-1}],pagination:{rowsPerPage:5}}},computed:ne({},Object(d["c"])({auth_state:function(t){return t.user.auth_state}}),{},Object(d["b"])(["uid"]),{bUIShowMore:function(){return this.auth_state&&this.playlists.length>5},filterLeng:function(){return this.search.length>0}}),methods:{bind:function(){this.auth_state&&this.$bindAsArray("playlists",this.$DCFB.playlistsRefs.orderByChild("name_lower"))},isPlaying:function(t,e,n){return this.$store.getters.hash==="/u/"+t+"/"+e+"/"+encodeURIComponent(n)?"primary white--text":""},closeLeftOnMobile:function(){this.$emit("closeLeft")},playlistDelete:function(t){this.$DCFB.playlistDelete(t)}}},re=se,oe=(n("10dd"),n("c377")),ae=n("e0c7"),le=n("2677"),ce=Object(v["a"])(re,Zt,te,!1,null,null,null),ue=ce.exports;b()(ce,{VBtn:w["a"],VDataIterator:oe["a"],VFlex:V["a"],VIcon:_["a"],VList:j["a"],VListTile:M["a"],VListTileAction:J["a"],VListTileContent:B["a"],VListTileTitle:B["c"],VSubheader:ae["a"],VTextField:le["a"]});var de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[n("v-subheader",{staticClass:"pointer",on:{click:function(e){t.closeLeftOnMobile(),t.$router.push({name:"userSubOverview",params:{user:t.uid}})}}},[t._v("\n    Subscriptions\n    "),t.bUIShowMore?n("v-btn",{staticClass:"ar17",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[n("v-icon",[t._v(t._s(t.bShowMore?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1),n("v-list-tile",{on:{click:function(e){return e.stopPropagation(),t.$refs.search.focus()}}},[n("v-list-tile-action",{on:{click:function(e){t.search.length>0&&(t.search="")}}},[n("v-icon",{attrs:{color:t.filterHasFocus?"primary":""}},[t._v(t._s(t.filterLeng>0?"clear":"filter_list"))])],1),n("v-list-tile-content",[n("v-text-field",{ref:"search",staticClass:"filter ma-0 pa-0",attrs:{color:"primary",placeholder:"Filter",onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Filter'","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.auth_state?n("v-data-iterator",{attrs:{items:t.subscriptions,search:t.search,"rows-per-page-items":t.rowsPerPageItems,"custom-filter":function(t,e,n){return e=e.toString().toLowerCase(),t.filter(function(t){return n([t["source"],t["name_lower"]],e)})},pagination:t.pagination,"hide-actions":"","no-data-text":"Subscribe to some people","no-results-text":"No matching subscriptions"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return n("v-list-tile",{key:e.item[".key"],class:t.isPlaying(e.item["source"],e.item["name"],e.item["id"]),attrs:{id:"subscription","active-class":t.isPlaying(e.item["source"],e.item["name"],e.item["id"])||"secondary white--text"},on:{click:function(n){t.closeLeftOnMobile(),t.$router.push({name:"artist",params:{source:e.item["source"],artist:e.item["name"],artistID:e.item["id"]}})}}},[n("v-list-tile-action",{attrs:{color:"green"}},[n("v-avatar",{attrs:{slot:"activator",size:"35px"},slot:"activator"},[n("img",{class:["sub-"+e.item["source"]],attrs:{src:e.item["img"]}})])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.item["name"]))])],1),n("delete-button",{staticClass:"delete",attrs:{id:e.item["id"]},on:{delete:t.subscriptionDelete}})],1)}}],null,!1,3527443535)},[t.bUIShowMore?n("v-flex",{attrs:{slot:"footer"},slot:"footer"},[n("v-btn",{attrs:{small:"",block:"",color:"transparent"},on:{click:function(e){t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[t._v("\n        "+t._s(t.bShowMore?"SHOW LESS":"SHOW MORE")+"\n      ")])],1):t._e()],1):t._e()],1)},pe=[];function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(n,!0).forEach(function(e){me(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge={name:"UserPlaylists",components:{"delete-button":P["a"]},data:function(){return{bShowMore:!0,filterHasFocus:!1,search:"",active:!1,rowsPerPageItems:[7,{text:"All",value:-1}],pagination:{rowsPerPage:-1}}},watch:{auth_state:{immediate:!0,handler:"bind"}},computed:fe({},Object(d["c"])({auth_state:function(t){return t.user.auth_state}}),{},Object(d["b"])({uid:"uid"}),{bUIShowMore:function(){return this.auth_state&&this.subscriptions.length>5},filterLeng:function(){return this.search.length>0}}),methods:{bind:function(){this.auth_state&&this.$bindAsArray("subscriptions",this.$DCFB.subscriptions.orderByChild("name_lower"))},isPlaying:function(t,e,n){return this.$store.getters.hash==="/a/"+t+"/"+encodeURIComponent(e)+"/"+n?"primary white--text":""},subscriptionDelete:function(t){this.$DCFB.subscriptionDelete(t)},closeLeftOnMobile:function(){this.$emit("closeLeft")}}},ve=ge,ye=(n("3260"),n("8212")),be=Object(v["a"])(ve,de,pe,!1,null,null,null),we=be.exports;b()(be,{VAvatar:ye["a"],VBtn:w["a"],VDataIterator:oe["a"],VFlex:V["a"],VIcon:_["a"],VList:j["a"],VListTile:M["a"],VListTileAction:J["a"],VListTileContent:B["a"],VListTileTitle:B["c"],VSubheader:ae["a"],VTextField:le["a"]});var _e={name:"Sidebar",components:{"user-playlists":ue,"user-subscriptions":we,"delete-button":P["a"]},data:function(){return{userDrawer:!1}},methods:{closeLeft:function(){this.$emit("closeLeft","left")},clearHistory:function(){this.$DCFB.historyClear()},isPorA:function(t){return this.$store.getters.hash.indexOf(t)>-1?"primary white--text":this.$route.name==t?"secondary white--text":""}},computed:{UID:function(){return this.$store.getters.uid||Math.random()},loginPath:function(){return"/"+this.loginText.toLowerCase()},loginText:function(){return this.loggedIn?"User":"Login"},loggedIn:function(){return this.$store.state.user.auth_state}},mounted:function(){}},ke=_e,xe=(n("6a69"),Object(v["a"])(ke,Xt,Jt,!1,null,null,null)),Ce=xe.exports;b()(xe,{VIcon:_["a"],VList:j["a"],VListTile:M["a"],VListTileAction:J["a"],VListTileContent:B["a"],VListTileTitle:B["c"]});var Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return-1==t.$store.state.player.current_index?n("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.user.bShowStage,expression:"$store.state.user.bShowStage"}],staticClass:"mt-2",attrs:{xs12:""}},[n("jumbo",{attrs:{discover:!1,error:t.err,title:t.txt,subheading:t.$route.params.artist?"Just a moment":"Try searching for your favourite artist"}}),n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("history",{on:{conmen:function(e){return t.$emit("conmen",e)}}})],1)],1):n("v-flex",{attrs:{xs12:""}},[n("video-stage",{on:{conmen:function(e){return t.$emit("conmen",e)}}})],1)},Pe=[],De=n("08fc"),$e={name:"Stage",components:{history:De["default"],jumbo:Ut["a"]},computed:{err:function(){return this.$route.params.artist?"":"Nothing playing"},txt:function(){return this.$route.params.artist?"Loading song by "+this.$route.params.artist:""}}},Ie=$e,Oe=Object(v["a"])(Ie,Se,Pe,!1,null,null,null),Te=Oe.exports;b()(Oe,{VFlex:V["a"],VLayout:o["a"]});var Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"?"},[n("v-bottom-nav",{attrs:{value:!0,absolute:"",color:"transparent"}},[n("v-btn",{attrs:{to:{name:"home",params:{user:t.uid}},color:"primary",flat:""}},[n("span",[t._v("Home")]),n("v-icon",[t._v("home")])],1),n("v-btn",{attrs:{to:{name:"subsAll",params:{user:t.uid}},color:"primary",flat:""}},[n("span",[t._v("Latest")]),n("v-icon",[t._v("whatshot")])],1),n("v-btn",{attrs:{to:{name:"playlistOverview",params:{user:t.uid}},color:"primary",flat:""}},[n("span",[t._v("Playlists")]),n("v-icon",[t._v("library_music")])],1),n("v-btn",{attrs:{to:{name:"userSubOverview",params:{user:t.uid}},color:"primary",flat:""}},[n("span",[t._v("Following")]),n("v-icon",[t._v("people")])],1),n("v-btn",{attrs:{to:{name:"settings"},flat:"",color:"primary"}},[n("span",[t._v("Settings")]),n("v-icon",[t._v("settings")])],1)],1)],1)},Ve=[],Le={name:"mobFoot",computed:{auto:function(){return this.$store.getters.current_trackID?{name:"auto",params:{artist:this.$store.getters.current_song.artist,trackID:this.$store.getters.current_song.trackID,source:this.$store.getters.current_song.source}}:{name:"stage"}},uid:function(){return this.$store.getters.uid||Math.random()},active:{get:function(){return this.$route.name},set:function(t){}}}},je=Le,Me=(n("f86f"),n("887a")),Be=Object(v["a"])(je,Ae,Ve,!1,null,null,null),Ee=Be.exports;function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(n,!0).forEach(function(e){Re(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}b()(Be,{VBottomNav:Me["a"],VBtn:w["a"],VIcon:_["a"]});var Qe={name:"App",data:function(){return{snackbar:!1,swReg:"",refreshing:!1}},components:{scroll:x,popup:U,hks:H,snackbar:ut,search:it,"dc-audio":kt,"dc-youtube":It,sidebar:Ce,"current-playlist":Gt,stage:Te,mobileFooter:Ee},methods:{con:function(t){this.$refs.con.show(t[0],t[1])},leftTog:function(){this.$store.commit("drawLeftTog")},rightTog:function(){this.$store.commit("drawRightTog")},closeLeft:function(){this.$UTILS.isMobile&&(this.$store.commit("drawLeft",!1),this.drawLeft=!1)},listenForWaitingServiceWorker:function(t,e){function n(){t.installing.addEventListener("statechange",function(){"installed"===this.state&&e(t)})}if(t){if(t.waiting)return e(t);t.installing&&n(),t.addEventListener("updatefound",n)}}},computed:Fe({},Object(d["c"])({bShowStage:function(t){return t.user.bShowStage}}),{},Object(d["b"])({uid:"uid",blackClass:"blackClass",isYT:"isYT",ytUseVideo:"ytUseVideo",theme:"theme",ytFullScreen:"ytFullScreen"}),{footStyle:function(){return{height:(this.bMobi?"128px":"56px")+" !important"}},bMobi:function(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name},textClass:function(){return"noDeco pointer hidden-sm-and-down "+this.$store.getters.textColor},currentActive:function(){return"stage"===this.$route.name},drawRight:{get:function(){return this.$store.state.user.drawRight},set:function(t){this.$store.commit("drawRight",t)}},drawLeft:{get:function(){return this.$store.state.user.drawLeft},set:function(t){this.$store.commit("drawLeft",t)}}}),created:function(){var t=this;"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("controllerchange",function(){t.refreshing||(t.refreshing=!0,window.location.reload())}),navigator.serviceWorker.getRegistration().then(function(e){t.swReg=e,t.listenForWaitingServiceWorker(t.swReg,function(){t.snackbar=!0})})),this.$vuetify.theme.primary="#710000",this.$store.commit("ytUseVideo",!this.bMobi),this.$DCFB.fb.auth().onAuthStateChanged(function(e){t.$store.commit("authChange",!1),t.$nextTick(function(){t.$store.commit("authChange",!!e),e?(t.$store.commit("setUser",e),t.$DCFB.init(e.uid),t.$route.name||e.isAnonymous?t.$route.name||t.$router.push({name:"about"}):t.$router.push({name:"home",params:{user:e.uid}}),t.$store.commit("isMobile",t.$vuetify.breakpoint.smAndDown),t.$DCFB.settings.once("value",function(e){null!==e.val()&&t.$store.commit("settings",e.val())})):t.$DCFB.fb.auth().signInAnonymously()})})}},Ye=Qe,Ne=(n("034f"),n("7496")),He=n("a523"),qe=n("549c"),Ke=n("553a"),ze=n("f774"),We=n("9910"),Ge=n("71d9"),Xe=n("706c"),Je=Object(v["a"])(Ye,a,l,!1,null,null,null),Ze=Je.exports;b()(Je,{VApp:Ne["a"],VBtn:w["a"],VContainer:He["a"],VContent:qe["a"],VFlex:V["a"],VFooter:Ke["a"],VIcon:_["a"],VLayout:o["a"],VNavigationDrawer:ze["a"],VSnackbar:lt["a"],VSpacer:We["a"],VToolbar:Ge["a"],VToolbarSideIcon:Xe["a"],VToolbarTitle:et["b"]});var tn={state:{user:"",drawLeft:!1,drawRight:!1,view_mode:0,auth_state:!1,bShowStage:!1,isMobile:!1},getters:{isMobile:function(t){return t.isMobile},getUser:function(t){return t.user},isAnon:function(t){return t.user.isAnonymous},uid:function(t){return t.user.uid}},mutations:{isMobile:function(t,e){t.isMobile=e},drawLeft:function(t,e){t.drawLeft=e},drawRight:function(t,e){t.drawRight=e},drawRightTog:function(t){t.drawRight=!t.drawRight},drawLeftTog:function(t){t.drawLeft=!t.drawLeft},view_mode_toggle:function(t){t.view_mode<2?t.view_mode++:t.view_mode=0},bShowStage:function(t,e){t.bShowStage=e},setUser:function(t,e){t.user=e},authChange:function(t,e){t.auth_state=e},toggleStage:function(t){t.bShowStage=!t.bShowStage,t.bShowStage?pn.push({name:"stage"}):pn.go(-1)}}},en={state:{current_playlist:[],current_index:-1,current_hash:"",show_pop:!1,show_pop_list:!1},mutations:{setNPlay:function(t,e){t.current_playlist=e.songs,t.current_index=e.current,t.current_hash=e.path},current_playlist:function(t,e){t.current_playlist=e},changeIndex:function(t,e){t.current_index=e},show_pop:function(t,e){t.show_pop=e},show_pop_list:function(t,e){t.show_pop_list=e}},getters:{current_index:function(t){return t.current_index},hash:function(t){return t.current_hash},current_playlist:function(t){return t.current_playlist},current_trackID:function(t){return t.current_index>-1?t.current_playlist[t.current_index].trackID:""},current_source:function(t){return t.current_index>-1?t.current_playlist[t.current_index].source:""},current_song:function(t){return t.current_index>-1?t.current_playlist[t.current_index]:""},next_song:function(t){return t.current_index<0?"":t.current_index+1<t.current_playlist.length?t.current_playlist[t.current_index+1]:t.current_playlist[0]}}},nn={state:{dcIsPlaying:!1,dcIsLoading:!1,ytUseVideo:!1,ytObject:[],ytDuration:0,ytCurrentTime:0,ytState:{data:-1,target:{getCurrentTime:function(){return""},getDuration:function(){return""},pauseVideo:function(){return""},playVideo:function(){return""}}}},mutations:{dcIsLoading:function(t,e){t.dcIsLoading=e},dcIsPlaying:function(t,e){t.dcIsPlaying=e},ytUseVideo:function(t,e){t.ytUseVideo=e},ytObject:function(t,e){t.ytObject=e},ytState:function(t,e){t.ytState=e},ytDuration:function(t,e){t.ytDuration=e},ytCurrentTime:function(t,e){t.ytCurrentTime=e},ytPause:function(t){1===t.ytState&&"function"===typeof t.ytObject.stopVideo&&t.ytObject.pauseVideo()},ytStopVideo:function(t){1===t.ytState&&"function"===typeof t.ytObject.stopVideo&&t.ytObject.stopVideo()},ytToggleVideo:function(t){t.ytUseVideo=t.ytUseVideo=!t.ytUseVideo}},getters:{isLoading:function(t,e){return t.ytUseVideo&&e.isYT?e.ytIsLoading:t.dcIsLoading},isPlaying:function(t,e){return t.ytUseVideo&&e.isYT?e.ytIsPlaying:t.dcIsPlaying},dcIsLoading:function(t){return t.dcIsLoading},dcIsPlaying:function(t){return t.dcIsPlaying},ytUseVideo:function(t){return t.ytUseVideo},ytObject:function(t){return t.ytObject},ytState:function(t){return t.ytState},ytDuration:function(t){return t.ytDuration},ytCurrentTime:function(t){return t.ytCurrentTime},ytIsPlaying:function(t){return 1===t.ytState},ytIsPaused:function(t){return 2===t.ytState},ytIsLoading:function(t){return 3===t.ytState},isYT:function(t,e){return"YouTube"===e.current_source}}},sn={state:{loadValue:0,loadIndeterm:!1,loadActive:!1},mutations:{loadActive:function(t,e){t.loadActive=e},loadValue:function(t,e){t.loadValue=e},loadIndeterm:function(t,e){t.loadIndeterm=e}},getters:{loadActive:function(t){return t.loadActive},loadValue:function(t){return t.loadValue},loadIndeterm:function(t){return t.loadIndeterm}},actions:{loadIndeterm:function(t,e){if(e){var n=function(){t.commit("loadIndeterm",e),t.getters.loadActive||0!==t.getters.loadValue||t.commit("loadActive",!0);var n=setInterval(function(){t.getters.loadValue<88&&t.getters.loadIndeterm?t.commit("loadValue",t.getters.loadValue+1):clearInterval(n)},12)};t.getters.loadIndeterm&&e?(t.commit("loadValue",0),setTimeout(function(){n()},420)):n()}else t.getters.loadIndeterm||e?(t.commit("loadIndeterm",e),t.commit("loadValue",100),setTimeout(function(){t.commit("loadActive",!1),setTimeout(function(){t.getters.loadIndeterm||t.commit("loadValue",0)},250)},600)):t.commit("loadValue",0)}}},rn={state:{settings:{"Night Mode":!0,"Show Popup":!0,"Show Video":!0,"Show Watch Button":!0,"Close Menu":!0,Black:!1,Video:!0}},getters:{showPopupSetting:function(t){return Boolean(t.settings["Show Popup"])},closeMenuOnScroll:function(t){return Boolean(t.settings["Close Menu"])},showWatchB:function(t){return Boolean(t.settings["Show Watch Button"])},ytVideo:function(t){return Boolean(t.settings["Video"])},black:function(t){return Boolean(t.settings["Black"])},blackClass:function(t){return t.settings["Black"]?"theme-jet-black":""},nightMode:function(t){return Boolean(t.settings["Night Mode"])},showVideo:function(t){return Boolean(t.settings["Show Video"])},textColor:function(t){return t.settings["Night Mode"]?"white--text":"black--text"},theme:function(t){return t.settings["Night Mode"]?{dark:!0}:{light:!0}}},mutations:{black:function(t,e){t.settings["Black"]=Boolean(e)},nightMode:function(t,e){t.settings["Night Mode"]=Boolean(e)},showPopupSetting:function(t,e){t.settings["Show Popup"]=Boolean(e)},closeMenuOnScroll:function(t,e){t.settings["Close Menu"]=Boolean(e)},showWatchB:function(t,e){t.settings["Show Watch Button"]=Boolean(e)},settings:function(t,e){t.settings=e},showVideo:function(t,e){t.settings["Show Video"]=Boolean(e)},ytVideo:function(t,e){t.settings["Video"]=Boolean(e)},changeSetting:function(t,e){t.settings[e.setting]=e.value}}},on={state:{bShuffled:!1,aShuffled:[]},mutations:{bShuffled:function(t,e){t.bShuffled=e},aShuffled:function(t,e){t.bShuffled=e}},getters:{bShuffled:function(t){return t.bShuffled},aShuffled:function(t){return t.aShuffled}}},an={state:{snackb:!1,snackc:"primary",snacks:"",snackt:"",snacku:[]},mutations:{snack:function(t,e){t.snacks=e.s,t.snackc=e.c,t.snackb=e.b,e.hasOwnProperty("u")?t.snacku=e.u:t.snacku=[]},snackb:function(t,e){t.snackb=e},snackt:function(t,e){t.snackt=e}},getters:{snackb:function(t){return t.snackb},snackc:function(t){return t.snackc},snacks:function(t){return t.snacks},snacku:function(t){return t.snacku},snackul:function(t){return t.snacku.length}},actions:{snack:function(t,e){var n=t.commit,i=t.state;n("snackb",!1),clearTimeout(i.snackt),setTimeout(function(){n("snackt",setTimeout(function(){n("snackb",!1)},3e3)),n("snack",e)},250)},snacku:function(t){var e=t.state;e.snacku.length&&i["a"].prototype.$DCFB.playlistsRefs.child(e.snacku[0].playlist).once("value",function(t){if(t.exists())i["a"].prototype.$DCFB.playlistGet(e.snacku[0].user,e.snacku[0].playlist).set(e.snacku[0].songs);else{var n=[];for(var s in e.snacku[0].songs)n.push(e.snacku[0].songs[s]);i["a"].prototype.$DCFB.createNewPlaylist(e.snacku[0].name,n,e.snacku[0].playlist)}})}}};i["a"].use(d["a"]);var ln=new d["a"].Store({modules:{snackbar:an,user:tn,shuffle:on,settings:rn,player:en,loading:sn,youtube:nn}}),cn=ln,un=n("8c4f");i["a"].use(un["a"]);var dn=new un["a"]({scrollBehavior:function(t,e,n){return{x:0,y:0}},routes:[{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"5df1"))}},{path:"/share",name:"share",component:function(){return n.e("share").then(n.bind(null,"b95b"))}},{path:"/",redirect:"/about"},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"28c5"))}},{path:"/sign-up",name:"signUp",component:function(){return n.e("signUp").then(n.bind(null,"5274"))}},{path:"/password-reset",name:"password-reset",component:function(){return n.e("password").then(n.bind(null,"694d"))}},{path:"/explore",name:"explore",component:function(){return n.e("genre").then(n.bind(null,"1f62"))}},{path:"/trending",name:"trending",component:function(){return n.e("trending").then(n.bind(null,"e8f3"))}},{path:"/tos",name:"tos",component:function(){return n.e("tos").then(n.bind(null,"9e97"))},props:!0},{path:"/current",name:"stage",component:function(){return n.e("stage").then(n.bind(null,"bcd0"))}},{path:"/s/:source/:query",name:"searchQuery",component:function(){return n.e("searchQuery").then(n.bind(null,"ab5d"))},props:!0},{path:"/sa/:source/:query",name:"searchArtist",component:function(){return n.e("searchpage").then(n.bind(null,"2d9e"))},props:!0},{path:"/a/:source/:artist/:artistID/",name:"artist",component:function(){return n.e("artist").then(n.bind(null,"fd68"))},props:!0},{path:"/p/:title/:source/:artistID/:listID/",name:"channelPlaylist",component:function(){return n.e("channelPlaylist").then(n.bind(null,"b1c9"))},props:!0},{path:"/r/:source/:artist/:title/:trackID",name:"related",component:function(){return Promise.resolve().then(n.bind(null,"a65f"))},props:!0},{path:"/t/:source/:artist/:trackID",name:"auto",component:function(){return n.e("auto").then(n.bind(null,"b69d"))},props:!0},{path:"/u/:user/home",name:"home",component:function(){return Promise.all([n.e("genre"),n.e("home")]).then(n.bind(null,"73cf"))},props:!0},{path:"/u/:user/overview",name:"userOverview",component:function(){return n.e("user").then(n.bind(null,"5c64"))},props:!0},{path:"/u/:user/subscriptions",name:"userSubOverview",component:function(){return n.e("userSubOverview").then(n.bind(null,"ff29"))},props:!0},{path:"/u/:user/subscriptions-all",name:"subsAll",component:function(){return n.e("subsAll").then(n.bind(null,"d33b"))},props:!0},{path:"/u/:user/playlists-all",name:"playlistsAll",component:function(){return n.e("playlistsAll").then(n.bind(null,"c434"))},props:!0},{path:"/u/:user/:playlist/:name",name:"userPlaylist",component:function(){return n.e("userPlaylist").then(n.bind(null,"7fa6"))},props:!0},{path:"/u/:user/history",name:"history",component:function(){return Promise.resolve().then(n.bind(null,"08fc"))},props:!0},{path:"/u/:user/playlist-overview",name:"playlistOverview",component:function(){return n.e("playlistOverview").then(n.bind(null,"8d8d"))},props:!0},{path:"/settings",name:"settings",component:function(){return n.e("settings").then(n.bind(null,"a71d"))}}]});dn.beforeEach(function(t,e,n){cn.commit("bShuffled",!1),cn.getters.isMobile&&(cn.state.user.drawLeft||cn.state.user.drawRight)&&window.popStateDetected?(window.popStateDetected=!1,cn.commit("drawLeft",!1),cn.commit("drawRight",!1),n(!1)):cn.state.user.bShowStage&&"stage"!=t.name&&"auto"!=t.name?(cn.commit("bShowStage",!1),n()):n()});var pn=dn,hn={install:function(t){var e={debounce:function(t,e){var n=null;return function(){clearTimeout(n);var i=arguments,s=this;n=setTimeout(function(){t.apply(s,i)},e)}},isMobile:window.matchMedia("only screen and (max-width: 599px)").matches,isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),isOnline:function(){return window.navigator.onLine},setLoc:function(t,e){return window.localStorage&&window.localStorage.setItem(t,e)},getLoc:function(t){return window.localStorage&&window.localStorage.getItem(t)},copyToClipboard:function(t){var e=document.createElement("input");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),e.remove()},uniqueArray:function(t){for(var e=[],n=!1,i=0;i<t.length-1;i++){n=!1;for(var s=0;s<e.length-1;s++)if("undefined"===typeof t[i]||e[s].trackID===t[i].trackID){n=!0;break}n||e.push(t[i])}return e},closeSoftMobi:function(){this.isMobile&&document.activeElement.blur()},downloadLink:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("iframe");n.style.display="none",n.id=n.name=t+e,n.src=t,document.body.appendChild(n)},share:function(t,n){return e.isMobile?(navigator.share?navigator.share({title:n.title,text:n.mp32,url:t}):e.downloadLink("whatsapp://send?text=".concat(encodeURIComponent(t))),0):(e.copyToClipboard(encodeURI(t)),1)},formatBytes:function(t,e){if(0===t)return"0 Bytes";var n=1024,i=e||2,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(t)/Math.log(n));return"".concat(parseFloat((t/Math.pow(n,r)).toFixed(i))," ").concat(s[r])},isFullscreen:function(){return!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement},toggleFullscreen:function(t){var n=function(){var t=!1;document.querySelector("body").style.cursor="auto",t||setTimeout(function(){t=!0,document.querySelector("body").style.cursor="none"},500)};if(e.isFullscreen()){var i=document.getElementById(t);i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);var s=function(){e.isFullscreen()&&(document.querySelector("#app").removeEventListener("mousemove",n),document.querySelector("#app").style.cursor="auto")};document.querySelector("#app").style.cursor="none",document.querySelector("#app").addEventListener("mousemove",n),document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s)}else document.querySelector("#app").removeEventListener("mousemove",n),document.querySelector("#app").style.cursor="auto",document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};Object.defineProperty(t.prototype,"$UTILS",{value:e})}},fn=n("bc3a"),mn=n.n(fn);function gn(t){return gn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bn(t,e,n){return e&&yn(t.prototype,e),n&&yn(t,n),t}var wn={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'},_n=function(){function t(){vn(this,t),this.bcBase="https://dc-nodejs-backend-ftjhiqutmh.now.sh/",this.sYtKey="***REMOVED***",this.sYtKey="***REMOVED***",this.sScKey="***REMOVED***",this.sVimeoKey="***REMOVED***",this.YTnextPageTokenString=0,this.YTCommentNext=0,this.nextPageToken=0,this.SCnextPageToken=0,this.aQuery=[]}return bn(t,[{key:"searchInt",value:function(t,e,n,i,s,r){var o=this,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e||(this.SCnextPageToken="",this.nextPageToken="",this.YTnextPageTokenString="");var c=this.genUID();for(var u in this.aQuery[c]={aAjax:[],aResult:[],sToken:0,hCallback:s,iLimit:a,sQuery:t,sArtist:i,bRelated:r,bArtist:l,iPage:e},n="all"===n[0].toLowerCase()?["youtube","mixcloud","soundcloud","vimeo"]:n,n)this.aQuery[c].aAjax.push(this.search(n[u],c));return mn.a.all(this.aQuery[c].aAjax).then(function(){o.aQuery[c].hCallback(o.aQuery[c].aResult),delete o.aQuery[c]})}},{key:"search",value:function(t,e){switch(t.toLowerCase()){case"bandcamp":return this.bc(e);case"mixcloud":return this.mc(e);case"soundcloud":return this.sc(e);case"youtube":return this.yt(e);case"vimeo":return this.vim(e);default:break}}},{key:"bc",value:function(t){var e=this;if(this.aQuery[t].bRelated)return Promise.resolve();if(!this.aQuery[t].iPage||!this.aQuery[t].sArtist){var n=this.aQuery[t].sArtist?this.bcBase+"api/v2/getartist/".concat(encodeURIComponent(atob(this.aQuery[t].sArtist)),"/"):this.bcBase+"api/v2/albumswithtag/".concat(this.aQuery[t].sQuery,"/").concat(this.aQuery[t].iPage+1);return mn.a.get(n).then(function(n){for(var i in n=n.data,n)e.pushResult(t,n[i].artist,btoa(n[i].artistID),n[i].created,"",e.secondstominutes(n[i].duration),"https://dream.tribe.nu/r3/off/?q="+n[i].mp32,n[i].mp32,n[i].poster,n[i].poster,"Bandcamp",n[i].title,n[i].mp32)})}}},{key:"mc",value:function(t){var e,n=this;return this.aQuery[t].bRelated?Promise.resolve():(e=""!==this.aQuery[t].sArtist?"https://api.mixcloud.com/"+this.aQuery[t].sArtist+"/cloudcasts/?limit="+this.aQuery[t].iLimit+"&offset="+this.aQuery[t].iLimit*(this.aQuery[t].iPage>0?this.aQuery[t].iPage:0):this.aQuery[t].bArtist?"https://api.mixcloud.com/search/?type=user&limit="+this.aQuery[t].iLimit+"&q="+this.aQuery[t].sQuery+"&offset="+this.aQuery[t].iLimit*this.aQuery[t].iPage:"https://api.mixcloud.com/search/?type=cloudcast&limit="+this.aQuery[t].iLimit+"&q="+this.aQuery[t].sQuery+"&offset="+this.aQuery[t].iLimit*this.aQuery[t].iPage,mn.a.get(e).then(function(e){for(var i in e=e.data.data,e)n.aQuery[t].bArtist?n.pushResult(t,e[i].name,e[i].username,null,"","MixCloud channel","","",e[i].pictures.large,e[i].pictures.extra_large,"MixCloud",e[i].name,""):n.pushResult(t,e[i].user.name,e[i].user.username,n.parseDate(e[i].created_time),"",n.secondstominutes(e[i].audio_length),"https://dream.tribe.nu/r3/off/?q="+e[i].url,e[i].url,e[i].pictures.large,e[i].pictures.extra_large,"MixCloud",e[i].name,encodeURIComponent(e[i].key))}).catch(function(t){console.log(t)}))}},{key:"sc",value:function(t){var e,n=this;if(e=this.aQuery[t].bRelated?"https://api.soundcloud.com/tracks/"+this.aQuery[t].sArtist+"/related?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:this.aQuery[t].bArtist?"https://api.soundcloud.com/users.json?q="+this.aQuery[t].sQuery+"&linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:this.aQuery[t].sArtist?"https://api.soundcloud.com/users/"+this.aQuery[t].sArtist+"/tracks.json?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:"https://api.soundcloud.com/tracks.json?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&q="+encodeURIComponent(this.aQuery[t].sQuery)+"&client_id="+this.sScKey,this.SCnextPageToken)e=this.SCnextPageToken;else if(!this.SCnextPageToken&&this.aQuery[t].iPage>0)return Promise.resolve();return new Promise(function(i){mn.a.get(e).then(function(e){var s,r;for(var o in e.data.next_href?(n.SCnextPageToken=e.data.next_href,n.SCnextPageToken=e.data.next_href):n.SCnextPageToken=0,e=e.data.collection,e)n.aQuery[t].bArtist?n.pushResult(t,e[o].username,e[o].id,n.parseDate(e[o].last_modified),e[o].description,"SoundCloud channel",e[o].stream_url+"?client_id="+n.sScKey,e[o].permalink_url,e[o].avatar_url.replace("i1","i2").replace("-large","-t300x300"),e[o].avatar_url.replace("-large","-t500x500"),"SoundCloud",e[o].username):(!e[o].artwork_url&&e[o].user.avatar_url?(s=e[o].user.avatar_url.replace("i1","i2").replace("-large","-t300x300"),r=e[o].user.avatar_url.replace("-large","-t500x500")):e[o].user.avatar_url||e[o].user.avatar_url?(s=e[o].artwork_url.replace("i1","i2").replace("-large","-t300x300"),r=e[o].artwork_url.replace("-large","-t500x500")):s=r="./img/icons/no-image.png",n.pushResult(t,e[o].user.username,e[o].user_id,n.parseDate(e[o].created_at),e[o].description,n.secondstominutes(Math.floor(e[o].duration/1e3)),e[o].stream_url+"?client_id="+n.sScKey,e[o].permalink_url,s,r,"SoundCloud",e[o].title,e[o].id));n.aQuery[t].aResult.length<n.aQuery[t].iLimit&&n.SCnextPageToken?n.sc(t).then(function(){n.aQuery[t].aResult=n.uniqueArray(n.aQuery[t].aResult),i()}).catch(function(){i()}):(n.aQuery[t].aResult=n.uniqueArray(n.aQuery[t].aResult),i())}).catch(function(t){console.log(t),i()})})}},{key:"yt",value:function(t){var e,n=this;if(this.YTnextPageTokenString=this.nextPageToken?"&pageToken="+this.nextPageToken:"",this.YTnextPageTokenString||!(this.aQuery[t].iPage>1))return this.aQuery[t].bRelated?e="https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=".concat(this.aQuery[t].iLimit,"&relatedToVideoId=").concat(this.aQuery[t].sArtist,"&type=video&key=").concat(this.sYtKey):this.aQuery[t].bArtist?e="https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=".concat(this.aQuery[t].iLimit,"&type=channel&q=").concat(this.aQuery[t].sQuery,"&key=").concat(this.sYtKey).concat(this.YTnextPageTokenString):this.aQuery[t].sArtist.length?this.aQuery[t].sArtist.length&&(e="https://www.googleapis.com/youtube/v3/search?part=snippet&order=date&maxResults=".concat(this.aQuery[t].iLimit,"&type=video&channelId=").concat(this.aQuery[t].sArtist,"&key=").concat(this.sYtKey).concat(this.YTnextPageTokenString)):e="https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=".concat(this.aQuery[t].iLimit,"&type=video,playlist&q=").concat(this.aQuery[t].sQuery,"&key=").concat(this.sYtKey).concat(this.YTnextPageTokenString),new Promise(function(i,s){mn.a.get(e).then(function(e){try{if(n.nextPageToken=e.data.nextPageToken,e=e.data.items,n.aQuery[t].bArtist){for(var s in e)n.aQuery[t].aResult.push({artist:e[s].snippet.channelTitle,artistID:e[s].snippet.channelId,description:e[s].snippet.description,duration:"YouTube channel",mp32:"https://www.youtube.com/watch?v=".concat(e[s].id.videoId),poster:e[s].snippet.thumbnails.medium.url,posterLarge:e[s].snippet.thumbnails.high.url,source:"YouTube",title:n.decodeHTMLEntities(e[s].snippet.title),uploaded:n.parseDate(e[s].snippet.publishedAt)});i()}else{var r=[];for(var o in e)r.push(e[o].id.videoId);r.length&&mn.a.get("https://www.googleapis.com/youtube/v3/videos?id=".concat(r.join(","),"&part=contentDetails&key=").concat(n.sYtKey)).then(function(s){var r=[];for(var o in s.data.items)r[s.data.items[o].id]=n.timeHMS(s.data.items[o].contentDetails.duration);for(var o in e)""===n.aQuery[t].sArtist&&"youtube#playlist"===e[o].id.kind?n.aQuery[t].aResult.push({artist:e[o].snippet.channelTitle,artistID:e[o].snippet.channelId,description:e[o].snippet.description,duration:"Playlist",mp32:"https://www.youtube.com/watch?v=".concat(e[o].id.videoId),poster:e[o].snippet.thumbnails?e[o].snippet.thumbnails.medium.url:"./img/icons/no-image.png",posterLarge:e[o].snippet.thumbnails?e[o].snippet.thumbnails.high.url:"./img/icons/no-image.png",source:"YouTube",title:n.decodeHTMLEntities(e[o].snippet.title),trackID:e[o].id.playlistId,listID:e[o].id.playlistId,uploaded:n.parseDate(e[o].snippet.publishedAt)}):n.aQuery[t].aResult.push({artist:e[o].snippet.channelTitle,artistID:e[o].snippet.channelId,description:e[o].snippet.description,duration:r[e[o].id.videoId],mp32:"https://www.youtube.com/watch?v=".concat(e[o].id.videoId),poster:e[o].snippet.thumbnails.medium.url,posterLarge:e[o].snippet.thumbnails.high.url,source:"YouTube",title:n.decodeHTMLEntities(e[o].snippet.title),trackID:e[o].id.videoId,uploaded:n.parseDate(e[o].snippet.publishedAt)});i()}).catch(function(t){console.log(t)})}}catch(a){return n.YTnextPageToken="",void console.log("yt error",a)}})})}},{key:"vim",value:function(t){var e,n=this;return this.aQuery[t].bRelated?Promise.resolve():(e="undefined"!==this.aQuery[t].sArtist?"https://api.vimeo.com/videos?page="+(this.aQuery[t].iPage+1)+"&per_page=12&query="+this.aQuery[t].sQuery+"&sort=relevant&access_token="+this.sVimeoKey:"https://api.vimeo.com/users/"+this.aQuery[t].sArtist+"/videos?page="+(this.aQuery[t].iPage+1)+"&per_page=12&sort=date&access_token="+this.sVimeoKey,mn.a.get(e).then(function(e){if(e=e.data.data,e.length)for(var i in e)n.pushResult(t,e[i].user.name,e[i].user.uri.replace(/\/users\/(.*?)/gi,"user"),n.parseDate(e[i].user.created_time),e[i].description,n.secondstominutes(e[i].duration),"https://dream.tribe.nu/r3/off/?q="+e[i].link,e[i].link,e[i].pictures.sizes[2].link,e[i].pictures.sizes[e[i].pictures.sizes.length-1].link,"vimeo",e[i].name,e[i].link)}).catch(!1))}},{key:"decodeHTMLEntities",value:function(t){return t.replace(/&([^;]+);/gm,function(t,e){return wn[e]||t})}},{key:"genUID",value:function(){return Math.random()}},{key:"getTrendingSC",value:function(t){var e=this;return new Promise(function(t,n){mn.a.get("https://crossorigin.me/https://api-v2.soundcloud.com/charts?kind=top&genre=soundcloud%3Agenres%3Aall-music&high_tier_only=false&client_id=".concat(e.sScKey,"&limit=50&offset=0")).then(function(n){var i={nextPage:"",data:n.data.collection.map(function(t){var n,i;return!t.track.artwork_url&&t.track.user.avatar_url?(n=t.track.user.avatar_url.replace("i1","i2").replace("-large","-t300x300"),i=t.track.user.avatar_url.replace("-large","-t500x500")):t.track.user.avatar_url||t.track.user.avatar_url?(n=t.track.artwork_url.replace("i1","i2").replace("-large","-t300x300"),i=t.track.artwork_url.replace("-large","-t500x500")):n=i="./img/icons/no-image.png",{artist:t.track.user.username,artistID:t.track.user_id,uploaded:e.parseDate(t.track.created_at),description:t.track.description,duration:e.secondstominutes(Math.floor(t.track.duration/1e3)),mp3:"https://api.soundcloud.com/tracks/".concat(t.track.id,"/stream?client_id=").concat(e.sScKey),mp32:t.track.permalink_url,poster:n,posterLarge:i,source:"SoundCloud",title:t.track.title,trackID:t.track.id}})};t(i)}).catch(function(t){n()})})}},{key:"getTrendingYT",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(n,i){mn.a.get("https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&pageToken=".concat(e,"&videoCategoryId=10&chart=mostPopular&regionCode=SE&maxResults=50&key=").concat(t.sYtKey)).then(function(e){var i={nextPage:e.data.nextPageToken,data:e.data.items.map(function(e){return{artist:e.snippet.channelTitle,artistID:e.snippet.channelId,description:e.snippet.description,duration:t.timeHMS(e.contentDetails.duration),mp32:"https://www.youtube.com/watch?v=".concat(e.id),poster:e.snippet.thumbnails.medium.url,posterLarge:e.snippet.thumbnails.high.url,source:"YouTube",title:t.decodeHTMLEntities(e.snippet.title),trackID:e.id,uploaded:t.parseDate(e.snippet.publishedAt)}})};n(i)}).catch(function(t){i()})})}},{key:"getChannelPlaylists",value:function(t,e,n,i,s){var r=this;this.genUID();return e.toLowerCase().indexOf("soundcloud")>-1?mn.a.get("https://api.soundcloud.com/users/".concat(t,"/playlists?client_id=").concat(this.sScKey)).then(function(n){var i="",r={data:n.data.map(function(n){return n.tracks.length>0&&n.tracks[0].artwork_url?i=n.tracks[0].artwork_url.replace("-large","-t500x500"):n.tracks.length>1&&n.tracks[1].artwork_url?i=n.tracks[1].artwork_url.replace("-large","-t500x500"):n.tracks.length>2&&n.tracks[2].artwork_url?i=n.tracks[2].artwork_url.replace("-large","-t500x500"):n.tracks.length>3&&n.tracks[3].artwork_url?i=n.tracks[3].artwork_url.replace("-large","-t500x500"):n.tracks.length>4&&n.tracks[4].artwork_url?i=n.tracks[4].artwork_url.replace("-large","-t500x500"):n.tracks.length>5&&n.tracks[5].artwork_url&&(i=n.tracks[5].artwork_url.replace("-large","-t500x500")),{title:n.title,numberOfSongs:n.tracks.length,img:i,description:n.description,listID:n.id,uploaded:n.id,artist:n.user.username,artistID:t,source:e}})};s(r)}):e.toLowerCase().indexOf("youtube")>-1?mn.a.get("https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&pageToken=".concat(i,"&channelId=").concat(t,"&maxResults=").concat(n,"&key=").concat(this.sYtKey)).then(function(n){s({nextPage:n.data.nextPageToken,data:n.data.items.map(function(n){return{title:r.decodeHTMLEntities(n.snippet.title),numberOfSongs:n.contentDetails.itemCount,img:n.snippet.hasOwnProperty("high")?n.snippet.thumbnails.high.url:n.snippet.thumbnails.medium.url,description:n.snippet.description,listID:n.id,uploaded:r.parseDate(n.snippet.publishedAt),artist:n.snippet.channelTitle,artistID:t,source:e}})})}):void 0}},{key:"getChannelSubscriptions",value:function(t,e,n,i,s){var r=this;if(e.toLowerCase().indexOf("soundcloud")>-1){var o=i||"https://api.soundcloud.com/users/".concat(t,"/followings?client_id=").concat(this.sScKey);mn.a.get(o).then(function(t){var n={nextPage:t.data.next_href,data:t.data.collection.map(function(t){return{numberOfSongs:t.track_count,img:t.avatar_url.replace("large","t500x500"),description:t.description,uploaded:r.parseDate(t.last_modified),artist:t.username,artistID:t.id,source:e}})};s(n)}).catch(function(){})}else if(e.toLowerCase().indexOf("youtube")>-1)return mn.a.get("https://www.googleapis.com/youtube/v3/subscriptions?part=snippet,contentDetails&pageToken=".concat(i,"&channelId=").concat(t,"&maxResults=").concat(n,"&key=").concat(this.sYtKey)).then(function(t){var n={nextPage:t.data.nextPageToken,data:t.data.items.map(function(t){return{numberOfSongs:t.contentDetails.totalItemCount,newItemCount:t.contentDetails.newItemCount,img:t.snippet.thumbnails.high.url,description:t.snippet.description,uploaded:r.parseDate(t.snippet.publishedAt),artist:r.decodeHTMLEntities(t.snippet.title),artistID:t.snippet.resourceId.channelId,source:e}})};s(n)}).catch(function(){})}},{key:"getChannelPlaylistItems",value:function(t,e,n,i,s){var r=this;this.genUID();return e.toLowerCase().indexOf("soundcloud")>-1?mn.a.get("https://api.soundcloud.com/playlists/".concat(t,"?client_id=").concat(this.sScKey)).then(function(t){var e={nextPage:"",data:t.data.tracks.map(function(t){var e,n;return t.artwork_url&&(e=t.artwork_url.replace("i1","i2").replace("-large","-t300x300"),n=t.artwork_url.replace("-large","-t500x500")),{artist:t.user.username,artistID:t.user_id,uploaded:r.parseDate(t.created_at),description:t.description,duration:r.secondstominutes(Math.floor(t.duration/1e3)),mp3:t.stream_url+"?client_id="+r.sScKey,mp32:t.permalink_url,poster:e,posterLarge:n,source:"SoundCloud",title:t.title,trackID:t.id}})};s(e)}):e.toLowerCase().indexOf("youtube")>-1?mn.a.get("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&playlistId=".concat(t,"&pageToken=").concat(i,"&maxResults=").concat(n,"&key=").concat(this.sYtKey)).then(function(t){var e=t.data.items.map(function(t){return t.contentDetails.videoId}).join(",");mn.a.get("https://www.googleapis.com/youtube/v3/videos?id=".concat(e,"&part=contentDetails&key=").concat(r.sYtKey)).then(function(e){var n=[];for(var i in e.data.items)n[e.data.items[i].id]=r.timeHMS(e.data.items[i].contentDetails.duration);var o={nextPage:t.data.nextPageToken,data:t.data.items.filter(function(t){return"undefined"!==typeof t.snippet.thumbnails}).map(function(t){return{artist:t.snippet.channelTitle,artistID:t.snippet.channelId,uploaded:r.parseDate(t.snippet.publishedAt),description:t.snippet.description,duration:n[t.contentDetails.videoId],mp3:"https://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v=".concat(t.contentDetails.videoId),mp32:"https://www.youtube.com/watch?v=".concat(t.contentDetails.videoId),poster:t.snippet.thumbnails.medium.url,posterLarge:t.snippet.thumbnails.high.url,source:"YouTube",title:r.decodeHTMLEntities(t.snippet.title),trackID:t.contentDetails.videoId}})};s(o)})}):void 0}},{key:"getArtistInfo",value:function(t,e,n){return e.toLowerCase().indexOf("youtube")>-1?mn.a.get("https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id="+t+"&key="+this.sYtKey).then(n):e.toLowerCase().indexOf("soundcloud")>-1?mn.a.get("https://api.soundcloud.com/users/"+t+"?client_id="+this.sScKey).then(n):e.toLowerCase().indexOf("mixcloud")>-1?mn.a.get("https://api.mixcloud.com/"+t+"/").then(n):Promise.resolve("")}},{key:"getSongComments",value:function(t,e,n,i,s){this.genUID();return e.toLowerCase().indexOf("youtube")>-1?mn.a.get("https://www.googleapis.com/youtube/v3/comments?part=snippet&pageToken=".concat(i,"&maxResults=").concat(n,"&parentId=").concat(t,"&key=").concat(this.sYtKey)).then(function(t){console.log(t.data.items);var e={nextPage:t.data.nextPageToken,data:t.data.items.map(function(t){return{artist:t.snippet.authorDisplayName,artistID:t.snippet.authorChannelId.value,artistIMG:t.snippet.authorProfileImageUrl,comment:t.snippet.textDisplay,commentCreated:t.snippet.publishedAt,totalReplyCount:t.snippet.totalReplyCount,commentID:t.id}}).reverse()};s(e)}).catch():e.toLowerCase().indexOf("soundcloud")>-1?mn.a.get("https://api.soundcloud.com/tracks/"+t+"/comments?linked_partitioning=1&limit=50&client_id="+this.sScKey).then(function(t){var e={nextPage:t.data.nextPageToken,data:t.data.collection.map(function(t){return{artist:t.user.username,artistID:t.user.id,artistIMG:t.user.avatar_url,comment:t.body,commentCreated:t.created_at}})};s(e)}).catch():void 0}},{key:"getSongCommentsThreads",value:function(t,e,n,i,s){var r=this;this.genUID();if(n.toLowerCase().indexOf("youtube")>-1){if(e&&!this.YTCommentNext)return;var o=this.YTCommentNext&&e?"&pageToken="+this.YTCommentNext:"";return mn.a.get("https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&order=time&textFormat=plainText&maxResults="+i+"&videoId="+t+"&key="+this.sYtKey+o).then(function(t){r.YTCommentNext=t.data.nextPageToken;var e=t.data.items.map(function(t){return{artist:t.snippet.topLevelComment.snippet.authorDisplayName,artistID:t.snippet.topLevelComment.snippet.authorChannelId.value,artistIMG:t.snippet.topLevelComment.snippet.authorProfileImageUrl,comment:t.snippet.topLevelComment.snippet.textDisplay,commentCreated:t.snippet.topLevelComment.snippet.publishedAt,totalReplyCount:t.snippet.totalReplyCount,commentID:t.id,show:!1}});s(e)}).catch()}if(n.toLowerCase().indexOf("soundcloud")>-1)return mn.a.get("https://api.soundcloud.com/tracks/"+t+"/comments?linked_partitioning=1&limit=50&client_id="+this.sScKey).then(function(t){var e=t.data.collection.map(function(t){return{artist:t.user.username,artistID:t.user.id,artistIMG:t.user.avatar_url,comment:t.body,commentCreated:t.created_at,show:!1}});s(e)}).catch()}},{key:"getSongDescription",value:function(t,e,n){var i=this.genUID();this.aQuery[i]={aResult:[],hCallback:n},e.toLowerCase().indexOf("youtube")>-1?mn.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+t+"&fields=items/snippet/description&key="+this.sYtKey).then(function(t){n(t.data)}).catch():n("")}},{key:"getSongPlays",value:function(t,e,n){if(e.toLowerCase().indexOf("youtube")>-1){var i="https://www.googleapis.com/youtube/v3/videos?part=statistics&id=".concat(t,"&key=").concat(this.sYtKey);return mn.a.get(i).then(function(t){n(t.data.items[0].statistics.viewCount)})}if(e.toLowerCase().indexOf("soundcloud")>-1){i="https://api.soundcloud.com/tracks/".concat(t,"?client_id=").concat(this.sScKey);return mn.a.get(i).then(function(t){n(t.data.playback_count)})}n(-1)}},{key:"getSongInfo",value:function(t,e,n){var i=this,s=this.genUID();return this.aQuery[s]={aResult:[],hCallback:n},e.toLowerCase().indexOf("youtube")>-1?mn.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+t+"&key="+this.sYtKey).then(function(t){t=t.data.items[0],i.pushResult(s,t.snippet.channelTitle,t.snippet.channelId,i.parseDate(t.snippet.publishedAt),t.snippet.description,"","http://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v="+t.id,"https://www.youtube.com/watch?v="+t.id,t.snippet.thumbnails.high.url,t.snippet.thumbnails.high.url,"YouTube",i.unescapeHtml(t.snippet.title),t.id),i.aQuery[s].hCallback(i.aQuery[s].aResult),delete i.aQuery[s]}):e.toLowerCase().indexOf("soundcloud")>-1?mn.a.get("https://api.soundcloud.com/tracks/"+t+"?client_id="+this.sScKey).then(function(t){t=t.data,i.pushResult(s,t.user.username,t.user_id,i.parseDate(t.created_at),t.description,i.secondstominutes(Math.floor(t.duration/1e3)),t.stream_url+"?client_id="+i.sScKey,t.permalink_url,"string"===typeof t.artwork_url?t.artwork_url.replace("i1","i2").replace("-large","-t300x300"):"./img/icons/no-image.png","string"===typeof t.artwork_url?t.artwork_url.replace("-large","-t500x500"):"./img/icons/no-image.png","SoundCloud",t.title,t.id),i.aQuery[s].hCallback(i.aQuery[s].aResult),delete i.aQuery[s]}):e.toLowerCase().indexOf("mixcloud")>-1?mn.a.get("https://api.mixcloud.com"+t).then(function(t){t=t.data,i.pushResult(s,t.user.name,t.user.key,i.parseDate(t.created_time),t.description,i.secondstominutes(t.audio_length),t.url,t.url,t.pictures.small,t.pictures.large,"MixCloud",t.name,t.key),i.aQuery[s].hCallback(i.aQuery[s].aResult),delete i.aQuery[s]}):void 0}},{key:"getSCID",value:function(t){var e=this;return new Promise(function(n,i){mn.a.get("https://api.soundcloud.com/resolve.json?url="+encodeURIComponent(t)+"&client_id="+e.sScKey).then(function(t){n([t.data.id,t.data])})})}},{key:"guessSongTitle",value:function(t,e){mn.a.get("https://api.alltomp3.org/v1/guess-track/".concat(t)).then(function(t){e(t)})}},{key:"pushResult",value:function(t,e,n,i,s,r,o,a,l,c,u,d,p){this.aQuery[t].aResult.push({artist:e,artistID:n,description:s,duration:r,mp3:o,mp32:a,poster:l,posterLarge:c,source:u,title:d,uploaded:i,trackID:p})}},{key:"calcDate",value:function(t,e){t||(t=new Date),e||(e=new Date),gn(e)!==Object&&(e=new Date(e));var n=Math.abs(t.getTime()-e.getTime()),i=Math.floor(n/864e5),s=Math.floor(n/36e5),r=Math.floor(n/6e4),o=Math.floor(i/31),a=Math.floor(i/7),l=Math.floor(o/12);return t=l>0?[l," year"]:o>0?[o," month"]:a>0?[a," week"]:i>0?[i," day"]:s>0?[s," hour"]:[r," minute"],t[0]+t[1]+(t[0]>1?"s":"")}},{key:"parseDate",value:function(t){if(t=t.match(/^(\d{4})\/?-?(0[1-9]|1[0-2])\/?-?(0[1-9]|[12]\d|3[01])/),t&&(t[0]=new Date(+t[1],+t[2]-1,+t[3]),t[0].getMonth()===+t[2]-1))return t[0]}},{key:"sortDate",value:function(t,e){return t=new Date(t.uploaded),e=new Date(e.uploaded),t>e?-1:t<e?1:0}},{key:"str_pad_left",value:function(t,e,n){return(new Array(n+1).join(e)+t).slice(-n)}},{key:"uniqueArray",value:function(t){for(var e=t.concat(),n=0;n<e.length;n++)for(var i=n+1;i<e.length;i++)e[n].mp32===e[i].mp32&&e.splice(i--,1);return e}},{key:"secondstominutes1",value:function(t){return this.str_pad_left(Math.floor(t/60),"0",2)+":"+this.str_pad_left(t-60*Math.floor(t/60),"0",2)}},{key:"error",value:function(t){this.aQuery[t].hCallback(this.aQuery[t].aResult)}},{key:"secondstominutes",value:function(t){var e=parseInt(t,10),n=Math.floor(e/3600)%24,i=Math.floor(e/60)%60,s=e%60;return[n,i,s].map(function(t){return t<10?"0"+t:t}).filter(function(t,e){return"00"!==t||e>0}).join(":")}},{key:"unescapeHtml",value:function(t){var e={amp:"&",lt:"<",le:"≤",gt:">",ge:"≥",quot:'"',nbsp:" ","#39":"'"};return t.replace(/&([^;]+);/g,function(t,n){return e[n]||""})}},{key:"timeHMS",value:function(t){var e="date",n=864e5,i=n/24,s=i/60,r={date:{y:365.25*n,m:1461*n/48,d:n},time:{h:i,m:s,s:1e3}},o=/[^a-z]+|[a-z]/gi,a=t.toLowerCase().match(/p|t|\d+\.?\d*[ymdhs]/gi).reduce(function(t,n){if("p"==n)return t;if("t"==n)return e="time",t;var i=n.match(o);return t+i[0]*r[e][i[1]]},0);return this.secondstominutes(a/1e3)}}]),t}(),kn={install:function(t,e){Object.defineProperty(t.prototype,"$DCAPI",{value:new _n})}},xn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Cn={install:function(t){var e={sBase:"http://dreamcloud.mynetgear.com/api/",eAudio:{src:""},init:function(){e.bindMediaSesssion()},ePlayer:function(){return document.getElementById("dc-audio")},getAudio:function(t,n){return xn&&t.mp32.indexOf("youtube")>-1?n(e.sBase+"v1/stream/?i="+t.trackID+"&t="+t.title):t.mp32.indexOf("youtube")>-1?n(e.sBase+"v2/stream/?i="+t.trackID+"&t="+t.title):n(e.sBase+"v3/stream/?i="+t.mp32+"&t="+t.title)},next:function(){var t=cn.getters.current_index<cn.getters.current_playlist.length-1?cn.getters.current_index+1:0;e.playIndex(t)},pause:function(){cn.getters.ytUseVideo&&cn.getters.isYT?cn.getters.ytIsPlaying&&cn.getters.ytObject.pauseVideo():e.eAudio.pause()},stop:function(){e.eAudio.src=""},play:function(){return e.eAudio.play()},previous:function(){var t=cn.getters.current_index>0?cn.getters.current_index-1:cn.getters.current_playlist.length-1;e.playIndex(t)},playIndex:function(t){var n;return e.eAudio.src="",cn.getters.ytUseVideo&&cn.getters.isYT?(cn.commit("changeIndex",t),Promise.resolve()):(n="SoundCloud"==cn.getters.current_playlist[t].source?e.setAudioSrc(cn.getters.current_playlist[t].mp3):e.play_url(cn.getters.current_playlist[t]),this.setMediaSession(cn.getters.current_playlist[t]),cn.commit("ytPause"),cn.commit("changeIndex",t),cn.commit("dcIsLoading",!0),n)},play_url:function(t){return e.getAudio(t,e.setAudioSrc)},setAudioSrc:function(t){e.eAudio.src=t,e.eAudio.load();var n=e.play().then(function(){e.error_count=0}).catch(function(n){if(-1===n.toString().indexOf("interrupted by a new load request")){if(e.error_count++,cn.getters.current_playlist[cn.getters.current_index].mp32!=t)return;e.error_count<6?e.error():(e.error_count=0,e.next())}});return n},setPlaylist:function(t){cn.commit("current_playlist",t)},setNPlay:function(t){return cn.commit("setNPlay",t),e.playIndex(t.current)},seekBackward:function(){cn.getters.ytUseVideo&&cn.getters.isYT?cn.getters.ytObject.seekTo(cn.getters.ytObject.getCurrentTime()-10,!0):e.eAudio.currentTime-=10},seekForward:function(){cn.getters.ytUseVideo&&cn.getters.isYT?cn.getters.ytObject.seekTo(cn.getters.ytObject.getCurrentTime()+10,!0):e.eAudio.currentTime+=10},toggleMute:function(){cn.getters.ytUseVideo&&cn.getters.isYT?this.$store.getters.ytObject.isMuted()?this.$store.getters.ytObject.unMute():this.$store.getters.ytObject.mute():this.eAudio.muted=!this.eAudio.muted},togglePlay:function(){cn.getters.ytUseVideo&&cn.getters.isYT?cn.getters.ytIsPlaying?cn.getters.ytObject.pauseVideo():cn.getters.ytObject.playVideo():e.eAudio.paused?e.eAudio.play():e.eAudio.pause()},error:function(t){setTimeout(function(){e.playIndex(cn.getters.current_index)},2e3)},setMediaSession:function(t){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:t.artist,artwork:[{src:t.poster,sizes:"96x96",type:"image/png"},{src:t.poster,sizes:"128x128",type:"image/png"},{src:t.poster,sizes:"192x192",type:"image/png"},{src:t.poster,sizes:"256x256",type:"image/png"},{src:t.poster,sizes:"384x384",type:"image/png"},{src:t.poster,sizes:"512x512",type:"image/png"}]}),this.bindMediaSesssion())},bindMediaSesssion:function(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",function(){return e.play()}),navigator.mediaSession.setActionHandler("pause",function(){return e.pause()}),navigator.mediaSession.setActionHandler("seekbackward",function(){return e.seekBackward()}),navigator.mediaSession.setActionHandler("seekforward",function(){return e.seekForward()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return e.previous()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return e.next()}))},volUp:function(){var t=0;return cn.getters.ytUseVideo&&cn.getters.isYT?(t=cn.getters.ytObject.getVolume()+5,cn.getters.ytObject.setVolume(t)):(t=Math.min(1,e.eAudio.volume+.05),e.eAudio.volume=t),t},volDown:function(){var t=0;return cn.getters.ytUseVideo&&cn.getters.isYT?(t=Math.max(0,cn.getters.ytObject.getVolume()-5),cn.getters.ytObject.setVolume(t)):(t=Math.max(0,e.eAudio.volume-.05),e.eAudio.volume=t),t}};e.init(),Object.defineProperty(t.prototype,"$DCPlayer",{value:e})}};function Sn(t,e){return $n(t)||Dn(t,e)||Pn()}function Pn(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Dn(t,e){var n=[],i=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){s=!0,r=l}finally{try{i||null==a["return"]||a["return"]()}finally{if(s)throw r}}return n}function $n(t){if(Array.isArray(t))return t}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function An(t,e,n){return e&&Tn(t.prototype,e),n&&Tn(t,n),t}var Vn=n("59ca");n("ea7b"),n("66ce");var Ln={apiKey:"AIzaSyDSaKaRsDvmOicthSOJGvSF4iQC2ZprwFw",authDomain:"dreamcloud-3f276.firebaseapp.com",databaseURL:"https://dreamcloud-3f276.firebaseio.com",projectId:"dreamcloud-3f276",storageBucket:"dreamcloud-3f276.appspot.com",messagingSenderId:"137974869044"},jn=function(){function t(){On(this,t),this.playlists="",this.playlistRefs="",this.fb=Vn.initializeApp(Ln),this.fbb=Vn,this.GoogleAuth=Vn.auth.GoogleAuthProvider,this.db=Vn.database(),this.UID=this.fb.auth.currentUser}return An(t,[{key:"init",value:function(t){this.UID=t,this.settings=this.db.ref("users/"+t+"/Settings"),this.playlists=this.db.ref("users/"+t+"/PlaylistsData"),this.playlistsRefs=this.db.ref("users/"+t+"/PlaylistsNames"),this.subscriptions=this.db.ref("users/"+t+"/Subscriptions"),this.fbhistory=this.db.ref("users/"+t+"/History")}},{key:"setLoc",value:function(t,e){return window.localStorage.setItem(t,e)}},{key:"getLoc",value:function(t){return window.localStorage.getItem(t)}},{key:"setting",value:function(t){return this.settings.child(t)}},{key:"settingChange",value:function(t,e){this.settings.child(t).set(e)}},{key:"subscriptionGet",value:function(t){return this.db.ref("users/"+t+"/Subscriptions/")}},{key:"subscriptionAdd",value:function(t,e,n,i){this.subscriptions.update(In({},n,{name:t,name_lower:t.toLowerCase(),source:e,id:n,img:i}))}},{key:"subscriptionDelete",value:function(t){this.subscriptions.child(t).remove()}},{key:"createNewPlaylist",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i?(this.playlistsRefs.child(i).set({name:t,name_lower:t.toLowerCase()}),n=i):n=this.playlistsRefs.push({name:t,name_lower:t.toLowerCase()}).ref.key,this.playlists.child(n).set({name:t,name_lower:t.toLowerCase()}),this.playlistSongAdd(n,e)}},{key:"playlistDelete",value:function(t){this.playlistsRefs.child(t).remove(),this.playlists.child(t).remove()}},{key:"historyPush",value:function(t){if(!cn.getters.isAnon){var e=this.fbhistory.push();t.key=e.key,delete t[".key"],t.uploaded=t.uploaded.toString(),e.set(t)}}},{key:"historyClear",value:function(){this.fbhistory.remove()}},{key:"playlistSongAdd",value:function(t,e){var n=this,i=function(e){var i=n.playlists.child(t+"/songs").push();e.key=i.key,delete e[".key"],e.uploaded=e.uploaded.toString(),i.set(e)},s=function(t,e,n){setTimeout(function(){i(Object.assign({},e),t)},200*n)};if(e.length>1)for(var r=0,o=0,a=Object.entries(e);o<a.length;o++){var l=Sn(a[o],2),c=l[0],u=l[1];r++,s(c,u,r)}else i(Object.assign({},Array.isArray(e)?e[0]:e))}},{key:"playlistSongDelete",value:function(t,e){this.playlists.child(t+"/songs/"+e).remove()}},{key:"playlistGet",value:function(t,e){return this.db.ref("users/"+t+"/PlaylistsData/"+e+"/songs")}},{key:"playlistGetAll",value:function(t){return this.db.ref("users/"+t+"/PlaylistsData")}}]),t}(),Mn={install:function(t){Object.defineProperty(t.prototype,"$DCFB",{value:new jn})}},Bn=n("5f30"),En=n.n(Bn),Un=n("ec7e"),Fn=n.n(Un),Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.bShowStage||!t.bShowStage&&t.show_pop&&t.$vuetify.breakpoint.smAndUp,expression:"bShowStage || (!bShowStage && show_pop && $vuetify.breakpoint.smAndUp)"}],staticClass:"pb-5 ma-0 pa-0",attrs:{row:"",wrap:""}},[n("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.ytUseVideo&&t.isYT,expression:"ytUseVideo && isYT"}],attrs:{xs12:""}},[n("div",{class:t.videoClass},[n("div",{attrs:{id:"player"}})])]),n("v-flex",{directives:[{name:"touch",rawName:"v-touch",value:{left:t.$DCPlayer.next,right:t.$DCPlayer.previous},expression:"{\n      left: $DCPlayer.next,\n      right: $DCPlayer.previous\n    }"},{name:"show",rawName:"v-show",value:!(t.ytUseVideo&&t.isYT)&&!t.show_pop,expression:"!(ytUseVideo && isYT) && !show_pop"}],staticClass:"nosel",attrs:{xs12:""},on:{click:function(e){return t.$DCPlayer.togglePlay()},contextmenu:function(e){return t.$emit("conmen",[e,[t.song]])}}},[n("div",{staticClass:"pstr-wrapper"},[n("div",{key:t.song.poster,style:{background:"center center no-repeat","background-image":"url("+t.song.posterLarge+")"},attrs:{id:"pstr"}})])]),n("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.bShowStage,expression:"bShowStage"}],attrs:{xs12:""}},[n("v-layout",{attrs:{id:"dc-padding",row:"",wrap:""}},[n("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[n("div",{staticClass:"title fwl text-xs-left"},[t._v(t._s(t.song.title))])]),n("v-flex",{staticClass:"stage-btns",style:t.stageBorderStyle,attrs:{xs12:""}},[n("div",{staticClass:"fl-l blue-grey--text text--lighten-1 mt-3"},[t._v("\n          "+t._s(t.iViews?t.iViews+" • ":"")+t._s(t.$DCAPI.calcDate("",t.song.uploaded))+"\n        ")]),n("div",{staticClass:"fl-r"},[n("youtube-button",{attrs:{slot:"activator"},slot:"activator"}),n("new-tab",{attrs:{song:t.song}}),t.$vuetify.breakpoint.lgAndUp?n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.toggleCC},slot:"activator"},[n("v-icon",{attrs:{color:t.cc?"white":"grey"}},[t._v("subtitles")])],1),n("span",[t._v("Subtitles")])],1):t._e(),n("share-button",{attrs:{song:t.song}}),n("download-button",{attrs:{links:[t.song]}}),n("add-to-playlist",{attrs:{song:t.song}}),t.$vuetify.breakpoint.lgAndUp?n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){return t.$store.commit("show_pop",!0)}},slot:"activator"},[n("v-icon",[t._v("picture_in_picture_alt")])],1),n("span",[t._v("Mini player")])],1):t._e(),n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.fullscreen},slot:"activator"},[n("v-icon",[t._v("fullscreen")])],1),n("span",[t._v("Fullscreen")])],1)],1)]),n("v-flex",{staticClass:"text-xs-left mt-3 song-meta",attrs:{xs12:"",lg8:""}},[n("v-layout",{directives:[{name:"touch",rawName:"v-touch",value:{left:t.previous,right:t.next},expression:"{\n            left: previous,\n            right: next,\n            \n          }"}],attrs:{row:"",wrap:""}},[n("artist-mini",{key:t.song.artistID,staticClass:"mr-3",attrs:{artistID:t.song.artistID,source:t.song.source,artist:t.song.artist}}),n("v-flex",{attrs:{xs10:""}},[n("div",{staticClass:"subheading"},[t._v(t._s(t.song.artist))]),n("div",{staticClass:"subheading fwl wordbreak preline",domProps:{innerHTML:t._s(t.timeToSeconds(t.description))}})])],1),n("v-tabs",{ref:"tabs",staticClass:"mt-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"primary"}}),n("v-tab",[t._v("\n            Playlist\n          ")]),n("v-tab",[t._v("\n            Comments\n          ")]),n("v-tab",[t._v("\n            Lyrics\n          ")]),t.$vuetify.breakpoint.mdAndDown?n("v-tab",[t._v("\n            Related\n          ")]):t._e()],1),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("playlist",{attrs:{songs:t.current_playlist,"show-uploaded":!0,"rows-per-page":250},on:{conmen:function(e){return t.$emit("conmen",e)}}})],1),n("v-tab-item",[n("songComments",{attrs:{trackID:t.metaSong.trackID,source:t.metaSong.source}})],1),n("v-tab-item",[n("lyrics",{attrs:{title:t.metaSong.title,artist:t.metaSong.artist}})],1),t.$vuetify.breakpoint.mdAndDown?n("v-tab-item",[n("related",{attrs:{artist:t.metaSong.artist,title:t.metaSong.title,trackID:t.metaSong.trackID,source:t.metaSong.source,lg10:!1},on:{conmen:function(e){return t.$emit("conmen",e)}}})],1):t._e()],1)],1),t.$vuetify.breakpoint.lgAndUp&&t.bShowStage?n("relatedd",{attrs:{trackID:t.metaSong.trackID},on:{conmen:function(e){return t.$emit("conmen",e)}}}):t._e()],1)],1)],1)},Qn=[],Yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inList?n("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.open(e)}}},[n("v-list-tile-title",[t._v(t._s("Open "+t.song.source+" in a new tab"))])],1):n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",href:t.url,icon:""},on:{click:function(e){return e.preventDefault(),t.open(e)}},slot:"activator"},[n("v-icon",[t._v("open_in_new")])],1),n("span",[t._v(t._s("Open "+t.song.source+" in a new tab"))])],1)},Nn=[],Hn={name:"NewTab",props:{song:{type:[Object,String],default:function(){return{source:""}}},inList:{type:Boolean,default:!1}},computed:{url:function(){return this.song.hasOwnProperty("listID")?"https://dctest.netlify.com/#/p/".concat(this.song.title,"/").concat(this.song.source,"/").concat(this.song.artistID,"/").concat(this.song.listID):this.song.mp32}},methods:{open:function(){this.$DCPlayer.pause(),window.open(this.url,"_blank")}}},qn=Hn,Kn=n("3a2f"),zn=Object(v["a"])(qn,Yn,Nn,!1,null,null,null),Wn=zn.exports;b()(zn,{VBtn:w["a"],VIcon:_["a"],VListTile:M["a"],VListTileTitle:B["c"],VTooltip:Kn["a"]});var Gn=n("a65f"),Xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"mt-3",attrs:{xs12:"",lg4:""}},[t.$store.state.user.drawRight?t._e():n("div",[n("div",{staticClass:"text-xs-left subheading"},[t._v("\n      Up next\n    ")]),n("v-flex",{attrs:{xs12:""},on:{click:function(e){t.$DCPlayer.next(),t.$DCFB.historyPush(t.$store.getters.current_song)},contextmenu:function(e){return t.$emit("conmen",[e,t.upNext])}}},[n("v-card",{staticClass:"mb-2 pointer",attrs:{color:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs5:""}},[n("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===t.upNext.source?16/9:1,src:t.upNext.poster}},[n("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"})],1)],1),n("v-flex",{staticClass:"ma-2 text-xs-left",attrs:{xs7:""}},[n("div",{staticClass:"subheading wordbreak"},[t._v(t._s(t.upNext.title))]),n("router-link",{staticClass:"subheading grey--text artist noDeco",attrs:{to:{name:"artist",params:{source:t.upNext.source,artist:t.upNext.artist,artistID:t.upNext.artistID}}},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v("\n              "+t._s(t.upNext.artist)+"\n            ")]),n("div",{staticClass:"grey--text"},[t._v(t._s(t.upNext.duration))])],1)],1)],1)],1),n("v-divider")],1),t.loading||t.items.length?n("div",{staticClass:"text-xs-left subheading mt-2"},[t._v("\n    Related\n  ")]):t._e(),t.loading?n("v-flex",{attrs:{xs2:"","offset-xs5":""}},[n("orbit")],1):t._e(),n("v-data-iterator",{attrs:{items:t.items,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,id:String(t.song.trackID),"hide-actions":"","content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return n("v-flex",{attrs:{xs12:""},on:{click:function(n){return t.play(e.index)},contextmenu:function(n){return t.$emit("conmen",[n,[e.item]])}}},[n("v-card",{staticClass:"mb-2 pointer",attrs:{color:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs5:""}},[n("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===e.item.source?16/9:1,src:e.item.poster}},[n("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"})],1)],1),n("v-flex",{staticClass:"ma-2 text-xs-left",attrs:{xs7:""}},[n("div",{staticClass:"subheading wordbreak"},[t._v(t._s(e.item.title))]),n("router-link",{staticClass:"subheading grey--text artist noDeco",attrs:{to:{name:"artist",params:{source:e.item.source,artist:e.item.artist,artistID:e.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v("\n              "+t._s(e.item.artist)+"\n            ")]),n("div",{staticClass:"grey--text"},[t._v(t._s(e.item.duration))])],1)],1)],1)],1)}}])},[n("v-flex",{attrs:{slot:"no-data"},slot:"no-data"})],1)],1)},Jn=[],Zn=n("45b7");function ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ti(n,!0).forEach(function(e){ni(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ti(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii={name:"StageRelated",components:{orbit:Zn["a"]},props:{trackID:{type:[String,Number],default:""}},watch:{trackID:{handler:"getRelated"}},data:function(){return{loading:!0,rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:-1},items:[]}},computed:ei({},Object(d["b"])({isYT:"isYT",song:"current_song",upNext:"next_song"})),methods:{play:function(t){window.scrollTo(0,0),this.$DCPlayer.setNPlay({songs:this.items,current:t,path:this.$route.path})},getRelated:function(){var t=this;this.trackID&&(this.loading=!0,this.items=[],this.$DCAPI.searchInt("",0,[this.song.source],this.trackID,function(e){t.loading=!1,e.length&&(e[0].trackID===t.trackID&&e.shift(),t.items=e)},!0,50))},hai:function(t){return"xs"===this.$vuetify.breakpoint.name?"YouTube"===t?"119px":"140px":"YouTube"===t?"119px":"209px"}}},si=ii,ri=(n("de8e"),Object(v["a"])(si,Xn,Jn,!1,null,null,null)),oi=ri.exports;b()(ri,{VCard:A["a"],VDataIterator:oe["a"],VDivider:X["a"],VFlex:V["a"],VImg:L["a"],VLayout:o["a"]});var ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"mt-3",attrs:{shrink:"",alignCenter:""}},[n("v-flex",{attrs:{xs12:""}},[n("router-link",{attrs:{to:{name:"artist",params:{source:t.source,artist:t.artist,artistID:t.artistID}}}},[n("v-flex",{attrs:{xs12:"","text-xs-center":""}},[n("v-avatar",{staticClass:"pointer",attrs:{slot:"activator",size:"55px"},slot:"activator"},[n("img",{staticClass:"img-fluid",staticStyle:{display:"inline-block"},attrs:{src:t.info.img}})])],1)],1),n("v-flex",{staticClass:"mt-2",attrs:{xl12:""}},[t.$store.state.user.auth_state?n("subscribe-button",{attrs:{artistID:t.artistID,source:t.source,artist:t.artist,img:t.info.img}}):t._e()],1)],1)],1)},li=[],ci=n("162d"),ui={name:"ArtistMini",props:{artistID:{type:[String,Number],default:""},source:{type:String,default:""},artist:{type:String,default:""}},components:{"subscribe-button":ci["a"]},data:function(){return{info:{created:"",description:"",img:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",followers_count:"",last_modified:"",title:"",track_count:""}}},methods:{avatarClicked:function(){this.$router.push({name:"artist",params:{source:this.source,artist:this.artist,artistID:this.artistID}})}},computed:{items:function(){return[{icon:"music_note",name:"Tracks",data:this.info.track_count},{icon:"star",name:"Followers",data:this.info.followers_count},{icon:"updated",name:"Last updated",data:this.info.last_modified?this.$DCAPI.calcDate(new Date,this.info.last_modified):""},{icon:"date_range",name:"Created",data:this.info.created?this.$DCAPI.calcDate(new Date,this.info.created):""}]}},mounted:function(){var t=this;this.$DCAPI.getArtistInfo(this.artistID,this.source).then(function(e){t.source.toLowerCase().indexOf("youtube")>-1?(t.info.created=e.data.items[0].snippet.publishedAt,t.info.description=e.data.items[0].snippet.description,t.info.img=e.data.items[0].snippet.thumbnails.high.url,t.info.title=e.data.items[0].snippet.title):t.source.toLowerCase().indexOf("soundcloud")>-1?(t.info.created="",t.info.description="",t.info.img=e.data.avatar_url.replace("large","t500x500"),t.info.followers_count=e.data.followers_count,t.info.last_modified=e.data.last_modified,t.info.title=e.data.username,t.info.track_count=e.data.track_count):t.source.toLowerCase().indexOf("mixcloud")>-1?(t.info.created=e.data.created,t.info.description=e.biog,t.info.img=e.data.pictures.medium,t.info.followers_count=e.data.followers_count,t.info.last_modified=e.data.updated_time,t.info.title=e.data.username,t.info.track_count=e.data.cloudcast_count):t.source.toLowerCase().indexOf("bandcamp")>-1&&(t.info.created=e.data.created,t.info.img=e.data.img,t.info.last_modified=e.data.last,t.info.track_count=e.data.tracks)})}},di=ui,pi=Object(v["a"])(di,ai,li,!1,null,null,null),hi=pi.exports;b()(pi,{VAvatar:ye["a"],VFlex:V["a"]});var fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{top:""}},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.isYT||-2==t.$store.current_index,expression:"$store.getters.isYT || $store.current_index == -2"}],attrs:{slot:"activator",disabled:!t.$store.getters.isYT,icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.clicked(e)}},slot:"activator"},[n("v-icon",{attrs:{color:t.color}},[t._v("ondemand_video")])],1),n("span",[t._v(t._s(t.toolTip)+" video")])],1)},mi=[],gi={computed:{toolTip:function(){return this.$store.getters.ytUseVideo&&this.$store.getters.isYT?"Disable":"Enable"},color:function(){return this.$store.getters.ytUseVideo&&this.$store.getters.isYT?"primary":""}},methods:{clicked:function(){var t=this;this.$store.commit("ytToggleVideo");var e=this.$store.getters.ytUseVideo?this.$DCPlayer.eAudio.currentTime:this.$store.getters.ytCurrentTime,n=this.$store.getters.ytIsPlaying||!this.$DCPlayer.eAudio.paused;if(this.$store.getters.ytUseVideo)if(n&&this.$DCPlayer.stop(),this.$store.getters.ytObject.hasOwnProperty("loadVideoById"))this.$store.getters.ytObject.loadVideoById(this.$store.getters.current_song.trackID,e),setTimeout(function(){n||t.$store.commit("ytPause"),t.$store.getters.ytObject.setVolume(100*t.$DCPlayer.eAudio.volume)},1500);else{var i=this.$store.getters.current_index;this.$store.getters.ytObject.setVolume(100*this.$DCPlayer.eAudio.volume),this.$store.commit("changeIndex",-2),setTimeout(function(){t.$store.commit("changeIndex",i);var s=function i(){return setTimeout(function(){t.$store.getters.ytIsPlaying?(n||t.$store.commit("ytPause"),t.$store.getters.ytObject.seekTo(e)):i()},150)};s()},250)}else this.$DCPlayer.eAudio.volume=this.$store.getters.ytObject.getVolume()/100,this.$store.commit("ytPause"),this.$DCPlayer.playIndex(this.$store.getters.current_index).then(function(){t.$DCPlayer.eAudio.currentTime=e,n||t.$DCPlayer.pause()})}}},vi=gi,yi=Object(v["a"])(vi,fi,mi,!1,null,null,null),bi=yi.exports;b()(yi,{VBtn:w["a"],VIcon:_["a"],VTooltip:Kn["a"]});var wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:""}},[t.show?n("v-data-iterator",{attrs:{items:t.aComments,"content-tag":"v-layout",row:"",wrap:"","hide-actions":"","no-data-text":""},scopedSlots:t._u([{key:"item",fn:function(e){return n("v-flex",{attrs:{xs12:""},on:{click:function(t){e.item.show=!e.item.show}}},[n("v-card",{staticClass:"py-2",class:e.item.totalReplyCount?"pointer":"",attrs:{hover:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"pt-2":"",shrink:""}},[n("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation()}}},[n("v-avatar",{staticClass:"mt-1 comAv",attrs:{size:"40",color:"grey lighten-4"}},[n("img",{attrs:{src:e.item.artistIMG,alt:"avatar"}})])],1)],1),n("v-flex",{attrs:{xs10:""}},[n("div",[n("div",{staticClass:"body-1 grey--text py-1"},[n("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("strong",[t._v(t._s(e.item.artist))])]),n("span",[t._v(t._s(" "+t.$DCAPI.calcDate("",e.item.commentCreated)))])],1),n("div",{staticClass:"body-1 preline py-1",domProps:{innerHTML:t._s(t.timeToSeconds(e.item.comment))}})])])],1),e.item.totalReplyCount?n("commentThread",{attrs:{"total-reply-count":e.item.totalReplyCount,"comment-thread":e.item.commentID,source:t.source,"show-thread":e.item.show},on:{show:function(t){e.item.show=t}}}):t._e()],1),e.index!=t.aComments.length-1?n("v-divider"):t._e()],1)}}],null,!1,1554174378)},[t.aComments.length&&t.$DCAPI.YTCommentNext&&"soundcloud"!=t.source.toLowerCase()?n("v-flex",{attrs:{slot:"footer",xs12:""},slot:"footer"},[n("infinite-loading",{ref:"infiniteLoading",attrs:{distance:210,spinner:"waveDots"},on:{infinite:t.infiniteHandler}},[n("span",{attrs:{slot:"no-more"},slot:"no-more"}),n("span",{attrs:{slot:"no-results"},slot:"no-results"})])],1):t._e()],1):n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",[n("v-card-title",[t._v("\n          "+t._s(t.noComments?"No comments available":"Loading comments")+"\n        ")])],1)],1)],1)],1)},_i=[],ki=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"ma-0 pa-0",on:{click:function(e){return t.$emit("show",t.showThread)}}},[n("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pointer body-1 comMor noSel primary--text",attrs:{shrink:""}},[t._v("\n      "+t._s((t.showThread?"Hide":"Show")+" "+t.totalReplyCount+" replies")+" \n      "),n("v-icon",{attrs:{size:"18"}},[t._v(t._s(t.showThread?"keyboard_arrow_up":"keyboard_arrow_down"))]),t.bLoading?n("orbit",{staticClass:"my-3 ml-4"}):t._e()],1)],1),t.showThread?n("v-data-iterator",{attrs:{items:t.aComments,"content-tag":"v-layout",row:"",wrap:"","hide-actions":"","no-data-text":""},scopedSlots:t._u([{key:"item",fn:function(e){return t.showThread?n("v-flex",{staticClass:"comThr",attrs:{xs12:""}},[n("v-card",{staticClass:"py-2",attrs:{flat:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"pt-2":"","mr-3":"",shrink:""}},[n("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}},on:{click:function(t){t.stopPropagation()}}},[n("v-avatar",{attrs:{size:"40",color:"grey lighten-4"}},[n("img",{attrs:{src:e.item.artistIMG}})])],1)],1),n("v-flex",{attrs:{xs11:""}},[n("div",[n("div",{staticClass:"body-1 grey--text py-1"},[n("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[n("strong",[t._v(t._s(e.item.artist))])]),n("span",[t._v(t._s(" "+t.$DCAPI.calcDate("",e.item.commentCreated)))])],1),n("div",{staticClass:"body-1 preline py-1 pr-1",domProps:{innerHTML:t._s(t.timeToSeconds(e.item.comment))}})])])],1)],1),e.index!==t.aComments.length-1?n("v-divider"):t._e()],1):t._e()}}],null,!0)}):t._e()],1)},xi=[],Ci={name:"songCommentsThread",watch:{showThread:"queryComments"},components:{orbit:Zn["a"]},props:{totalReplyCount:{type:[String,Number],default:""},commentThread:{type:[String,Number],default:""},source:{type:[String],default:""},showThread:{type:[Boolean],default:!1}},data:function(){return{aComments:[],iPage:0,bLoading:!1}},methods:{timeToSeconds:function(t){return t?this.$store.getters.ytUseVideo&&this.$store.getters.isYT?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));return false\">$&</span>"):t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time);return false\">$&</span>"):""},queryComments:function(){this.showThread&&!this.aComments.length&&(this.aComments=[],this.iPage=0,this.getComments())},getComments:function(){var t=this;this.bLoading=!0;var e=function e(n){return t.$DCAPI.getSongComments(t.commentThread,t.source,50,n,function(n){t.bLoading=!1,n.data.length&&(t.aComments=t.aComments.concat(n.data),n.nextPage&&e(n.nextPage))})};e("")},getMore:function(){this.iPage+=1,this.getComments()}}},Si=Ci,Pi=(n("5047"),Object(v["a"])(Si,ki,xi,!1,null,null,null)),Di=Pi.exports;b()(Pi,{VAvatar:ye["a"],VCard:A["a"],VDataIterator:oe["a"],VDivider:X["a"],VFlex:V["a"],VIcon:_["a"],VLayout:o["a"]});var $i={name:"SongComments",watch:{trackID:{immediate:!0,handler:"reset"}},props:{trackID:{type:[String,Number],default:""},source:{type:[String],default:""}},components:{commentThread:Di,"infinite-loading":Rt.a},data:function(){return{show:!1,infState:"",aComments:[],iPage:0,bLoading:!1,noComments:!1}},methods:{commentClick:function(t){console.log("show event",t)},reset:function(){this.aComments=[],this.iPage=0,this.show=!1,this.noComments=!1,this.getComments()},infiniteHandler:function(t){this.infState=t,this.getMore()},timeToSeconds:function(t){return t?this.$store.getters.ytUseVideo&&this.$store.getters.isYT?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},getComments:function(){var t=this;return this.bLoading=!0,this.$DCAPI.getSongCommentsThreads(this.trackID,this.iPage,this.source,50,function(e){t.infState&&t.infState.loaded(),e.length?(t.bLoading=!1,t.aComments=t.aComments.concat(e),t.show=!0):(t.noComments=!0,t.infState&&t.infState.complete())})},getMore:function(){this.iPage+=1,this.getComments()}}},Ii=$i,Oi=(n("6c99"),Object(v["a"])(Ii,wi,_i,!1,null,null,null)),Ti=Oi.exports;b()(Oi,{VAvatar:ye["a"],VCard:A["a"],VCardTitle:Kt["a"],VDataIterator:oe["a"],VDivider:X["a"],VFlex:V["a"],VLayout:o["a"]});var Ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",{staticClass:"ma-0 py-0"},[n("v-text-field",{staticClass:"py-0",attrs:{clearable:"","single-line":"",label:"Enter the song and artist name","append-icon":"search"},on:{"click:append":t.inputEnter,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputEnter(e)}},model:{value:t.inputModel,callback:function(e){t.inputModel=e},expression:"inputModel"}})],1),t.lyrics?n("div",{staticClass:"wordbreak preline py-0 px-3"},[n("a",{staticClass:"primary--background",attrs:{href:t.lyricsURL,target:"_blank"}},[t._v(t._s(t.lyricsURL))]),n("br"),t._v("\n    "+t._s(t.lyrics)+"\n  ")]):t.bLoading?n("v-card-title",[t._v("\n    "+t._s(t.loadingText+t.loadingTextAppend)+"\n  ")]):t.iTried?n("v-card-title",[t._v("\n    No lyrics available for "+t._s(this.inputModel)+"\n  ")]):t._e(),!t.bLoading&&t.artistNotFoundInTitle?n("v-card-title",{class:t.lyrics?"mt-3":""},[n("div",{staticClass:"primary--text underline pointer pl-1",on:{click:function(e){t.inputModel=t.inputModel+" - "+t.cArtist,t.reset(!1)}}},[t._v('Try again with "'+t._s(this.inputModel)+" - "+t._s(this.cArtist)+'"')])]):t._e()],1)},Vi=[],Li={name:"Lyrics",props:{title:{type:String,default:""},artist:{type:String,default:""}},watch:{title:{immediate:!0,handler:"reset"}},data:function(){return{iTried:!1,lyricsServer:"https://dc-nodejs-backend-ogxsxzvffx.now.sh/api/v1",bLoading:!1,lyrics:"",lyricsURL:"",inputModel:this.title,inputFinal:"",loadingTextAppend:"",loadingText:"Loading lyrics"}},computed:{artistNotFoundInTitle:function(){return-1===this.inputModel.indexOf(this.artist)},cArtist:function(){return this.artist.replace(" - Topic","")},query:function(){return this.title.replace(/[^\w |${1}|-]/gi,"").replace(/official music video/gi,"").replace(/official audio/gi,"").replace(/instrumental/gi,"").replace(/offici?al video/gi,"").replace(/music video/gi,"").replace(/ audio /gi,"").replace(/ audio$/gi,"").replace(/ video /gi,"").replace(/ video$/gi,"").replace(/lyrics/gi,"").replace(/ hd /gi,"").replace(/ hq /gi,"").replace(/ sd /gi,"").replace(/ hq$/gi,"").replace(/ sd$/gi,"").replace(/ hd$/gi,"").replace(/\s\s+/gi," ")}},methods:{inputEnter:function(){this.reset(!1)},reset:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bLoading=!1,this.lyrics="",this.iTried=!1,t&&(this.inputModel=this.query),this.getLyrics()},animateText:function(){3===this.loadingTextAppend.length?this.loadingTextAppend="":this.loadingTextAppend+="."},fail:function(t){this.iTried=!0,this.bLoading=!1,clearInterval(t)},getLyrics:function(){var t=this;if(!this.lyrics){var e=this.inputModel.toLowerCase();this.bLoading=!0,this.lyrics="";var n=setInterval(this.animateText,500);mn.a.get("https://api.alltomp3.org/v1/guess-track/".concat(encodeURIComponent(e))).then(function(i){i.data.title&&i.data.artistName?(e=i.data.title+" "+i.data.artistName,t.inputFinal=e):(t.inputFinal=t.inputModel,e=t.inputModel),e=e.toLowerCase(),mn.a.get("".concat(t.lyricsServer,"/search/").concat(e)).then(function(i){if(i=i.data.data,i.length){var s=i.find(function(t){return e.indexOf(t.title.toLowerCase())>-1});if(s)mn.a.get("".concat(t.lyricsServer,"/lyrics/").concat(s.id)).then(function(e){t.lyrics=e.data.data.lyrics,t.lyricsURL=e.data.data.url,t.bLoading=!1,clearInterval(n)}).catch(function(){t.fail(n)});else{var r=i.find(function(t){return e.indexOf(t.primary_artist.name.toLowerCase())>-1});if(r){var o=e.toLowerCase().replace(r.primary_artist.name.toLowerCase(),""),a=function e(i){mn.a.get("".concat(t.lyricsServer,"/songsByArtist/").concat(r.primary_artist.id,"/").concat(i)).then(function(s){if(s=s.data.data,s.length){var r=s.find(function(t){return o.indexOf(t.title.replace(/[^\w ]/g,"").toLowerCase())>-1});r?mn.a.get("".concat(t.lyricsServer,"/lyrics/").concat(r.id)).then(function(e){t.lyrics=e.data.data.lyrics,t.lyricsURL=e.data.data.url,t.bLoading=!1,clearInterval(n)}).catch(function(){}):t.bLoading?e(++i):t.fail(n)}else t.fail(n)}).catch(function(){t.fail(n)})};a(1)}else t.fail(n)}}else t.fail(n)}).catch(function(){t.fail(n)})})}}}},ji=Li,Mi=(n("db74"),Object(v["a"])(ji,Ai,Vi,!1,null,null,null)),Bi=Mi.exports;b()(Mi,{VCard:A["a"],VCardTitle:Kt["a"],VTextField:le["a"]});var Ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:{w100:t.inList},staticStyle:{display:"inline-block"}},[t.inList?n("v-list-tile",{staticClass:"w100",attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.openMenu(e)}}},[n("v-list-tile-title",[t._v("Add to playlist")])],1):n("v-tooltip",{attrs:{top:""}},[n("v-btn",{staticClass:"ml-2",attrs:{slot:"activator",id:"a2p",disabled:t.disabled,color:t.btnCol,icon:""},on:{click:function(e){return e.stopPropagation(),t.openMenu(e)}},slot:"activator"},[n("v-icon",[t._v("playlist_add")])],1),n("span",[t._v("Add to playist")])],1),n("v-dialog",{attrs:{maxWidth:"500px"},model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[n("v-card",{staticStyle:{"overflow-x":"hidden"},attrs:{height:t.cardHeight1,flat:""}},[n("v-card-text",{staticClass:"title fwl ma-0 pa-0 pl-2 pt-2"},[t._v("\n        Add to playlist\n      ")]),n("div",{style:{height:+t.cardHeight2+44+"px"}},[n("v-autocomplete",{ref:"auto",staticClass:"ma-0 px-2",attrs:{"menu-props":{maxHeight:t.cardHeight2,contentClass:"noShadow pt-1"},items:t.items,searchInput:t.search,itemValue:"key",itemText:"name","append-Icon":"",clearable:"","no-data-text":"Create new playlist",color:"primary",hideNoData:"",placeholder:"Playlist name",onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Playlist name'","open-on-clear":"",returnObject:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[n("v-list-tile-content",{key:e.item[".key"],domProps:{textContent:t._s(e.item.name)},on:{click:function(n){return t.clicked(e.item)}}})]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),n("div",{staticClass:"text-xs-right"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.enter(e)}}},[t._v("Add")])],1)],1)],1)],1)},Ui=[];function Fi(t){return Fi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(t)}var Ri={name:"AddToPlaylist",props:{song:{type:[Array,Object,String],default:function(){return[]}},disabled:{type:Boolean,default:!1},inList:{type:Boolean,default:!1}},data:function(){return{items:[],btnCol:"",menuOpen:!1,loading:!1,search:null,select:""}},watch:{song:{immediate:!0,handler:"bind"}},computed:{cardHeight1:function(){return this.$vuetify.breakpoint.xsOnly?"316":"438"},cardHeight2:function(){return this.$vuetify.breakpoint.xsOnly?"188":"310"}},methods:{clicked:function(t){this.emit(t)},enter:function(){var t=this;this.emit(this.select||this.search),setTimeout(function(){t.$refs.auto.$children[0].isActive=!1})},emit:function(t){var e=this;this.menuOpen=!1,this.$DCFB.playlistGet(this.$route.params.user,this.$route.params.playlist).once("value").then(function(n){"object"===Fi(t)?(e.$DCFB.playlistSongAdd(t[".key"],e.song),e.$store.dispatch("snack",{b:!0,c:"primary",s:"Added to playlist",u:[{songs:n.val(),user:e.$route.params.user,playlist:t[".key"]}]})):(e.$store.dispatch("snack",{b:!0,c:"primary",s:"Created new playlist"}),e.$DCFB.createNewPlaylist(e.search,e.song))})},openMenu:function(){var t=this;this.$emit("clicked"),this.menuOpen=!this.menuOpen,setTimeout(function(){t.$refs.auto.$el.querySelector(".v-select__slot").click(),t.$refs.auto.$el.querySelector("input").focus()},600)},bind:function(){this.select="",this.$store.state.user.auth_state&&this.$bindAsArray("items",this.$DCFB.playlists.orderByChild("name_lower"))}}},Qi=Ri,Yi=(n("2d50"),n("c6a6")),Ni=n("169a"),Hi=Object(v["a"])(Qi,Ei,Ui,!1,null,null,null),qi=Hi.exports;b()(Hi,{VAutocomplete:Yi["a"],VBtn:w["a"],VCard:A["a"],VCardText:Mt["b"],VDialog:Ni["a"],VIcon:_["a"],VListTile:M["a"],VListTileContent:B["a"],VListTileTitle:B["c"],VTooltip:Kn["a"]});var Ki=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inList?n("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.share(e)}}},[n("v-list-tile-title",[t._v("Share")])],1):n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.share(e)}},slot:"activator"},[n("v-icon",[t._v("share")])],1),n("span",[t._v(t._s(t.btnTxt))])],1)},zi=[],Wi={name:"ShareButton",props:{url:{type:String,default:""},song:{type:[Object,Array,String],default:function(){return[]}},inList:{type:Boolean,default:!1}},data:function(){return{color:""}},components:{"delete-button":P["a"]},computed:{btnTxt:function(){return this.$vuetify.breakpoint.smAndDown?"Share":"Copy link to clipboard"}},methods:{share:function(){var t=this;this.$emit("clicked"),this.color="primary";var e=this.song.hasOwnProperty("listID")?"https://dctest.netlify.com/#/p/".concat(encodeURIComponent(this.song.title),"/").concat(this.song.source,"/").concat(this.song.artistID,"/").concat(this.song.listID):"https://dreamcloud.netlify.com/#/t/".concat(this.song.source,"/").concat(encodeURIComponent(this.song.artist),"/").concat(this.song.trackID);this.$UTILS.share(e,this.song)?this.$store.commit("snack",{b:!0,c:"primary",s:"Link copied to clipboard"}):this.$store.commit("snack",{b:!0,c:"primary",s:"Opening share menu"}),setTimeout(function(){t.color=""},2e3)}}},Gi=Wi,Xi=Object(v["a"])(Gi,Ki,zi,!1,null,null,null),Ji=Xi.exports;b()(Xi,{VBtn:w["a"],VIcon:_["a"],VListTile:M["a"],VListTileTitle:B["c"],VTooltip:Kn["a"]});var Zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inList?n("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.download(e)}}},[n("v-list-tile-title",[t._v("Download")])],1):n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.download(e)}},slot:"activator"},[n("v-icon",{attrs:{color:"primary"===t.color?"white":""}},[t._v("file_download")])],1),n("span",[t._v("Download")])],1)},ts=[],es={name:"DownloadButton",props:{links:{type:[Array,Object],default:function(){return[]}},inList:{type:Boolean,default:!1}},data:function(){return{color:""}},methods:{download:function(){var t=this;for(var e in this.$emit("clicked"),this.$store.dispatch("snack",{b:!0,c:"primary",s:"Downloading"}),this.color="primary",setTimeout(function(){t.color=""},2e3),this.links)this.$emit("clicked"),window.open(this.$DCPlayer.sBase+"v3/stream?t="+encodeURIComponent(this.links[e].title)+"&i="+encodeURIComponent(this.links[e].mp32),"_blank")}}},ns=es,is=Object(v["a"])(ns,Zi,ts,!1,null,null,null),ss=is.exports;function rs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rs(n,!0).forEach(function(e){as(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rs(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function as(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}b()(is,{VBtn:w["a"],VIcon:_["a"],VListTile:M["a"],VListTileTitle:B["c"],VTooltip:Kn["a"]});var ls={name:"VideoStage",beforeCreate:function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},watch:{trackID:{handler:function(t){t&&this.song&&(this.bShowStage?(this.metaSong=this.song,this.getPlays(),this.getDesc()):this.description=this.song.description,"auto"===this.$route.name&&this.$router.replace({name:"auto",params:{artist:this.song.artist,trackID:this.song.trackID,source:this.song.source}}),this.isYT&&this.ytUseVideo&&(this.ytObject.hasOwnProperty("loadVideoById")?this.ytObject.loadVideoById(this.trackID):this.ytBind(),this.$DCPlayer.eAudio.pause()))},immediate:!0},bShowStage:{handler:function(t){var e=this;t&&this.$nextTick(function(){e.$nextTick(function(){e.metaSong.trackID!=e.song.trackID&&(e.metaSong=e.song,e.description=e.song.description,e.getPlays(),e.getDesc())})})}}},components:{newTab:Wn,"artist-mini":hi,"youtube-button":bi,related:Gn["default"],relatedd:oi,lyrics:Bi,songComments:Ti,"add-to-playlist":qi,"download-button":ss,"share-button":Ji},computed:os({},Object(d["c"])({bShowStage:function(t){return t.user.bShowStage},current_playlist:function(t){return t.player.current_playlist},show_pop_list:function(t){return t.player.show_pop_list},show_pop:function(t){return t.player.show_pop}}),{},Object(d["b"])({song:"current_song",trackID:"current_trackID",ytUseVideo:"ytUseVideo",ytObject:"ytObject",showVideo:"showVideo",isYT:"isYT"}),{videoClass:function(){return{"video-wrapper":!this.show_pop,"pop-wrapper":this.show_pop,"pop-hi":this.show_pop&&this.show_pop_list}},stageBorderStyle:function(){return{"border-bottom":"1px solid "+this.$vuetify.theme.primary}}}),data:function(){return{metaSong:{title:"",artist:"",trackID:"",source:"",poster:""},tab:1,bWide:!1,btnCol:"",iViews:"",cc:!1,yt:"",interval:"",description:"",currentid:""}},destroyed:function(){clearInterval(this.interval)},methods:{next:function(t){t.touchstartX-t.touchendX>50&&this.$DCPlayer.next()},previous:function(t){t.touchstartX-t.touchendX>50&&this.$DCPlayer.next()},btnFeedback:function(){var t=this;this.btnCol="primary",setTimeout(function(){t.btnCol=""},2e3)},getPlays:function(){var t=this;this.$DCAPI.getSongPlays(this.trackID,this.song.source,function(e){t.iViews=t.makeFriendly(e)})},intlFormat:function(t){return(new Intl.NumberFormat).format(Math.round(10*t)/10)},makeFriendly:function(t){return t>=1e6?this.intlFormat(t/1e6)+"M views":t>=1e3?this.intlFormat(t/1e3)+"k views":this.intlFormat(t)+" views"},toggleCC:function(){this.cc=!this.cc,this.cc?this.yt.loadModule("captions"):this.yt.unloadModule("captions")},timeToSeconds:function(t){return t?this.ytUseVideo&&this.isYT?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/\n/g,"<br>").replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},fullscreen:function(){this.ytUseVideo&&this.isYT?this.$UTILS.toggleFullscreen("player"):this.$UTILS.toggleFullscreen("pstr"),this.$UTILS.isMobile&&screen.orientation.lock("landscape-primary")},getDesc:function(){var t=this;this.isYT?setTimeout(function(){t.$DCAPI.getSongDescription(t.trackID,t.song.source,function(e){t.description=e.items[0].snippet.description.trim()})},350):this.description=this.song.description},ytBind:function(){"undefined"!==typeof YT&&YT&&YT.Player?this.ytUseVideo&&(this.$DCPlayer.pause(),this.yt||(this.yt=new YT.Player("player",{width:"100%",height:"196",videoId:this.trackID,enablejsapi:1,playerVars:{autoplay:1,controls:0,color:"primary",showinfo:0,modestbranding:1,fs:0,cc_load_policy:1,iv_load_policy:3,rel:0,autohide:1},events:{onReady:this.ytReady,onStateChange:this.ytChanged,onApiChange:this.ytOnApiChange}}))):setTimeout(this.ytBind,100)},ytOnApiChange:function(){},ytReady:function(t){this.$store.commit("ytObject",t.target),this.ytObject.playVideo(),window.dcYT=this.yt},ytChanged:function(t){var e=this;this.$store.commit("ytState",t.data),1===t.data?(this.$store.commit("ytDuration",this.ytObject.getDuration()),this.interval=setInterval(function(){e.$store.commit("ytCurrentTime",e.ytObject.getCurrentTime())},500)):0===t.data?(clearInterval(this.interval),this.$store.commit("ytCurrentTime",0),this.$DCPlayer.next(),this.$DCFB.historyPush(this.song)):clearInterval(this.interval)}}},cs=ls,us=(n("75eb"),n("71a3")),ds=n("c671"),ps=n("fe57"),hs=n("aac8"),fs=n("9a96"),ms=Object(v["a"])(cs,Rn,Qn,!1,null,null,null),gs=ms.exports;b()(ms,{VBtn:w["a"],VFlex:V["a"],VIcon:_["a"],VLayout:o["a"],VTab:us["a"],VTabItem:ds["a"],VTabs:ps["a"],VTabsItems:hs["a"],VTabsSlider:fs["a"],VTooltip:Kn["a"]}),bt()(ms,{Touch:wt["a"]});var vs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},["2"!=t.view_mode||t.gridView?t._e():n("list",{attrs:{songs:t.aSongs,full:t.full,"rows-per-page":t.rpp,"sort-by":t.sortBy,bMini:!0},on:{toggleView:t.toggleView,shuffleOn:t.shuffle,shuffleOff:t.shuffleOff,conmen:function(e){return t.$emit("conmen",e)}}}),"1"!=t.view_mode||t.gridView?t._e():n("list",{attrs:{songs:t.aSongs,full:t.full,"rows-per-page":t.rpp,"sort-by":t.sortBy},on:{toggleView:t.toggleView,shuffleOn:t.shuffle,shuffleOff:t.shuffleOff,conmen:function(e){return t.$emit("conmen",e)}}}),"0"!=t.view_mode||t.gridView?t._e():n("grid",{attrs:{songs:t.aSongs,full:t.full,"rows-per-page":t.rpp,"sort-by":t.sortBy,"show-uploaded":t.showUploaded},on:{toggleView:t.toggleView,shuffleOn:t.shuffle,shuffleOff:t.shuffleOff,conmen:function(e){return t.$emit("conmen",e)}}}),t.infinite&&t.aSongs.length?n("infinite-loading",{ref:"infiniteLoading22",staticClass:"flex xs12",attrs:{distance:999,spinner:"default"},on:{infinite:t.infiniteHandler}},[n("span",{attrs:{slot:"no-more"},slot:"no-more"}),n("span",{attrs:{slot:"no-results"},slot:"no-results"})]):t._e()],1)},ys=[],bs=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"elevation-0"},[e.full?i("v-card-title",{staticClass:"ma-0 pa-0"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-xs-left mt-2",attrs:{shrink:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){e.bSelect=!e.bSelect}},slot:"activator"},[i("v-icon",{attrs:{color:e.bSelect?"primary":""}},[e._v("check_box")])],1),i("span",[e._v("Select multiple songs")])],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){return e.$emit("toggleView")}},slot:"activator"},[i("v-icon",[e._v(e._s(e.view_mode?"view_module":"view_list"))])],1),i("span",[e._v("Change view")])],1),i("shuffle-button",{attrs:{songs:e.songs},on:{shuffleOn:function(t){return e.$emit("shuffleOn",t)},shuffleOff:function(t){return e.$emit("shuffleOff")}}}),i("sortButton",{attrs:{songs:e.songs},on:{sorted:function(t){e.items=t}}})],1),i("v-flex",{attrs:{xs4:"",lg8:""}},[i("v-text-field",{ref:"search",attrs:{id:"flr-txt","append-icon-cb":function(){t.search="",e.$refs.search.focus()},"append-icon":this.search.length?"close":"",color:"primary",placeholder:"Filter",onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Filter'","single-line":"","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$UTILS.closeSoftMobi()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e.bSelect?i("v-flex",{staticClass:"text-xs-left",attrs:{xs12:"",lg12:""}},[i("v-tooltip",{attrs:{slot:"activator",top:""},slot:"activator"},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){e.bSelectAll=!e.bSelectAll,e.bSelectAll?e.selected=Object.assign([],e.sorted):e.selected=[]}},slot:"activator"},[i("v-icon",{attrs:{color:e.selected.length===e.filterLength?"primary":""}},[e._v("done_all")])],1),i("span",[e._v("Select all")])],1),i("download-button",{attrs:{dis:0==e.selected.length,links:e.selected}}),e.$route.params.playlist?i("delete-button",{attrs:{disabled:0==e.selected.length},on:{delete:e.removeList}}):e._e(),i("add-to-playlist",{key:"multi",attrs:{disabled:0==e.selected.length,song:e.selected}}),i("v-flex",{attrs:{"d-inline-flex":""}},[e._v(e._s(e.selected.length)+" of "+e._s(e.filterLength))])],1):e._e()],1)],1):e._e(),i("v-container",{staticClass:"pa-0",attrs:{"grid-list-lg":"",fluid:""}},[i("v-data-iterator",{ref:"dItera",attrs:{headers:e.headers,items:e.songs,pagination:e.pagination,"rows-per-page-items":[24,50,100,{text:"All",value:-1}],"custom-filter":e.cfilter,search:e.search,"hide-actions":!e.full,"content-class":"pa-0 ma-0","content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item",fn:function(t){return i("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg2:""},on:{click:function(n){n.stopPropagation(),t.item.trackID?t.item.listID?e.$router.push({name:"channelPlaylist",params:{listID:t.item.listID,artistID:t.item.artistID,title:t.item.title,source:t.item.source}}):e.bSelect?e.checkItem(t.item):e.play(t.index,!e.showVideo,e.isPlaying(t.item.trackID)):e.$router.push({name:"artist",params:{source:t.item.source,artist:t.item.title,artistID:t.item.artistID}})},contextmenu:function(n){t.item.trackID&&e.$emit("conmen",[n,e.bSelect?e.selected:[t.item]])}}},[i("v-card",{staticClass:"dc-crd ma-0 pa-0 pointer outline"},[i("v-img",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.item.posterLarge,expression:"props.item.posterLarge",arg:"background-image"}],key:t.item.trackID,staticClass:"fillPlace noSel",attrs:{"aspect-ratio":e.aspect}},[t.item.trackID&&e.isPlaying(t.item.trackID)?i("div",{staticClass:"d-flex text-xs-center v-card--reveal",staticStyle:{height:"100%"}},[i("div",{staticClass:"playBtn"},[i("v-btn",{attrs:{loading:e.$store.getters.isLoading&&e.isPlaying(t.item.trackID),dark:"",icon:"",large:"",color:"primary"},on:{click:function(n){return n.stopPropagation(),e.play(t.index)}}},[i("v-icon",[e._v(e._s(e.$store.getters.isPlaying&&e.isPlaying(t.item.trackID)?"pause":"play_arrow"))])],1)],1)]):e._e()]),i("v-card-title",{staticClass:"pa-0"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs10:""}},[e.bSelect?i("v-flex",{staticClass:"chkbx pa-1",on:{click:function(t){t.stopPropagation()}}},[i("v-checkbox",{attrs:{value:t.item,"hide-details":"",color:"primary"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),i("v-flex",{staticClass:"text-xs-left body-2 grd-txt pa-0 pt-1 wordbreak",domProps:{textContent:e._s(t.item.title)}}),"artist"!==e.$route.name&&t.item.trackID||t.item.listID?i("v-flex",{staticClass:"text-xs-left pa-0 pt-1 wordbreak"},[i("router-link",{staticClass:"noDeco artist",attrs:{to:{name:"artist",params:{source:t.item.source,artist:t.item.artist,artistID:t.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation()}}},[e._v("\n                      "+e._s(t.item.artist)+"\n                    ")])],1):e._e(),e.$route.params.artistID||e.showUploaded?i("v-flex",{staticClass:"text-xs-left grey--text grd-txt pa-0 pt-1"},[e._v("\n                    "+e._s(t.item.uploaded?e.$DCAPI.calcDate(!1,t.item.uploaded):"")+e._s(t.item.duration?" • "+t.item.duration:"")+"\n                  ")]):e._e()],1),i("v-flex",{staticClass:"ma-0 pa-0 pt-2",attrs:{xs2:""},on:{click:function(n){return n.stopPropagation(),e.$emit("conmen",[n,e.bSelect?e.selected:[t.item]])}}},[i("v-btn",{staticClass:"men fl-r ma-0 pa-0 mt-1",attrs:{icon:"",small:""}},[i("v-icon",[e._v("more_vert")])],1)],1)],1)],1)],1)],1)}}])},[i("template",{slot:"no-data"},[i("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},e._l(36,function(t){return i("v-flex",{key:t,staticClass:"ma-0",attrs:{xs12:"",sm6:"",md4:"",lg2:"",xl2:""},on:{contextmenu:function(t){return t.preventDefault()}}},[i("v-card",{staticClass:"dc-crd ma-0 pa-0 pointer"},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":e.aspect||1}},[i("v-layout",{staticClass:"grey--text",attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"})],1),i("v-card-title",{staticClass:"pa-0"},[i("v-flex",{staticClass:"dumTitle fillPlace pa-0 pt-1",attrs:{xs10:""}}),i("v-flex",{staticClass:"dumDate fillPlace pa-0 pt-1",attrs:{xs4:""}})],1)],1)],1)}),1)],1)],2)],1)],1)],1)},ws=[],_s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"open-on-hover":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({attrs:{icon:""}},i),[n("v-icon",[t._v("sort_by_alpha")])],1)]}}]),model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[n("v-list",[t._l(t.citems,function(e,i){return n("v-list-tile",{key:i,staticClass:"pointer",class:e.active?"primary white--text":"",attrs:{hover:""},on:{click:e.cb}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.n))])],1),n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.active?e.on?"keyboard_arrow_up":"keyboard_arrow_down":""))])],1)],1)}),t.$vuetify.breakpoint.smAndDown?n("v-list-tile",{on:{click:function(e){t.showMenu=!1}}},[n("v-btn",{attrs:{flat:"",block:"",color:"primary"},on:{click:function(e){t.showMenu=!1}}},[t._v("Close")])],1):t._e()],2)],1)},ks=[];function xs(t,e,n){var i=n?function(e){return n(e[t])}:function(e){return e[t]};return e=e?-1:1,function(t,n){return t=i(t),n=i(n),e*((t>n)-(n>t))}}var Cs={props:{songs:{type:[Array],default:function(){return[]}}},data:function(){var t=this;return{showMenu:!1,items:[{n:"Artist",active:!1,on:!0,cb:function(){t.toggleItems(0),t.sortByKey("artist",t.items[0].on)}},{n:"Date",active:!1,on:!0,cb:function(){t.toggleItems(1),t.sortByDate(t.items[1].on)}},{n:"Description",active:!1,on:!0,cb:function(){t.toggleItems(2),t.sortByKey("description",t.items[2].on)}},{n:"Duration",active:!1,on:!0,cb:function(){t.toggleItems(3),t.sortByDuration(t.items[3].on)}},{n:"Source",active:!1,on:!0,cb:function(){t.toggleItems(4),t.sortByKey("source",t.items[4].on)}},{n:"Title",active:!1,on:!0,cb:function(){t.toggleItems(5),t.sortByKey("title",t.items[5].on)}}]}},computed:{showArtist:function(){return this.b},citems:function(){return"artist"==this.$route.name?this.items.filter(function(t){return"Title"==t["n"]||"Duration"==t["n"]||"Date"==t["n"]||"Description"==t["n"]}):this.items}},methods:{hms2s:function(t){var e=String(t).split(":"),n=0,i=1;while(e.length>0)n+=i*parseInt(e.pop(),10),i*=60;return n},toggleItems:function(t){this.items[t].on=!this.items[t].on,this.items[t].active=!0;for(var e=0;e<this.items.length;e++)e!=t&&(this.items[e].on=!1,this.items[e].active=!1)},sortByKey:function(t,e){this.$emit("sorted",this.songs.sort(xs(t,e,function(t){return t.toUpperCase()})))},sortByDate:function(t){return this.$emit("sorted",t?this.songs.sort(this.$DCAPI.sortDate).reverse():this.songs.sort(this.$DCAPI.sortDate))},sortSongsByDuration:function(){var t=this;return this.songs.sort(function(e,n){return e=t.hms2s(e.duration||0),n=t.hms2s(n.duration||0),e>n?1:e<n?-1:0})},sortByDuration:function(t){return this.$emit("sorted",t?this.sortSongsByDuration().reverse():this.sortSongsByDuration())}}},Ss=Cs,Ps=Object(v["a"])(Ss,_s,ks,!1,null,null,null),Ds=Ps.exports;b()(Ps,{VBtn:w["a"],VIcon:_["a"],VList:j["a"],VListTile:M["a"],VListTileAction:J["a"],VListTileContent:B["a"],VListTileTitle:B["c"],VMenu:Z["a"]});var $s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.toggle},slot:"activator"},[n("v-icon",{attrs:{color:t.color}},[t._v("shuffle")])],1),n("span",[t._v(" "+t._s(t.bShuffle?"Unshuffle":"Shuffle"))])],1)},Is=[];function Os(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Os(n,!0).forEach(function(e){As(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Os(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function As(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vs={name:"ShuffleButton",props:{songs:{type:[Array],required:!0}},watch:{songs:{handler:"songsChanged"}},data:function(){return{aShuffled:[],aUnshuffled:[]}},computed:Ts({},Object(d["b"])({bShuffle:"bShuffled"}),{color:function(){return this.bShuffle?"primary":""}}),methods:{songsChanged:function(t){this.aShuffled.length>0&&t[0].trackID!==this.aShuffled[0].trackID?this.$store.commit("bShuffled",!1):this.aUnshuffled=this.aShuffled},toggle:function(){this.$store.commit("bShuffled",!this.bShuffle),this.bShuffle?(this.aShuffled=this.shuffle(this.songs),this.$store.commit("aShuffled",this.aShuffled),this.$emit("shuffleOn",this.aShuffled)):this.$emit("shuffleOff")},shuffle:function(t){for(var e=Object.assign([],t),n=0;n<e.length-1;n++){var i=n+Math.floor(Math.random()*(e.length-n)),s=e[i];e[i]=e[n],e[n]=s}return e}}},Ls=Vs,js=Object(v["a"])(Ls,$s,Is,!1,null,null,null),Ms=js.exports;function Bs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bs(n,!0).forEach(function(e){Us(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bs(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Us(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}b()(js,{VBtn:w["a"],VIcon:_["a"],VTooltip:Kn["a"]});var Fs={name:"Grid",props:{songs:{type:Array,default:function(){return[]}},sortBy:{type:[String],default:""},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0},showUploaded:{type:[Boolean],default:!1}},components:{"add-to-playlist":qi,"delete-button":P["a"],"download-button":ss,shuffleButton:Ms,sortButton:Ds},watch:{rowsPerPage:function(t){this.pagination.rowsPerPage=t}},data:function(){return{chosenSong:[],dialog:!1,bShow:!1,bSelectAll:!1,bSelect:!1,selected:[],search:"",today:new Date,loading:!1,pagination:{rowsPerPage:this.rowsPerPage},items:this.songs,headers:[{text:"Title",value:"title",align:"left"},{text:"Artist",value:"artist",align:"left"},{text:"Date",value:"uploaded",align:"left"},{text:"Source",value:"source",align:"left"},{text:"Duration",value:"duration",align:"left"}]}},computed:Es({},Object(d["c"])({show_pop:function(t){return t.player.show_pop},view_mode:function(t){return t.user.view_mode},index:function(t){return t.player.current_index}}),{},Object(d["b"])({current_trackID:"current_trackID",showVideo:"showVideo",hash:"hash",current_song:"current_song",isYT:"isYT"}),{aspect:function(){return"artist"!==this.$route.name&&"related"!==this.$route.name||"YouTube"===this.$route.params.source?16/9:1},filterLength:function(){return this.search.length&&this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems.length:this.songs.length},sorted:function(){if(-1!==this.$refs.dItera.pagination.rowsPerPage&&this.songs.length>this.$refs.dItera.pagination.rowsPerPage){var t=this.$refs.dItera.pagination.rowsPerPage;this.$refs.dItera.pagination.rowsPerPage=-1;var e=Object.assign([],this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems:this.songs);return this.$refs.dItera.pagination.rowsPerPage=t,e}return Object.assign([],this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems:this.songs)}}),methods:{cfilter:function(t,e,n){return e.length?this.songs.filter(function(t){return n([t["title"],t["description"],t["artist"],t["source"]],e.toString().toLowerCase())}):this.songs},cardColor:function(t){return this.bSelect?this.selected.some(function(e){return e===t.item})?"primary":"":this.isPlaying(t.item.trackID)?"primary white--text":""},checkItem:function(t){for(var e=!1,n=this.selected.length-1;n>=0;n--)this.selected[n]===t&&(this.selected.splice(n,1),e=!0);e||this.selected.push(t)},isPlaying:function(t){return t===this.current_trackID},remove:function(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},removeList:function(){for(var t in this.selected)this.remove(this.selected[t].key);this.selected=[]},play:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=1===this.pagination.page?t:this.pagination.rowsPerPage*(this.pagination.page-1)+t;return-1===this.$store.state.player.current_index&&this.$UTILS.isMobile?this.$DCPlayer.eAudio.play():this.showVideo||"YouTube"!=this.sorted[s].source||"number"!==typeof this.$store.getters.ytState.data||this.$nextTick(function(){e.$store.commit("show_pop",!0);var t=function t(){return setTimeout(function(){e.$store.getters.ytIsPlaying?e.$store.commit("show_pop",!1):t()},150)};t()}),i?this.$router.push({name:"auto",params:{artist:this.sorted[s].artist,trackID:this.sorted[s].trackID,source:this.sorted[s].source}}):n&&this.sorted[t].trackID==this.$store.getters.current_song.trackID?this.$DCPlayer.togglePlay():(this.$DCPlayer.setNPlay({songs:this.sorted,current:s,path:this.$route.path}),this.$DCFB.historyPush(this.sorted[s]),void((i||this.showVideo)&&this.$router.push({name:"auto",params:{artist:this.sorted[s].artist,trackID:this.sorted[s].trackID,source:this.sorted[s].source}})))}}},Rs=Fs,Qs=(n("e343"),n("ac7c")),Ys=Object(v["a"])(Rs,bs,ws,!1,null,null,null),Ns=Ys.exports;b()(Ys,{VBtn:w["a"],VCard:A["a"],VCardTitle:Kt["a"],VCheckbox:Qs["a"],VContainer:He["a"],VDataIterator:oe["a"],VFlex:V["a"],VIcon:_["a"],VImg:L["a"],VLayout:o["a"],VTextField:le["a"],VTooltip:Kn["a"]});var Hs,qs=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"elevation-0"},[e.full?i("v-card-title",{staticClass:"ma-0 pa-0"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-xs-left mt-2",attrs:{shrink:""}},[i("v-tooltip",{attrs:{top:""}},[e.$store.state.user.auth_state?i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){e.bSelect=!e.bSelect,e.bSelect?e.headers.unshift({class:"ma-0",width:"10px",text:"",value:"",align:"left",sortable:!1}):e.headers.shift()}},slot:"activator"},[i("v-icon",{attrs:{color:e.bSelect?"primary":""}},[e._v("check_box")])],1):e._e(),i("span",[e._v("Select multiple songs")])],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){return e.$emit("toggleView")}},slot:"activator"},[i("v-icon",[e._v(e._s(e.view_mode?"view_module":"view_list"))])],1),i("span",[e._v("Change view")])],1),i("shuffle-button",{attrs:{songs:e.songs},on:{shuffleOn:function(t){return e.$emit("shuffleOn",t)},shuffleOff:function(t){return e.$emit("shuffleOff")}}}),i("sortButton",{attrs:{songs:e.songs},on:{sorted:function(t){e.items=t}}})],1),i("v-flex",{attrs:{xs4:"",lg8:""}},[i("v-text-field",{ref:"search",attrs:{id:"flr-txt","append-icon-cb":function(){t.search="",e.$refs.search.focus()},"append-icon":this.search.length?"close":"",color:"primary",placeholder:"Filter",onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Filter'","single-line":"","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$UTILS.closeSoftMobi()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e.bSelect?i("v-flex",{staticClass:"text-xs-left",attrs:{xs8:"",lg12:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(t){e.bSelectAll=!e.bSelectAll,e.bSelectAll?e.selected=e.sorted:e.selected=[]}},slot:"activator"},[i("v-icon",{attrs:{color:e.selected.length===e.filterLength?"primary":""}},[e._v("done_all")])],1),i("span",[e._v("Select all")])],1),i("download-button",{attrs:{dis:0==e.selected.length,links:e.selected}}),e.$route.params.playlist?i("delete-button",{attrs:{disabled:0==e.selected.length},on:{delete:e.removeList}}):e._e(),i("add-to-playlist",{key:"multi",attrs:{disabled:0==e.selected.length,song:e.selected}}),i("v-flex",{attrs:{"d-inline-flex":""}},[e._v(e._s(e.selected.length)+" of "+e._s(e.filterLength))])],1):e._e()],1)],1):e._e(),i("v-data-table",{ref:"dtable",staticClass:"dtable",attrs:{headers:e.headers,"hide-actions":!e.full,items:e.songs,"item-key":e.itemKey,pagination:e.pagination,"custom-filter":e.cfilter,"rows-per-page-items":[25,50,100,{text:"All",value:-1}],search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[i("tr",{key:t.index,staticClass:"mb-3 pointer wordbreak'",class:e.isPlaying(t.item.trackID)?"primary white--text text-xs-left pa-0 ma-0":"text-xs-left pa-0 ma-0",attrs:{id:e.bSelect?"noSel":""},on:{click:function(n){n.stopPropagation(),t.item.trackID?t.item.listID?e.$router.push({name:"channelPlaylist",params:{listID:t.item.listID,artistID:t.item.artistID,title:t.item.title,source:t.item.source}}):e.bSelect?e.checkItem(t.item):e.play(t.index,!e.showVideo,e.isPlaying(t.item.trackID)):e.$router.push({name:"artist",params:{source:t.item.source,artist:t.item.title,artistID:t.item.artistID}})},contextmenu:function(n){t.item.trackID&&e.$emit("conmen",[n,e.bSelect?e.selected:[t.item]])}}},[e.bSelect?i("td",[i("v-checkbox",{attrs:{value:t.item,"hide-details":"",color:"primary"},on:{click:function(t){t.stopPropagation()}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),e.bMini?e._e():i("td",{staticClass:"pa-2"},[t.item.trackID?i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"==t.item.source?16/9:1,src:t.item.posterLarge,"align-end":"","justify-end":"","fill-height":""}},[t.item.trackID&&e.isPlaying(t.item.trackID)&&e.$vuetify.breakpoint.mdAndUp?i("div",{staticClass:"d-flex text-xs-center v-card--reveal",staticStyle:{height:"100%"}},[i("div",{staticClass:"playBtn"},[i("v-btn",{attrs:{loading:e.$store.getters.isLoading&&e.isPlaying(t.item.trackID),dark:"",icon:"",large:"",color:"primary"},on:{click:function(n){return n.stopPropagation(),e.play(t.index)}}},[i("v-icon",[e._v(e._s(e.$store.getters.isPlaying&&e.isPlaying(t.item.trackID)?"pause":"play_arrow"))])],1)],1)]):e._e()]):e._e()],1),i("td",{staticClass:"text-xs-left pl-3 py-1",attrs:{colspan:e.$route.params.artistID?"2":"3"}},[i("div",{staticClass:"body-1 wordbreak",domProps:{textContent:e._s(t.item.title)}}),i("div",{staticClass:"ma-0 pa-0",class:e.isPlaying(t.item.trackID)?"white-text":"grey--text"},[e.$route.params.artistID||e.bSelect||e.$UTILS.isMobile?e.bSelect||!e.$UTILS.isMobile?i("span",{class:e.isPlaying(t.item.trackID)?"white-text":"grey--text"},[e._v(e._s(t.item.artist)+" • ")]):e._e():i("a",{staticClass:"noDeco",class:e.isPlaying(t.item.trackID)?"white-text":"grey--text",attrs:{href:e.shareArtistURL(t.item)},on:{click:function(t){t.stopPropagation()}}},[e._v(e._s(t.item.artist)+" • ")]),i("span",[e._v(e._s(e.date(t.item.uploaded))+" • "+e._s(t.item.duration))])])]),!e.bSelect&&t.item.trackID?i("td",{on:{click:function(n){return n.stopPropagation(),e.$emit("conmen",[n,e.bSelect?e.selected:[t.item]])}}},[i("v-icon",[e._v("more_vert")])],1):e._e()])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[i("template",{slot:"no-data"},e._l(36,function(t){return i("tr",{key:t},[e.bMini?e._e():i("td",{staticClass:"pa-2"},[i("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":e.aspect,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}},[i("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":"","grey--text":""},slot:"placeholder"})],1)],1),i("td",{staticClass:"text-xs-left pl-3 py-1"},[i("div",{staticClass:"fillPlace",staticStyle:{height:"21px",width:"200px"}}),i("div",{staticClass:"fillPlace mt-1",staticStyle:{height:"16px",width:"160px"}})]),e.$route.params.artistID?e._e():i("td",{staticClass:"fillPlace1 dumTd "}),i("td",{staticClass:"fillPlace1"}),i("td",{staticClass:"fillPlace1"}),i("td"),e.bMini?i("td",{staticClass:"fillPlace1 dumTd"},[i("v-btn",{attrs:{icon:"",small:""}},[i("v-icon",[e._v("more_vert")])],1)],1):e._e()])}),0)],2)],1)],1)},Ks=[],zs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inList?n("v-list-tile",{attrs:{disabled:t.disabled,id:t.trackID,ripple:""},on:{click:function(e){return e.stopPropagation(),t.toggleOffline(e)}}},[n("v-list-tile-title",[t._v("Save offline")])],1):n("v-btn",{attrs:{disabled:t.disabled,loading:t.loading,icon:""},on:{click:function(e){return e.stopPropagation(),t.toggleOffline(e)}}},[n("v-icon",{attrs:{color:t.btnColor}},[t._v(t._s(t.btnIcon))])],1)},Ws=[];function Gs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xs(t){return Xs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(t)}var Js=(Hs={name:"offline-button",props:["link1","link2","trackID"]},Gs(Hs,"props",{link1:{type:String,default:""},link2:{type:String,default:""},trackID:[String,Number],inList:Boolean}),Gs(Hs,"watch",{trackID:{immediate:!0,handler:"checkOfflineStatus"}}),Gs(Hs,"data",function(){return{status:!1,loading:!1,disabled:!1}}),Gs(Hs,"methods",{downloadAudio:function(t){return new Promise(function(e,n){var i=document.createElement("audio");i.oncanplaythrough=function(){e()},i.oncanplay=function(){e()},i.onerror=function(){e()},i.style.display="none",i.id=i.name=t,i.src=t,i.preload="auto",document.body.appendChild(i)})},toggleOffline:function(){this.$emit("clicked"),this.loading||(this.loading=!0,this.status?this.offlineOff():this.offlineOn())},offlineOn:function(){var t=this;-1===this.link1.indexOf("soundcloud")?this.$DCPlayer.getAudio(this.link1,function(e){t.downloadAudio(e).then(function(){t.loading=!1,t.checkOfflineStatus()})}):this.downloadAudio(this.link2).then(function(){t.loading=!1,t.checkOfflineStatus()})},offlineOff:function(){var t=this;"caches"in window?window.caches.open("song-cache").then(function(e){t.$DCPlayer.getAudio(t.link1,function(n){e.delete(n),e.delete(t.c_link).then(function(){t.checkOfflineStatus()})})}):this.disabled=!0},checkOfflineStatus:function(){var t=this;"caches"in window?window.caches.open("song-cache").then(function(e){e.match(t.c_link).then(function(e){t.status="object"===Xs(e),t.loading=!1})}):this.disabled=!0}}),Gs(Hs,"computed",{btnColor:function(){return this.status?"green":""},btnIcon:function(){return this.status?"offline_pin":"offline_bolt"},isSc:function(){return this.link1.indexOf("soundcloud")>-1},c_link:function(){return this.isSc?this.link2:"https://www.saveoffline.com/process/?type=audio&url="+this.link1}}),Hs),Zs=Js,tr=Object(v["a"])(Zs,zs,Ws,!1,null,null,null),er=tr.exports;function nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nr(n,!0).forEach(function(e){sr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}b()(tr,{VBtn:w["a"],VIcon:_["a"],VListTile:M["a"],VListTileTitle:B["c"]});var rr={name:"List",props:{songs:{type:[Array],required:!0},bMini:{type:[Boolean],default:!1},sortBy:{type:[String],default:""},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0}},components:{"add-to-playlist":qi,"delete-button":P["a"],"download-button":ss,"share-button":Ji,shuffleButton:Ms,sortButton:Ds,offlineButton:er},watch:{rowsPerPage:function(t){this.pagination.rowsPerPage=t}},data:function(){return{items:this.songs,chosenSong:[],dialog:!1,bSelectAll:!1,itemKey:"mp32",bSelect:!1,selected:[],pagination:{sortBy:this.sortBy,rowsPerPage:this.rowsPerPage,descending:!0},search:"",today:new Date}},created:function(){this.itemKey=this.$route.params.playlist?"key":"trackID"},computed:ir({},Object(d["c"])({view_mode:function(t){return t.user.view_mode}}),{},Object(d["b"])({showVideo:"showVideo"}),{headers:function(){return this.$route.params.artistID?[{text:"Title",value:"title",align:"left",class:"ma-0",width:this.bMini?"95%":"15%"},{text:"Duration",value:"duration",align:"left",class:"ma-0",width:"0px"},{text:"Date",value:"uploaded",align:"left",class:"ma-0",width:"0px"},{text:"Description",value:"description",align:"left",class:"hidden",width:"0px"}]:[{text:"Title",value:"title",align:"left",class:"ma-0",width:this.bMini?"95%":"15%"},{text:"Artist",value:"artist",align:"left",class:"ma-0 pa-0"},{text:"Duration",value:"duration",align:"left"},{text:"Date",value:"uploaded",align:"left",class:"ma-0 pa-0"},{text:"Description",value:"description",align:"left",class:"hidden"}]},aspect:function(){return"artist"===this.$route.name&&"YouTube"!==this.$route.params.source?1:16/9},sorted:function(){if(-1!==this.$refs.dtable.pagination.rowsPerPage&&this.songs.length>this.$refs.dtable.pagination.rowsPerPage){var t=this.$refs.dtable.pagination.rowsPerPage;this.$refs.dtable.pagination.rowsPerPage=-1;var e=Object.assign([],this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems:this.songs);return this.$refs.dtable.pagination.rowsPerPage=t,e}return Object.assign([],this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems:this.songs)},artistID:function(){return"/#/a/"+this.song.source+"/"+this.song.artist+"/"+this.song.artistID},filterLength:function(){return this.search.length&&this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems.length:this.songs.length}}),methods:{cfilter:function(t,e,n){return e.length?this.items.filter(function(t){return n([t["title"],t["description"],t["artist"],t["source"]],e.toString().toLowerCase())}):this.songs},checkItem:function(t){for(var e=!1,n=this.selected.length-1;n>=0;n--)this.selected[n]===t&&(this.selected.splice(n,1),e=!0);e||this.selected.push(t)},addSong:function(t){return this.bSelect&&this.selected.length?this.selected:t},remove:function(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},removeList:function(){for(var t in this.selected)this.remove(this.selected[t].key);this.selected=[]},shareArtistURL:function(t){return"#/a/"+t.source+"/"+encodeURIComponent(t.artist)+"/"+t.artistID},isPlaying:function(t){if(-1!==this.$store.state.player.current_index)return this.$store.getters.current_trackID===t},date:function(t){return this.$DCAPI.calcDate(this.today,t)},play:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=1===this.pagination.page?t:this.pagination.rowsPerPage*(this.pagination.page-1)+t;return-1===this.$store.state.player.current_index&&this.$UTILS.isMobile?this.$DCPlayer.eAudio.play():this.showVideo||"YouTube"!=this.sorted[s].source||"number"!==typeof this.$store.getters.ytState.data||this.$nextTick(function(){e.$store.commit("show_pop",!0);var t=function t(){return setTimeout(function(){e.$store.getters.ytIsPlaying?e.$store.commit("show_pop",!1):t()},150)};t()}),i?this.$router.push({name:"auto",params:{artist:this.sorted[s].artist,trackID:this.sorted[s].trackID,source:this.sorted[s].source}}):n&&this.sorted[t].trackID==this.$store.getters.current_song.trackID?this.$DCPlayer.togglePlay():(this.$DCPlayer.setNPlay({songs:this.sorted,current:s,path:this.$route.path}),this.$DCFB.historyPush(this.sorted[s]),void((i||this.showVideo)&&this.$router.push({name:"auto",params:{artist:this.sorted[s].artist,trackID:this.sorted[s].trackID,source:this.sorted[s].source}})))}}},or=rr,ar=(n("545c"),n("8fea")),lr=Object(v["a"])(or,qs,Ks,!1,null,null,null),cr=lr.exports;function ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ur(n,!0).forEach(function(e){pr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ur(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}b()(lr,{VBtn:w["a"],VCard:A["a"],VCardTitle:Kt["a"],VCheckbox:Qs["a"],VDataTable:ar["a"],VFlex:V["a"],VIcon:_["a"],VImg:L["a"],VLayout:o["a"],VTextField:le["a"],VTooltip:Kn["a"]});var hr={name:"Playlist",props:{songs:{type:[Array],required:!0},infinite:{type:[Boolean],default:!1},gridView:{type:[Boolean],default:!1},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0},sortBy:{type:[String],default:""},showUploaded:{type:[Boolean],default:!1}},components:{grid:Ns,list:cr,"infinite-loading":Rt.a},data:function(){return{showScrollToTop:!1,aSongs:this.songs,chunk:60,rpp:48}},watch:{songs:{handler:"shuffleOff"}},computed:dr({},Object(d["c"])({view_mode:function(t){return t.user.view_mode}})),methods:{infiniteHandler:function(t){var e=Math.min(this.aSongs.length,this.rpp+this.chunk);this.rpp=e,e===this.aSongs.length?t.reset():t.loaded(),this.infState=t},shuffleOff:function(){this.aSongs=this.songs},shuffle:function(t){this.aSongs=t},sort:function(){this.aSongs.sort(this.$DCAPI.sortDate)},toggleView:function(){this.$store.commit("view_mode_toggle")}}},fr=hr,mr=(n("8b42"),Object(v["a"])(fr,vs,ys,!1,null,null,null)),gr=mr.exports;b()(mr,{VLayout:o["a"]});var vr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"position-x":t.x,"position-y":t.y,absolute:"","offset-y":""},model:{value:t.b,callback:function(e){t.b=e},expression:"b"}},[n("v-list",[n("add-to-playlist",{attrs:{song:t.a,"in-list":""},on:{clicked:function(e){t.b=!1}}}),n("add-to-queue",{attrs:{song:t.a,"in-list":""},on:{clicked:function(e){t.b=!1}}}),n("v-divider"),t.showArtist?n("go-to-artist",{attrs:{song:t.a}}):t._e(),n("related",{attrs:{song:t.a[0]},on:{clicked:function(e){t.b=!1}}}),n("v-divider"),n("new-tab",{attrs:{song:t.a[0],"in-list":""},on:{clicked:function(e){t.b=!1}}}),n("share-button",{attrs:{song:t.a[0],"in-list":""},on:{clicked:function(e){t.b=!1}}}),n("download-button",{attrs:{links:t.a,"in-list":""},on:{clicked:function(e){t.b=!1}}}),n("offlineButton",{attrs:{link1:t.a.mp32,link2:t.a.mp3,"track-id":t.a.trackID,"in-list":""},on:{clicked:function(e){t.b=!1}}}),t.a.length&&t.a[0].key?n("v-divider"):t._e(),t.a.length&&t.a[0].key?n("delete-button",{attrs:{"in-list":!0,id:t.a[0].key},on:{delete:function(e){return t.deleteList(t.a)}}}):t._e()],1)],1)},yr=[],br=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inList?n("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.add(e)}}},[n("v-list-tile-title",[t._v("Add to queue")])],1):n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){return e.stopPropagation(),t.add(e)}},slot:"activator"},[n("v-icon",[t._v("\n      add_to_queue\n    ")])],1),n("span",[t._v(t._s(t.t))])],1)},wr=[];function _r(t){return Cr(t)||xr(t)||kr()}function kr(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xr(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Cr(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var Sr={name:"AddToQueue",props:{song:{type:[Object,Array],default:function(){return{}}},inList:{type:Boolean,default:function(){return!1}}},data:function(){return{c:"",t:"Add to queue"}},methods:{add:function(){this.$emit("clicked");var t=Array.isArray(this.song)?this.song:[this.song],e=[].concat(_r(this.$store.state.player.current_playlist),_r(t));this.c="green",this.$store.dispatch("snack",{b:!0,c:"primary",s:"Added to queue"}),-1===this.$store.state.player.current_index?this.$DCPlayer.setNPlay({songs:t,current:0,path:this.$route.path}):(this.$store.commit("current_playlist",e),this.$DCPlayer.setPlaylist(e))}}},Pr=Sr,Dr=Object(v["a"])(Pr,br,wr,!1,null,null,null),$r=Dr.exports;b()(Dr,{VBtn:w["a"],VIcon:_["a"],VListTile:M["a"],VListTileTitle:B["c"],VTooltip:Kn["a"]});var Ir=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{to:{name:"artist",params:{source:t.song[0].source,artist:t.song[0].artist,artistID:t.song[0].artistID}},ripple:""}},[n("v-list-tile-title",{class:t.$store.getters.textColor},[t._v("Go to artist")])],1)},Or=[],Tr={name:"GoToArtist",props:{song:{type:[Array],default:function(){return[[{source:"",artist:"",artistID:""}]]}}}},Ar=Tr,Vr=Object(v["a"])(Ar,Ir,Or,!1,null,null,null),Lr=Vr.exports;b()(Vr,{VListTile:M["a"],VListTileTitle:B["c"]});var jr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasList?t._e():n("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.open(e)}}},[n("v-list-tile-title",[t._v("Go to related")])],1)},Mr=[],Br={name:"RelatedButton",props:{song:{type:[Object,Array],default:function(){return{trackID:null,artistID:null,artist:null}}}},computed:{hasList:function(){return this.song.hasOwnProperty("listID")}},methods:{open:function(){this.$emit("clicked"),this.$router.push({name:"related",params:{source:this.song.source,trackID:this.song.trackID,artistID:this.song.artistID,artist:this.song.artist,title:this.song.title}})}}},Er=Br,Ur=Object(v["a"])(Er,jr,Mr,!1,null,null,null),Fr=Ur.exports;b()(Ur,{VListTile:M["a"],VListTileTitle:B["c"]});var Rr={components:{related:Fr,newTab:Wn,"add-to-queue":$r,offlineButton:er,"add-to-playlist":qi,"delete-button":P["a"],"download-button":ss,"share-button":Ji,"go-to-artist":Lr},data:function(){return{b:!1,a:[],x:0,y:0}},computed:{showArtist:function(){return this.a.length&&"artist"!=this.$route.name&&this.$route.params.artistID!=this.a[0].artistID}},methods:{delete:function(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},deleteList:function(){for(var t in this.a)this.delete(this.a[t].key)},show:function(t,e){var n=this;t.preventDefault(),"click"==t.type&&(this.b=!1),this.x=t.clientX,this.y=t.clientY,setTimeout(function(){n.b=!0,n.a=e,n.$store.getters.closeMenuOnScroll&&document.addEventListener("scroll",n.scroll)})},scroll:function(){this.b=!1,document.removeEventListener("scroll",this.scroll)}}},Qr=Rr,Yr=Object(v["a"])(Qr,vr,yr,!1,null,null,null),Nr=Yr.exports;b()(Yr,{VDivider:X["a"],VList:j["a"],VMenu:Z["a"]});var Hr=n("caf9");i["a"].config.productionTip=!1,i["a"].use(r["a"],{components:{VLayout:o["a"]}}),n.e("chunk-76d4c477").then(n.t.bind(null,"5b23",7)),i["a"].use(hn),i["a"].use(kn),i["a"].use(Cn),i["a"].use(Mn),i["a"].use(En.a),i["a"].use(Fn.a),i["a"].component("video-stage",gs),i["a"].component("playlist",gr),i["a"].component("context-menu",Nr),i["a"].use(r["a"],{theme:{primary:"#009688"}}),window.popStateDetected=!1,window.addEventListener("popstate",function(){window.popStateDetected=!0}),i["a"].use(Hr["a"],{error:"dist/img/no-image.png",observer:!0,observerOptions:{rootMargin:"250px",threshold:.1}}),new i["a"]({router:pn,store:cn,render:function(t){return t(Ze)}}).$mount("#app")},"5a8b":function(t,e,n){},"60c5":function(t,e,n){},6730:function(t,e,n){"use strict";var i=n("60c5"),s=n.n(i);s.a},6943:function(t,e,n){"use strict";var i=n("45dc"),s=n.n(i);s.a},"6a69":function(t,e,n){"use strict";var i=n("a2ed"),s=n.n(i);s.a},"6c99":function(t,e,n){"use strict";var i=n("c71d"),s=n.n(i);s.a},"75eb":function(t,e,n){"use strict";var i=n("1c55"),s=n.n(i);s.a},"7b04":function(t,e,n){"use strict";var i=n("a47f"),s=n.n(i);s.a},8354:function(t,e,n){"use strict";var i=n("9feb"),s=n.n(i);s.a},"86a5":function(t,e,n){"use strict";var i=n("2acc"),s=n.n(i);s.a},8808:function(t,e,n){"use strict";var i=n("a3fe"),s=n.n(i);s.a},"883e":function(t,e,n){},"8a7b":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.inList?n("v-list-tile",{class:t.color,attrs:{ripple:""},on:{"!click":function(e){return t.emitDelete(e)},mouseleave:function(e){t.clicks=t.clickedTwice?2:0}}},[n("v-list-tile-title",[t._v(t._s(t.dlTxt))])],1):n("v-btn",t._b({staticClass:"del-btn",attrs:{color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.emitDelete(e)},mouseleave:function(e){t.clicks=t.clickedTwice?2:0}}},"v-btn",t.$props,!1),[n("v-icon",{attrs:{color:t.clickedOnce?"white":""}},[t._v(t._s(t.dlIcn))])],1)},s=[];function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={name:"DeleteButton",props:{id:{type:[String,Number],default:""},inList:{type:Boolean,default:!1}},data:function(){return{clicks:0}},computed:{dlIcn:function(){return this.clickedOnce?"delete":this.clickedTwice?"delete_forever":"delete"},dlTxt:function(){return this.clickedOnce?"Click again to delete":this.clickedTwice?"Deleted":"Delete"},color:function(){return this.clickedOnce?"red lighten-1":this.clickedTwice?"green lighten-1":this.colour},clickedOnce:function(){return 1===this.clicks},clickedTwice:function(){return 2===this.clicks}},methods:{emitDelete:function(){var t=this;this.clicks++,2===this.clicks&&(this.clicks=0,this.$DCFB.playlistGet(this.$route.params.user,this.$route.params.playlist).once("value").then(function(e){t.$emit("delete",t.id),t.$store.dispatch("snack",{b:!0,c:"red",s:"Deleted",u:[o({songs:e.val()},t.$route.params)]}),setTimeout(function(){t.clicks=0},5e3)}))}}},c=l,u=n("2877"),d=n("6544"),p=n.n(d),h=n("8336"),f=n("132d"),m=n("ba95"),g=n("5d23"),v=Object(u["a"])(c,i,s,!1,null,null,null);e["a"]=v.exports;p()(v,{VBtn:h["a"],VIcon:f["a"],VListTile:m["a"],VListTileTitle:g["c"]})},"8b42":function(t,e,n){"use strict";var i=n("9db6"),s=n.n(i);s.a},"9a03":function(t,e,n){},"9c1e":function(t,e,n){},"9d08":function(t,e,n){},"9db6":function(t,e,n){},"9feb":function(t,e,n){},a1b2:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",lg10:""}},[n("orbit",{attrs:{"justify-center":""}}),n("h1",{staticClass:"display-2 fwl"},[t._v(t._s(t.error))]),n("div",{staticClass:"subheading my-2 text-xs-center"},[t._v(t._s(t.title))]),n("v-divider",{staticClass:"my-3"}),n("div",{staticClass:"title mb-3 text-xs-center"},[t._v(t._s(t.subheading)),t._t("default")],2)],1)],1)},s=[],r=n("45b7"),o={name:"Jumbo",components:{orbit:r["a"]},props:{subheading:{type:String,default:""},title:{type:String,default:""},error:{type:String,default:"Oops"}}},a=o,l=n("2877"),c=n("6544"),u=n.n(c),d=n("ce7e"),p=n("0e8f"),h=n("a722"),f=Object(l["a"])(a,i,s,!1,null,null,null);e["a"]=f.exports;u()(f,{VDivider:d["a"],VFlex:p["a"],VLayout:h["a"]})},a2ed:function(t,e,n){},a3fe:function(t,e,n){},a47f:function(t,e,n){},a65f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{lg10:t.lg10,xs12:""}},[t.lg10?n("v-flex",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[t._v("\n    Related to "+t._s(t.title)+" by "+t._s(t.artist)+"\n  ")]):t._e(),n("playlist",{attrs:{songs:t.aSongs,infinite:"","show-uploaded":""},on:{conmen:function(e){return t.$emit("conmen",e)}}})],1)},s=[],r={name:"Related",props:{lg10:{type:Boolean,default:!0},trackID:{type:[String,Number],default:""},source:{type:String,default:""},artist:{type:String,default:""},title:{type:String,default:""}},watch:{trackID:{handler:"bind",immediate:!0}},data:function(){return{aSongs:[]}},methods:{bind:function(){var t=this;this.trackID&&(this.aSongs=[],this.$DCAPI.searchInt("",0,[this.source],this.trackID,function(e){t.aSongs=e},!0,50))}}},o=r,a=n("2877"),l=n("6544"),c=n.n(l),u=n("0e8f"),d=Object(a["a"])(o,i,s,!1,null,null,null);e["default"]=d.exports;c()(d,{VFlex:u["a"]})},b3af:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-autocomplete",{ref:"auto",attrs:{loading:t.loading,items:t.items,"search-input":t.search,"append-icon":"",color:"primary",clearable:"","hide-no-data":"","hide-details":"",flat:"",solo:"",onfocus:"this.placeholder = ''",onblur:"(this.placeholder = 'Search')",placeholder:"Search"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},blur:function(e){t.select=t.search,t.$refs.auto.$children[0].isContentActive=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[n("v-list-tile-content",{domProps:{textContent:t._s(e.item)},on:{click:function(n){return t.clicked(e.item)}}})]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})},s=[],r={data:function(){return{justClicked:!1,loading:!1,items:[],search:null,select:null}},watch:{search:function(t){t&&this.querySelections(t)}},methods:{clicked:function(t){this.$refs.auto.$children[0].isContentActive=!1,this.justClicked=!0,this.emit(t)},enter:function(){this.$refs.auto.$children[0].isContentActive=!1,this.emit(this.search)},emit:function(t){this.$emit("search",t)},querySelections:function(t){var e=this;this.justClicked?this.justClicked=!1:(0==this.$refs.auto.$children[0].isContentActive&&(this.$refs.auto.$children[0].isContentActive=!0),this.loading=!0,this.items=[t],this.$jsonp("https://suggestqueries.google.com/complete/search?callback=?&hl=en&ds=yt&jsonp=suggestCallBack&client=youtube&q=".concat(t),{callbackName:"suggestCallBack"}).then(function(t){e.items=e.items.concat(t[1].map(function(t){return t[0]})),e.loading=!1}).catch(function(){e.loading=!1}))}}},o=r,a=(n("0a26"),n("2877")),l=n("6544"),c=n.n(l),u=n("c6a6"),d=n("5d23"),p=Object(a["a"])(o,i,s,!1,null,null,null);e["a"]=p.exports;c()(p,{VAutocomplete:u["a"],VListTileContent:d["a"]})},b688:function(t,e,n){},ba11:function(t,e,n){"use strict";var i=n("f6a4"),s=n.n(i);s.a},c71d:function(t,e,n){},db74:function(t,e,n){"use strict";var i=n("9d08"),s=n.n(i);s.a},de8e:function(t,e,n){"use strict";var i=n("4bf0"),s=n.n(i);s.a},e343:function(t,e,n){"use strict";var i=n("b688"),s=n.n(i);s.a},ea26:function(t,e,n){"use strict";var i=n("883e"),s=n.n(i);s.a},f6a4:function(t,e,n){},f86f:function(t,e,n){"use strict";var i=n("4cfa"),s=n.n(i);s.a},f87e:function(t,e,n){}});