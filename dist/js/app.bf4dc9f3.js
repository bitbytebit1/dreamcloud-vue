(function(t){function e(e){for(var i,a,n=e[0],l=e[1],c=e[2],u=0,d=[];u<n.length;u++)a=n[u],r[a]&&d.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,a=1;a<s.length;a++){var n=s[a];0!==r[n]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},a={app:0},r={app:0},o=[];function n(t){return l.p+"js/"+({about:"about",artist:"artist",auto:"auto",channelPlaylist:"channelPlaylist",genre:"genre",home:"home",login:"login",password:"password",playlistOverview:"playlistOverview",playlistsAll:"playlistsAll",searchQuery:"searchQuery",searchpage:"searchpage",settings:"settings",signUp:"signUp",stage:"stage",subsAll:"subsAll",tos:"tos",trending:"trending",user:"user",userPlaylist:"userPlaylist",userSubOverview:"userSubOverview"}[t]||t)+"."+{about:"2132c17a",artist:"e7c0d9ba",auto:"b50023b1",channelPlaylist:"9a67a660","chunk-76d4c477":"e0f5dfff",genre:"e2e564ec",home:"bd17bb3f",login:"ae2ef447",password:"fda891a7",playlistOverview:"f3b3e997",playlistsAll:"ecd614ad",searchQuery:"d4403b3c",searchpage:"b0f99f75",settings:"6b3895ed",signUp:"536f1694",stage:"d915439e",subsAll:"a157f6a7",tos:"f22b6d4f",trending:"709268e2",user:"2d06e204",userPlaylist:"51968759",userSubOverview:"0fd7c375"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={about:1,artist:1,"chunk-76d4c477":1,genre:1,login:1,password:1,playlistOverview:1,playlistsAll:1,searchQuery:1,searchpage:1,settings:1,signUp:1,userSubOverview:1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=new Promise(function(e,s){for(var i="css/"+({about:"about",artist:"artist",auto:"auto",channelPlaylist:"channelPlaylist",genre:"genre",home:"home",login:"login",password:"password",playlistOverview:"playlistOverview",playlistsAll:"playlistsAll",searchQuery:"searchQuery",searchpage:"searchpage",settings:"settings",signUp:"signUp",stage:"stage",subsAll:"subsAll",tos:"tos",trending:"trending",user:"user",userPlaylist:"userPlaylist",userSubOverview:"userSubOverview"}[t]||t)+"."+{about:"a340837d",artist:"88d9c49e",auto:"31d6cfe0",channelPlaylist:"31d6cfe0","chunk-76d4c477":"031beb83",genre:"4b0f9126",home:"31d6cfe0",login:"2d07d7d7",password:"a5ce5c20",playlistOverview:"382e7198",playlistsAll:"cb1bf88d",searchQuery:"cb1bf88d",searchpage:"cb1bf88d",settings:"a6c228ab",signUp:"47e97b1a",stage:"31d6cfe0",subsAll:"31d6cfe0",tos:"31d6cfe0",trending:"31d6cfe0",user:"31d6cfe0",userPlaylist:"31d6cfe0",userSubOverview:"12dbe21b"}[t]+".css",r=l.p+i,o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var c=o[n],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===r))return e()}var d=document.getElementsByTagName("style");for(n=0;n<d.length;n++){c=d[n],u=c.getAttribute("data-href");if(u===i||u===r)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[t],h.parentNode.removeChild(h),s(o)},h.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(h)}).then(function(){a[t]=0}));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise(function(e,s){i=r[t]=[e,s]});e.push(i[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=n(t),c=function(e){u.onerror=u.onload=null,clearTimeout(d);var s=r[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,s[1](o)}r[t]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var h=u;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01d6":function(t,e,s){"use strict";var i=s("5450"),a=s.n(i);a.a},"034f":function(t,e,s){"use strict";var i=s("1356"),a=s.n(i);a.a},"08fc":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:"",lg10:""}},[t.bLoading||t.aHistRev.length?s("div",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[t._v("History")]):t._e(),t.bLoading||t.aHistRev.length?s("playlist",{attrs:{songs:t.aHistRev,"rows-per-page":"84"},on:{conmen:function(e){return t.$emit("conmen",e)}}}):t.bFailed&&"history"===t.$route.name?s("jumbo",{attrs:{subheading:t.$store.getters.isAnon?"We won't log your history unless you login":"Why not listen to some music?",title:"Here is supposed to be your history"}}):t._e()],1)},a=[],r=s("be94"),o=s("a1b2"),n=(s("8a7b"),s("2f62")),l={props:["user"],name:"history",components:{jumbo:o["a"]},data(){return{aHistory:[],bLoading:!1,bFailed:!1}},watch:{auth_state:{handler:"bind",immediate:!0}},methods:{bind(){this.auth_state&&(this.bFailed=!1,this.$bindAsArray("aHistory",this.$DCFB.fbhistory.limitToLast(100),null,()=>{this.bLoading=!1,this.bFailed=!this.aHistory.length}))}},computed:Object(r["a"])({},Object(n["c"])({auth_state:t=>t.user.auth_state}),{aHistRev(){return this.$UTILS.uniqueArray([...this.aHistory].reverse())}})},c=l,u=s("2877"),d=s("6544"),h=s.n(d),p=s("0e8f"),m=Object(u["a"])(c,i,a,!1,null,null,null);e["default"]=m.exports;h()(m,{VFlex:p["a"]})},"10dd":function(t,e,s){"use strict";var i=s("1f11"),a=s.n(i);a.a},1356:function(t,e,s){},"162d":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-btn",{staticClass:"ma-0 mb-1",attrs:{color:t.btnColor,round:"",small:"",outline:"","content-class":"ma-0"},on:{click:function(e){return e.preventDefault(),t.toggleSub(e)}}},[t._v(t._s(t.subbed?"Subscribed":"Subscribe"))])},a=[],r={name:"SubscribeButton",props:{artistID:{type:[String,Number],default:""},source:{type:String,default:""},artist:{type:String,default:""},img:{type:String,default:""}},watch:{artistID:{immediate:!0,handler:"bind"}},data(){return{subscribed:[]}},computed:{subbed(){return this.subscribed.length},btnColor(){return this.subbed?"":"primary white--text"}},methods:{toggleSub(){this.subscribed.length?this.unsubscribe():this.subscribe()},bind(){this.artistID&&this.$store.state.user.auth_state&&this.$bindAsArray("subscribed",this.$DCFB.subscriptions.child(this.artistID))},subscribe(){this.$DCFB.subscriptionAdd(this.artist,this.source,this.artistID,this.img)},unsubscribe(){this.$DCFB.subscriptionDelete(this.artistID)}}},o=r,n=s("2877"),l=s("6544"),c=s.n(l),u=s("8336"),d=Object(n["a"])(o,i,a,!1,null,null,null);e["a"]=d.exports;c()(d,{VBtn:u["a"]})},"1c55":function(t,e,s){},"1f11":function(t,e,s){},"2acc":function(t,e,s){},"2d50":function(t,e,s){"use strict";var i=s("9c1e"),a=s.n(i);a.a},3260:function(t,e,s){"use strict";var i=s("9a03"),a=s.n(i);a.a},"33d6":function(t,e,s){"use strict";var i=s("3453"),a=s.n(i);a.a},3453:function(t,e,s){},"3b08":function(t,e,s){},"45b7":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"loading-flex",attrs:{"justify-center":t.justifyCenter,xs12:""}},[s("div",{staticClass:"orbit-spinner",style:t.spinnerStyle},[s("div",{staticClass:"orbit one",style:t.orbitStyle}),s("div",{staticClass:"orbit two",style:t.orbitStyle}),s("div",{staticClass:"orbit three",style:t.orbitStyle})])])},a=[],r={name:"OrbitSpinner",props:{justifyCenter:{type:Boolean,default:!1},animationDuration:{type:Number,default:1e3},size:{type:Number,default:50},color:{type:String,default:"#fff"}},computed:{spinnerStyle(){return{height:`${this.size}px`,width:`${this.size}px`}},orbitStyle(){return{borderColor:this.$vuetify.theme.primary}}}},o=r,n=(s("6943"),s("2877")),l=s("6544"),c=s.n(l),u=s("0e8f"),d=Object(n["a"])(o,i,a,!1,null,"b9b0686e",null);e["a"]=d.exports;c()(d,{VFlex:u["a"]})},"45dc":function(t,e,s){},"4bf0":function(t,e,s){},5047:function(t,e,s){"use strict";var i=s("f87e"),a=s.n(i);a.a},5450:function(t,e,s){},"545c":function(t,e,s){"use strict";var i=s("3b08"),a=s.n(i);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),a=s("9483");Object(a["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached(){console.log("Content has been cached for offline use.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var r=s("bb71"),o=s("a722"),n=(s("da64"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",t._b({class:t.blackClass},"v-app",t.theme,!1),[s("context-menu",{key:t.uid,ref:"con"}),s("snackbar"),s("v-snackbar",{attrs:{timeout:0,top:"","auto-height":""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    A newer version of dreamcloud has been downloaded\n    "),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(){return t.swReg.waiting.postMessage("skipWaiting")}}},[t._v("\n      use now\n    ")]),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      dismiss\n    ")])],1),s("v-navigation-drawer",{attrs:{id:"sideleft",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",persistent:"",ripple:"",width:"240"},model:{value:t.drawLeft,callback:function(e){t.drawLeft=e},expression:"drawLeft"}},[s("sidebar",{on:{closeLeft:t.closeLeft}})],1),s("v-toolbar",{attrs:{id:"navbar",app:"",dense:"",fixed:"","clipped-left":"","clipped-right":""}},[s("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.leftTog(e)}}}),s("v-toolbar-title",{staticClass:"hidden-sm-and-down fwl title",staticStyle:{width:"121px"}},[s("router-link",{class:t.textClass,attrs:{to:{name:"about",params:{user:t.uid}}}},[t._v("\n        dreamcloud\n      ")])],1),s("search"),s("v-spacer"),s("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.rightTog(e)}}},[s("v-icon",[t._v("playlist_play")])],1)],1),s("v-navigation-drawer",{attrs:{id:"right-draw",app:"",clipped:"","disable-route-watcher":"","disable-resize-watcher":"",persistent:"",right:"",width:"260"},model:{value:t.drawRight,callback:function(e){t.drawRight=e},expression:"drawRight"}},[s("current-playlist",{on:{conmen:t.con}})],1),s("v-content",{staticClass:"text-xs-center",style:t.bShowStage?"":"position:absolute"},[s("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs12:""}},[s("stage",{on:{conmen:t.con}})],1)],1)],1)],1),s("v-content",{staticClass:"text-xs-center"},[s("v-container",{staticClass:"pa-0 ma-0",attrs:{id:"main-cont",fluid:"","fill-height":""}},[s("v-layout",{attrs:{"justify-center":""}},[s("keep-alive",{attrs:{max:4}},[s("router-view",{on:{conmen:t.con}})],1)],1)],1)],1),s("popup",{on:{conmen:t.con}}),s("v-footer",{style:t.footStyle,attrs:{id:"foot",app:"",fixed:""}},[t.bMobi?s("mobileFooter"):t._e(),s("dc-youtube",{directives:[{name:"show",rawName:"v-show",value:t.ytUseVideo&&t.isYT,expression:"(ytUseVideo && isYT)"}]}),s("dc-audio",{directives:[{name:"show",rawName:"v-show",value:!t.ytUseVideo||!t.isYT,expression:"(!ytUseVideo || !isYT)"}]})],1),s("hks")],1)}),l=[],c=s("be94"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-btn",t._b({staticClass:"scrollToTop primary",class:t.$store.getters.textColor,attrs:{outline:"",fab:"",small:"",icon:""},on:{click:function(e){return t.$store.commit("show_pop",!t.show_pop)}}},"v-btn",t.$store.getters.theme,!1),[s("v-icon",{attrs:{medium:""}},[t._v(t._s(t.show_pop?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)},d=[],h=s("2f62"),p={name:"ScrollToTop",computed:Object(c["a"])({},Object(h["c"])({show_pop:t=>t.player.show_pop}))},m=p,g=(s("ea26"),s("2877")),v=s("6544"),f=s.n(v),y=s("8336"),b=s("132d"),_=Object(g["a"])(m,u,d,!1,null,null,null),w=_.exports;f()(_,{VBtn:y["a"],VIcon:b["a"]});var k=function(){var t=this,e=this,s=e.$createElement,i=e._self._c||s;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_pop&&e.$vuetify.breakpoint.smAndUp,expression:"show_pop && $vuetify.breakpoint.smAndUp"}],staticClass:"pop",class:e.size,attrs:{xs12:""}},[i("v-card",{staticClass:"pop-card"},[i("div",{on:{contextmenu:function(t){return e.$emit("conmen",[t,[e.current_song]])},click:function(){return t.$store.commit("show_pop",!1),e.$router.push({name:"auto",params:{artist:t.current_song.artist,trackID:t.current_song.trackID,source:t.current_song.source}})}}},[i("v-img",{attrs:{src:e.current_song.posterLarge,"aspect-ratio":e.aspect,height:"196px"}},[i("div",{staticClass:"d-flex text-xs-center pointer",staticStyle:{height:"100%"}},[i("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[i("v-flex",{attrs:{xs4:""},on:{click:function(t){return t.stopPropagation(),e.$DCPlayer.previous()}}},[i("v-btn",{staticClass:"full",attrs:{icon:"",dark:"","x-large":""}},[i("v-icon",{attrs:{large:""}},[e._v("skip_previous")])],1)],1),i("v-flex",{attrs:{xs4:""},on:{click:function(t){return t.stopPropagation(),e.$DCPlayer.togglePlay()}}},[i("v-btn",{staticClass:"full",attrs:{icon:"",dark:"","x-large":""}},[i("v-icon",{attrs:{large:""}},[e._v(e._s(e.$store.getters.isPlaying?"pause":"play_arrow"))])],1)],1),i("v-flex",{attrs:{xs4:""},on:{click:function(t){return t.stopPropagation(),e.$DCPlayer.next()}}},[i("v-btn",{staticClass:"full",attrs:{icon:"",dark:"","x-large":""}},[i("v-icon",{attrs:{large:""}},[e._v("skip_next")])],1)],1),i("v-btn",{staticClass:"full white--text",staticStyle:{top:"5px",right:"5px"},attrs:{absolute:"",top:"",icon:"",right:""},on:{click:function(t){return t.stopPropagation(),e.$store.commit("show_pop",!1)}}},[i("v-icon",[e._v("close")])],1)],1)],1)]),i("v-layout",{staticClass:"pointer",attrs:{row:"",wrap:""},on:{click:function(t){return e.$router.push({name:"auto",params:{artist:this.current_song.artist,trackID:this.current_song.trackID,source:this.current_song.source}})}}},[i("v-flex",{attrs:{xs10:"","pa-3":""}},[i("div",{staticClass:"subheading pop-title",attrs:{title:e.current_song.title}},[e._v(e._s(e.current_song.title))]),i("div",{staticClass:"body-1 grey--text text--lighten-1"},[e._v(e._s(e.current_song.artist))])]),i("v-flex",{attrs:{xs2:"","pa-3":""},on:{click:function(t){return t.stopPropagation(),e.toggleList(t)}}},[i("v-btn",{attrs:{"mt-3":"",icon:"",right:"","x-large":""}},[i("v-icon",[e._v(e._s(e.show_pop_list?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1)],1)],1),i("v-list",{staticClass:"scroll-y pop-list"},e._l(e.current_playlist,function(t,s){return i("v-list-tile",{key:t.trackID+s,attrs:{id:"pop-"+t.trackID,avatar:"",hover:""},on:{click:function(t){return e.play(s)},contextmenu:function(t){return e.$emit("conmen",[t,[e.current_playlist[s]]])}}},[i("v-list-tile-content",[i("v-list-tile-title",{staticClass:"body-1 fwl"},[i("div",{attrs:{title:t.title}},[e._v(e._s(t.title))])]),i("v-list-tile-sub-title",[e._v(e._s(t.artist+" â€¢ "+t.duration))])],1)],1)}),1)],1)],1)},x=[],$=s("8a7b"),C={name:"PopupPlayer",components:{"delete-button":$["a"]},data(){return{x:"a"}},watch:{index:{handler:"scroll"}},methods:{toggleList(){this.$store.commit("show_pop_list",!this.show_pop_list),this.scroll()},play(t){this.$DCPlayer.setNPlay(this.current_playlist,t),this.$store.commit("setNPlay",{songs:this.current_playlist,current:t,path:this.$route.path}),this.$DCFB.historyPush(this.current_playlist[t])},toggle(){this.bShowStage?this.$router.go(-1):this.$router.push({name:"auto",params:{artist:this.current_song.artist,trackID:this.current_song.trackID,source:this.current_song.source}}),this.$store.commit("show_pop",this.bShowStage)},scroll(){this.$nextTick(()=>{this.next_song&&this.show_pop&&(this.index+1>this.current_playlist.length?document.getElementById("pop-"+this.current_song.trackID).scrollIntoView({behavior:"smooth"}):document.getElementById("pop-"+this.next_song.trackID).scrollIntoView({behavior:"smooth"}))})}},computed:Object(c["a"])({},Object(h["c"])({bShowStage:t=>t.user.bShowStage,current_playlist:t=>t.player.current_playlist,show_pop_list:t=>t.player.show_pop_list,show_pop:t=>t.player.show_pop,index:t=>t.player.current_index}),Object(h["b"])(["next_song","current_song","isPlaying"]),{size(){return this.show_pop_list?"pop-lg":"pop-sm"},aspect(){return 16/9}})},S=C,I=(s("ba11"),s("b0af")),D=s("0e8f"),P=s("adda"),T=s("8860"),A=s("ba95"),V=s("5d23"),L=Object(g["a"])(S,k,x,!1,null,null,null),O=L.exports;f()(L,{VBtn:y["a"],VCard:I["a"],VFlex:D["a"],VIcon:b["a"],VImg:P["a"],VLayout:o["a"],VList:T["a"],VListTile:A["a"],VListTileContent:V["a"],VListTileSubTitle:V["b"],VListTileTitle:V["c"]});var M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"hks"}})},j=[],B={name:"hks",created(){window.onkeydown=(t=>{t=t||window.event,"INPUT"!==document.activeElement.tagName&&("67"!=t.keyCode||t.ctrlKey?"70"!=t.keyCode||t.ctrlKey?"87"==t.keyCode?(this.bWide=!(this.$store.state.user.drawLeft||this.$store.state.user.drawRight),this.$store.commit("drawRight",this.bWide),this.$store.commit("drawLeft",this.bWide),t.preventDefault()):"77"==t.keyCode?(this.$DCPlayer.toggleMute(),t.preventDefault()):"32"==t.keyCode?(this.$DCPlayer.togglePlay(),t.preventDefault()):"37"!=t.keyCode||t.shiftKey?"38"==t.keyCode?(this.$DCPlayer.volUp(),t.preventDefault()):"39"!=t.keyCode||t.shiftKey?"40"==t.keyCode&&(this.$DCPlayer.volDown(),t.preventDefault()):(t.altKey?(this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)):this.$DCPlayer.seekForward(),t.preventDefault()):(t.altKey?(this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)):this.$DCPlayer.seekBackward(),t.preventDefault()):this.$UTILS.toggleFullscreen(this.$store.getters.ytUseVideo&&this.$store.getters.isYT?"player":"pstr"):this.$store.commit("toggleStage"))})}},U=B,F=(s("86a5"),Object(g["a"])(U,M,j,!1,null,null,null)),E=F.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-toolbar-items",{staticClass:"ml-3"},[s("autocomplete",{on:{search:function(e){return t.search(e)}}}),s("v-menu",{attrs:{"close-on-content-click":!1,"open-on-hover":t.$vuetify.breakpoint.mdAndUp,"nudge-bottom":25,"z-index":"10"},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[s("v-toolbar-title",{attrs:{slot:"activator"},slot:"activator"},[s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("\n          search\n        ")])],1)],1),s("v-card",[s("v-list",[s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.artist,callback:function(e){t.artist=e},expression:"artist"}})],1),s("v-list-tile-title",[t._v("Artist")])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.All,callback:function(e){t.$set(t.aSources,"All",e)},expression:"aSources.All"}})],1),s("v-list-tile-title",[t._v("All")])],1),s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.Bandcamp,callback:function(e){t.$set(t.aSources,"Bandcamp",e)},expression:"aSources.Bandcamp"}})],1),s("v-list-tile-title",[t._v("Bandcamp")])],1),s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.MixCloud,callback:function(e){t.$set(t.aSources,"MixCloud",e)},expression:"aSources.MixCloud"}})],1),s("v-list-tile-title",[t._v("Mixcloud")])],1),s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.SoundCloud,callback:function(e){t.$set(t.aSources,"SoundCloud",e)},expression:"aSources.SoundCloud"}})],1),s("v-list-tile-title",[t._v("SoundCloud")])],1),s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.YouTube,callback:function(e){t.$set(t.aSources,"YouTube",e)},expression:"aSources.YouTube"}})],1),s("v-list-tile-title",[t._v("YouTube")])],1),s("v-list-tile",[s("v-list-tile-action",[s("v-switch",{attrs:{color:"primary"},model:{value:t.aSources.Vimeo,callback:function(e){t.$set(t.aSources,"Vimeo",e)},expression:"aSources.Vimeo"}})],1),s("v-list-tile-title",[t._v("Vimeo")])],1),t.$vuetify.breakpoint.smAndDown?s("v-list-tile",{on:{click:function(e){t.showMenu=!1}}},[s("v-btn",{attrs:{flat:"",block:"",color:"primary"},on:{click:function(e){t.showMenu=!1}}},[t._v("Close")])],1):t._e()],1)],1)],1)],1)},Q=[],Y=(s("386d"),s("ac6a"),s("b3af")),N={name:"Search",components:{autocomplete:Y["a"]},watch:{"aSources.All":"_All","aSources.Bandcamp":"_other","aSources.MixCloud":"_other","aSources.SoundCloud":"_other","aSources.YouTube":"_other","aSources.Vimeo":"_other",artist:"__search"},data(){return{aSources:{All:!0,Bandcamp:!1,MixCloud:!1,SoundCloud:!1,YouTube:!1,Vimeo:!1},sQuery:"",artist:!1,showMenu:!1}},computed:{maSource(){if(this.aSources.All)return"all";var t=[];return Object.keys(this.aSources).forEach(e=>{this.aSources[e]&&t.push(e)}),t.join("-")}},methods:{_All(t){t&&(this.aSources.Bandcamp=this.aSources.MixCloud=this.aSources.SoundCloud=this.aSources.YouTube=this.aSources.Vimeo=!1),this.search()},_other(t){t&&(this.aSources.All=!1),this.search()},__search(){this.artist?this.$router.push({name:"searchArtist",params:{query:this.sQuery,source:this.maSource}}):this.$router.push({name:"searchQuery",params:{query:this.sQuery,source:this.maSource}})},search(t){t&&(this.sQuery=t),this.$UTILS.closeSoftMobi(),this.__search()}}},H=N,q=(s("33d6"),s("ce7e")),K=s("40fe"),z=s("e449"),W=s("b73d"),G=s("2a7f"),J=Object(g["a"])(H,R,Q,!1,null,"0ec224b8",null),X=J.exports;f()(J,{VBtn:y["a"],VCard:I["a"],VDivider:q["a"],VIcon:b["a"],VList:T["a"],VListTile:A["a"],VListTileAction:K["a"],VListTileTitle:V["c"],VMenu:z["a"],VSwitch:W["a"],VToolbarItems:G["a"],VToolbarTitle:G["b"]});var Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-snackbar",{staticClass:"pb-5",attrs:{value:t.$store.getters.snackb,color:t.$store.getters.snackc,bottom:!t.$vuetify.breakpoint.smAndDown,top:t.$vuetify.breakpoint.smAndDown}},[t._v("\n  "+t._s(t.$store.getters.snacks)+"\n  "),t.$store.getters.snackul?s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){return t.$store.dispatch("snacku")}}},[t._v("\n    Undo\n  ")]):s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){return t.$store.commit("snackb",!1)}}},[s("v-icon",[t._v("close")])],1)],1)},tt=[],et={computed:{snackb:{get(){return this.$store.getters.snackb},set(t){return this.$store.commit("snackb",t)}}}},st=et,it=s("2db4"),at=Object(g["a"])(st,Z,tt,!1,null,null,null),rt=at.exports;f()(at,{VBtn:y["a"],VIcon:b["a"],VSnackbar:it["a"]});var ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"touch",rawName:"v-touch",value:{left:t.next,right:t.previous},expression:"{\n    left: next,\n    right: previous\n  }"}],attrs:{id:"dc-audio-container"}},[s("div",{staticClass:"fl-l",style:t.$vuetify.breakpoint.xsOnly?{width:"100%"}:{},attrs:{id:"left"},on:{click:function(e){return t.$store.commit("toggleStage")}}},[s("div",{style:{width:"100%"}},[s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("v-flex",{attrs:{xs2:"",sm12:""},on:{click:function(t){t.stopPropagation()}}},[t.$vuetify.breakpoint.smAndUp?s("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.previous}},[s("v-icon",[t._v("skip_previous")])],1):t._e(),s("v-btn",{class:t.$vuetify.breakpoint.smAndUp?"primary":"",attrs:{loading:t.bLoading,outline:t.$vuetify.breakpoint.smAndUp,icon:""},on:{click:t.$DCPlayer.togglePlay}},[s("v-icon",[t._v(t._s(t.play_arrow))])],1),t.$vuetify.breakpoint.smAndUp?s("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.next}},[s("v-icon",[t._v("skip_next")])],1):t._e()],1),s("v-flex",{attrs:{xs10:"","pr-2":""}},[t.$vuetify.breakpoint.xsOnly?s("div",{staticClass:"mr-4",attrs:{id:"mobTitle"}},[t.artistAndTitleLength?s("marquee",[s("span",[t._v(t._s(t.$store.getters.current_song.title))]),s("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]):[s("span",[t._v(t._s(t.$store.getters.current_song.title))]),s("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]],2):t._e()])],1)],1)]),s("div",{staticClass:"hidden-xs-only",attrs:{id:"right"},on:{wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[s("v-speed-dial",{attrs:{hover:"",transition:"NONE","open-on-hover":""}},[s("v-btn",{class:t.volClass,attrs:{slot:"activator",fab:"",hover:"",icon:"",outline:"",small:""},on:{click:t.toggleMute},slot:"activator"},[s("v-icon",[t._v(t._s(t.volIcon))])],1),s("div",{staticClass:"slider-wrapper ma-0 pa-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"vol-slider pointer",attrs:{type:"range",min:"0",max:"10",step:"0.01"},domProps:{value:t.volume},on:{input:t.volumeChange,__r:function(e){t.volume=e.target.value}}})])],1)],1),t.$vuetify.breakpoint.smAndUp?s("div",{staticClass:"right"},[s("scroll-to-top")],1):t._e(),s("div",{attrs:{id:"middle"}},[s("div",{attrs:{id:"progress"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"ml-3 mr-3",attrs:{xs12:""}},[s("v-slider",{attrs:{max:t.eAudio.duration,label:t.currentTime,color:"primary","hide-details":""},on:{input:t.changePos},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1)],1)],1)]),s("audio",{attrs:{id:"dc-audio",controls:"",preload:"auto"}}),s("audio",{attrs:{id:"dc-preload",controls:"",preload:"auto"}})])},nt=[],lt={name:"DcAudio",components:{"scroll-to-top":w},data(){return{bPreLoaded:!1,bLoading:!1,progress:0,eAudio:"",ePreload:"",play_arrow:"play_arrow",volIcon:"volume_up",volume:10,duration:"",currentTime:""}},computed:{volClass(){return"volume_off"===this.volIcon?"red":"primary"},artistAndTitleLength(){return this.$store.state.player.current_index?String(this.$store.getters.current_song.title).length+String(this.$store.getters.current_song.artist).length>40:0}},methods:{onWheel(t){t.deltaX>t.deltaY?this.$DCPlayer.volUp():this.$DCPlayer.volDown()},toggleMute(){this.eAudio.muted=!this.eAudio.muted,this.volIcon=this.eAudio.muted?"volume_off":this.updateVolIcon()},volumeChange(){this.eAudio.volume=this.volume/10,this.updateVolIcon()},volumeChange2(){this.volume=10*this.eAudio.volume,this.updateVolIcon()},updateVolIcon(){return this.volIcon=this.eAudio.volume>.5?"volume_up":0===this.eAudio.volume||this.eAudio.muted?"volume_off":"volume_down"},changePos(t){!isNaN(t)&&this.eAudio.currentTime&&(this.eAudio.currentTime=t)},updated(){this.currentTime=`${this.secondsToDuration(this.eAudio.currentTime)} - ${this.secondsToDuration(this.eAudio.duration)}`,this.progress=Math.floor(this.eAudio.currentTime),!this.bPreLoaded&&100/this.eAudio.duration*this.eAudio.currentTime>3&&(this.bPreLoaded=!0,this.$store.getters.next_song&&"SoundCloud"!=this.$store.getters.next_song.source&&("YouTube"==this.$store.getters.next_song.source?this.ePreload.src=`${this.$DCPlayer.sBase}v2/preload/?i=${this.$store.getters.next_song.trackID}`:this.ePreload.src=`${this.$DCPlayer.sBase}v2/preload/?i=${this.$store.getters.next_song.mp32}`))},playing(){this.$store.commit("dcIsLoading",!1),this.$store.commit("dcIsPlaying",!0),this.duration=this.secondsToDuration(this.eAudio.duration.toFixed(0)),this.play_arrow="pause",this.bLoading=!1},paused(){this.$store.commit("dcIsPlaying",!1),this.play_arrow="play_arrow"},loading(){this.$store.commit("dcIsLoading",!0),this.bLoading=!0,this.bPreLoaded=!1},next(){this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)},previous(){this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)},secondsToDuration(t){if(isNaN(t))return"00:00";var e=Math.ceil(t),s=Math.floor(e/3600),i=Math.floor((e-3600*s)/60),a=e-3600*s-60*i;return s<10&&(s="0"+s),i<10&&(i="0"+i),a<10&&(a="0"+a),(s>0?s+":":"")+i+":"+a}},mounted(){this.eAudio=this.$DCPlayer.eAudio=document.getElementById("dc-audio"),this.ePreload=document.getElementById("dc-preload"),this.eAudio.addEventListener("timeupdate",this.updated),this.eAudio.addEventListener("playing",this.playing),this.eAudio.addEventListener("pause",this.paused),this.eAudio.addEventListener("loadstart",this.loading),this.eAudio.addEventListener("ended",this.next),this.eAudio.addEventListener("volumechange",this.volumeChange2)}},ct=lt,ut=(s("7b04"),s("ba0d")),dt=s("c73b"),ht=s("269a"),pt=s.n(ht),mt=s("c341"),gt=Object(g["a"])(ct,ot,nt,!1,null,null,null),vt=gt.exports;f()(gt,{VBtn:y["a"],VFlex:D["a"],VIcon:b["a"],VLayout:o["a"],VSlider:ut["a"],VSpeedDial:dt["a"]}),pt()(gt,{Touch:mt["a"]});var ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"touch",rawName:"v-touch",value:{left:t.next,right:t.previous},expression:"{\n    left: next,\n    right: previous\n  }"}],staticClass:"yt",attrs:{id:"dc-audio-container"}},[s("div",{attrs:{id:"dc-player"}},[s("div",{staticClass:"fl-l",style:t.$vuetify.breakpoint.xsOnly?{width:"100%"}:{},attrs:{id:"left"},on:{click:function(e){return t.$store.commit("toggleStage")}}},[s("div",{style:{width:"100%"}},[s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("v-flex",{attrs:{xs2:"",sm12:""}},[t.$vuetify.breakpoint.smAndUp?s("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.previous}},[s("v-icon",[t._v("skip_previous")])],1):t._e(),s("v-btn",{class:t.$vuetify.breakpoint.smAndUp?"primary":"",attrs:{loading:t.bLoading,outline:t.$vuetify.breakpoint.smAndUp,icon:""},on:{click:t.$DCPlayer.togglePlay}},[s("v-icon",[t._v(t._s(t.sPlayIcon))])],1),t.$vuetify.breakpoint.smAndUp?s("v-btn",{staticClass:"primary",attrs:{icon:"",outline:""},on:{click:t.next}},[s("v-icon",[t._v("skip_next")])],1):t._e()],1),s("v-flex",{attrs:{xs10:"","pr-2":""}},[t.$vuetify.breakpoint.xsOnly?s("div",{staticClass:"mr-4",attrs:{id:"mobTitle"}},[t.artistAndTitleLength?s("marquee",[s("span",[t._v(t._s(t.$store.getters.current_song.title))]),s("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]):[s("span",[t._v(t._s(t.$store.getters.current_song.title))]),s("span",{staticClass:"grey--text"},[t._v(" - "+t._s(t.$store.getters.current_song.artist))])]],2):t._e()])],1)],1)]),s("div",{staticClass:"hidden-xs-only",attrs:{id:"right"},on:{wheel:function(e){return e.preventDefault(),t.onWheel(e)}}},[s("v-speed-dial",{attrs:{hover:"",transition:"slide-x-reverse-transition","open-on-hover":""}},[s("v-btn",{class:t.volCol,attrs:{slot:"activator",fab:"",hover:"",icon:"",outline:"",small:""},on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}},slot:"activator"},[s("v-icon",[t._v(t._s(t.volIcn))])],1),s("div",{staticClass:"slider-wrapper",on:{click:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"vol-slider pointer",attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.volume},on:{input:t.volumeChange,__r:function(e){t.volume=e.target.value}}})])],1)],1),t.$vuetify.breakpoint.smAndUp?s("div",{staticClass:"right"},[s("scroll-to-top")],1):t._e(),s("div",{attrs:{id:"middle"}},[s("div",{attrs:{id:"progress"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"ml-3 mr-3",attrs:{xs12:""}},[s("v-slider",{attrs:{max:t.iDuration,label:t.iCurrent,color:"primary","hide-details":""},model:{value:t.iProgress,callback:function(e){t.iProgress=e},expression:"iProgress"}})],1)],1)],1)])])])},yt=[],bt={name:"dc-youtube",data(){return{progress:0,volume:100}},components:{"scroll-to-top":w},computed:{volIcn(){return this.volume>50?"volume_up":0===this.volume?"volume_off":"volume_down"},volCol(){return 0===this.volume?"red":"primary"},iProgress:{get(){return Math.floor(this.$store.getters.ytCurrentTime)},set(t){let e=Math.floor(this.iProgress);e!==t&&e+1!==t&&(this.$store.commit("ytCurrentTime",t),this.$store.getters.ytObject.seekTo(t))}},iDuration(){return Math.floor(this.$store.getters.ytDuration)},iCurrent(){return`${this.secondsToDuration(this.$store.getters.ytCurrentTime)} - ${this.secondsToDuration(this.$store.getters.ytDuration)}`},artistAndTitleLength(){return this.$store.state.player.current_index?String(this.$store.getters.current_song.title).length+String(this.$store.getters.current_song.artist).length>40:0},bLoading(){return 3===this.$store.getters.ytState},bPlaying(){return 1===this.$store.getters.ytState},sPlayIcon(){return this.bPlaying?"pause":"play_arrow"}},methods:{onWheel(t){t.deltaX>t.deltaY?this.volume=this.$DCPlayer.volUp():this.volume=this.$DCPlayer.volDown(),this.updateVolIcon()},toggleMute(){this.$store.getters.ytObject.isMuted()?(this.$store.getters.ytObject.unMute(),this.updateVolIcon()):(this.$store.getters.ytObject.mute(),this.volIcon="volume_off")},volumeChange(){this.$store.getters.ytObject.setVolume(this.volume),this.updateVolIcon(),this.$store.getters.ytObject.isMuted()&&this.$store.getters.ytObject.unMute()},updateVolIcon(){return this.volIcon=this.volume>50?"volume_up":0===this.volume?"volume_off":"volume_down"},togglePlay(){this.bPlaying?this.$store.getters.ytObject.pauseVideo():this.$store.getters.ytObject.playVideo()},next(){this.$DCPlayer.next(),this.$DCFB.historyPush(this.$store.getters.current_song)},previous(){this.$DCPlayer.previous(),this.$DCFB.historyPush(this.$store.getters.current_song)},secondsToDuration(t){if(isNaN(t))return"00:00";var e=Math.ceil(t),s=Math.floor(e/3600),i=Math.floor((e-3600*s)/60),a=e-3600*s-60*i;return s<10&&(s="0"+s),i<10&&(i="0"+i),a<10&&(a="0"+a),(s>0?s+":":"")+i+":"+a}}},_t=bt,wt=(s("8354"),Object(g["a"])(_t,ft,yt,!1,null,null,null)),kt=wt.exports;f()(wt,{VBtn:y["a"],VFlex:D["a"],VIcon:b["a"],VLayout:o["a"],VSlider:ut["a"],VSpeedDial:dt["a"]}),pt()(wt,{Touch:mt["a"]});var xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.state.user.drawRight?s("v-layout",{attrs:{row:"",wrap:""}},[s("transition-group",{attrs:{name:"slide-fade"}},t._l(t.aPlaylist,function(e,i){return s("current-playlist-item",{key:e.trackID+(i+t.$store.state.player.current_index),attrs:{song:e,index:i},nativeOn:{contextmenu:function(s){return t.$emit("conmen",[s,[e]])}}})}),1),s("v-flex",{attrs:{xs12:""}},[t.aPlaylist.length?t._e():s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("jumbo",{attrs:{discover:!1,error:"",subheading:"Nothing playing"}})],1)],1)],1)],1),t.aPlaylist.length?s("infinite-loading",{ref:"infiniteLoading2",staticClass:"flex xs12",attrs:{distance:600,spinner:"default"},on:{infinite:t.infiniteHandler}},[s("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n      End of the line kiddo\n    ")]),s("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n      End of the line kiddo\n    ")]),s("span",{attrs:{slot:"spinner"},slot:"spinner"},[s("v-flex",{staticClass:"text-xs-center"},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)]):t._e()],1):t._e()},$t=[],Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:""},on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[s("v-card",{staticClass:"pointer"},[s("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===t.song.source?16/9:1,src:t.song.poster}},[s("span",{staticClass:"card-duration",domProps:{textContent:t._s(t.song.duration)}})]),s("v-card-actions",{on:{click:function(t){t.stopPropagation()}}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[t._v("\n          "+t._s(t.song.title)+"\n        ")]),s("v-flex",{attrs:{xs12:""}},[s("router-link",{staticClass:"noDeco pointer artist",attrs:{to:{name:"artist",params:{source:t.song.source,artist:t.song.artist,artistID:t.song.artistID}}}},[t._v("\n            "+t._s(t.song.artist)+"\n          ")])],1)],1)],1)],1)],1)},St=[],It={props:{song:{type:Object,default(){return[]}},index:{type:Number,default:0}},name:"CurrentPlaylistItem",data(){return{show:!1,desc:this.song.description,youtubelink:`https://www.youtube.com/embed/${this.song.trackID}?autoplay=1&mute=1&controls=1&enablejsapi=1`,artistID:`#/a/${this.song.source}/${encodeURIComponent(this.song.artist)}/${this.song.artistID}`}},methods:{play(){if(0===this.index)return"auto"===this.$route.name?this.$DCPlayer.togglePlay():this.$router.push({name:"auto",params:{artist:this.song.artist,trackID:this.song.trackID,source:this.song.source}});this.$parent.$parent.play(this.index+this.$store.state.player.current_index)}}},Dt=It,Pt=(s("01d6"),s("99d9")),Tt=Object(g["a"])(Dt,Ct,St,!1,null,null,null),At=Tt.exports;f()(Tt,{VCard:I["a"],VCardActions:Pt["a"],VFlex:D["a"],VImg:P["a"],VLayout:o["a"]});var Vt=s("a1b2"),Lt=s("e166"),Ot=s.n(Lt),Mt={name:"CurrentPlaylist",data(){return{numberOfItems:4,infState:""}},watch:{hash(){this.numberOfItems=4,this.infState&&this.infState.reset()}},components:{"infinite-loading":Ot.a,jumbo:Vt["a"],"current-playlist-item":At},computed:Object(c["a"])({},Object(h["b"])({hash:"hash"}),{aPlaylist(){return this.$store.state.player.current_playlist.slice(this.$store.state.player.current_index,this.$store.state.player.current_index+this.numberOfItems)}}),methods:{infiniteHandler(t){this.numberOfItems+=4;var e=Math.min(this.$store.state.player.current_playlist.length,this.$store.state.player.current_index+this.numberOfItems);e===this.$store.state.player.current_playlist.length?t.complete():t.loaded(),this.infState=t},play(t){this.$store.commit("changeIndex",t),this.$DCPlayer.playIndex(t),this.$DCFB.historyPush(this.$store.getters.current_song)}}},jt=Mt,Bt=(s("8808"),s("12b2")),Ut=s("490a"),Ft=Object(g["a"])(jt,xt,$t,!1,null,null,null),Et=Ft.exports;f()(Ft,{VCard:I["a"],VCardTitle:Bt["a"],VFlex:D["a"],VLayout:o["a"],VProgressCircular:Ut["a"]});var Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-1"},[s("v-list",{staticClass:"pa-0",attrs:{dense:""}},[s("v-list-tile",{class:t.isPorA("home"),attrs:{to:{name:"home",params:{user:t.UID}},"active-class":t.isPorA("home")},on:{click:t.closeLeft}},[s("v-list-tile-action",[s("v-icon",[t._v("home")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Home")])],1)],1),s("v-list-tile",{class:t.isPorA("trending"),attrs:{to:{name:"trending"},"active-class":t.isPorA("trending")},on:{click:t.closeLeft}},[s("v-list-tile-action",[s("v-icon",[t._v("whatshot")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Trending")])],1)],1),s("v-list-tile",{attrs:{to:{name:"auto",params:{artist:this.$store.getters.current_song.artist,trackID:this.$store.getters.current_song.trackID,source:this.$store.getters.current_song.source}},"active-class":t.isPorA("auto")},on:{click:t.closeLeft}},[s("v-list-tile-action",[s("v-icon",[t._v("music_video")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Current")])],1)],1),s("v-list-tile",{class:t.isPorA("subsAll"),attrs:{to:{name:"subsAll",params:{user:t.UID}},"active-class":t.isPorA("subsAll")},on:{click:t.closeLeft}},[s("v-list-tile-action",[s("v-icon",[t._v("people")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Subscriptions")])],1)],1),s("v-list-tile",{staticClass:"history-link",class:t.isPorA("history"),attrs:{to:{name:"history",params:{user:t.UID}},"active-class":t.isPorA("history")},on:{click:t.closeLeft}},[s("v-list-tile-action",[s("v-icon",[t._v("history")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("History")])],1),s("span",{staticClass:"delete"},[s("delete-button",{on:{delete:t.clearHistory}})],1)],1),s("v-list-tile",{attrs:{to:{path:"/settings"},"active-class":"secondary white--text"},on:{click:t.closeLeft}},[s("v-list-tile-action",[s("v-icon",[t._v("settings")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Settings")])],1)],1)],1),s("v-list",{staticClass:"pa-0",attrs:{dense:""}},[s("user-playlists",{on:{closeLeft:t.closeLeft}})],1),s("v-list",{staticClass:"pa-0 pb-5",attrs:{dense:""}},[s("user-subscriptions",{on:{closeLeft:t.closeLeft}})],1)],1)},Qt=[],Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",[s("v-subheader",{staticClass:"pointer",on:{click:function(e){t.closeLeftOnMobile(),t.$router.push({name:"playlistOverview",params:{user:t.uid}})}}},[s("div",[t._v("Playlists")]),t.bUIShowMore?s("v-btn",{staticClass:"ar17",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:5}}},[s("v-icon",[t._v(t._s(t.bShowMore?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1),t.playlists.length?s("v-list-tile",{attrs:{to:{name:"playlistsAll",params:{user:t.uid}},"active-class":"secondary white--text"},on:{click:function(e){return e.stopPropagation(),t.closeLeftOnMobile(e)}}},[s("v-list-tile-action",[s("v-icon",[t._v("music_note")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("All")])],1)],1):t._e(),s("v-list-tile",{on:{click:function(e){return e.stopPropagation(),t.$refs.search.focus()}}},[s("v-list-tile-action",{on:{click:function(e){t.search.length>0&&(t.search="")}}},[s("v-icon",{attrs:{color:t.filterHasFocus?"primary":""}},[t._v(t._s(t.filterLeng>0?"clear":"filter_list"))])],1),s("v-list-tile-content",[s("v-text-field",{ref:"search",staticClass:"filter ma-0 pa-0",attrs:{color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.auth_state?s("v-data-iterator",{attrs:{items:t.playlists,search:t.search,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,"custom-filter":function(t,e,s){return e=e.toString().toLowerCase(),t.filter(function(t){return s(t["name_lower"],e)})},"hide-actions":"","no-data-text":"Add some playlists","no-results-text":"No matching playlists"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return s("v-list-tile",{key:e.item[".key"],class:t.isPlaying(t.uid,e.item[".key"],e.item["name"]),attrs:{id:"playlist","active-class":t.isPlaying(t.uid,e.item[".key"],e.item["name"])||"secondary white--text",to:{path:"/u/"+t.uid+"/"+e.item[".key"]+"/"+encodeURIComponent(e.item["name"])}},on:{click:t.closeLeftOnMobile}},[s("v-list-tile-action",[s("v-icon",{attrs:{color:t.isPlaying(t.uid,e.item[".key"],e.item["name"])?"white":""}},[t._v("music_note")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.item["name"]))])],1),s("span",{staticClass:"delete"},[s("delete-button",{attrs:{id:e.item[".key"]},on:{delete:t.playlistDelete}})],1)],1)}}],null,!1,4213982175)},[t.bUIShowMore?s("v-flex",{attrs:{slot:"footer"},slot:"footer"},[s("v-btn",{attrs:{small:"",block:"",color:"transparent"},on:{click:function(e){t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:5}}},[t._v("\n        "+t._s(t.bShowMore?"SHOW LESS":"SHOW MORE")+"\n      ")])],1):t._e()],1):t._e()],1)},Nt=[],Ht={name:"UserPlaylists",components:{"delete-button":$["a"]},watch:{auth_state:{immediate:!0,handler:"bind"}},data(){return{playlists:[],bShowMore:!1,filterHasFocus:!1,search:"",active:!1,rowsPerPageItems:[5,{text:"All",value:-1}],pagination:{rowsPerPage:5}}},computed:Object(c["a"])({},Object(h["c"])({auth_state:t=>t.user.auth_state}),Object(h["b"])(["uid"]),{bUIShowMore(){return this.auth_state&&this.playlists.length>5},filterLeng(){return this.search.length>0}}),methods:{bind(){this.auth_state&&this.$bindAsArray("playlists",this.$DCFB.playlistsRefs.orderByChild("name_lower"))},isPlaying(t,e,s){return this.$store.getters.hash==="/u/"+t+"/"+e+"/"+encodeURIComponent(s)?"primary white--text":""},closeLeftOnMobile(){this.$emit("closeLeft")},playlistDelete(t){this.$DCFB.playlistDelete(t)}}},qt=Ht,Kt=(s("10dd"),s("c377")),zt=s("e0c7"),Wt=s("2677"),Gt=Object(g["a"])(qt,Yt,Nt,!1,null,null,null),Jt=Gt.exports;f()(Gt,{VBtn:y["a"],VDataIterator:Kt["a"],VFlex:D["a"],VIcon:b["a"],VList:T["a"],VListTile:A["a"],VListTileAction:K["a"],VListTileContent:V["a"],VListTileTitle:V["c"],VSubheader:zt["a"],VTextField:Wt["a"]});var Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",[s("v-subheader",{staticClass:"pointer",on:{click:function(e){t.closeLeftOnMobile(),t.$router.push({name:"userSubOverview",params:{user:t.uid}})}}},[t._v("\n    Subscriptions\n    "),t.bUIShowMore?s("v-btn",{staticClass:"ar17",attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[s("v-icon",[t._v(t._s(t.bShowMore?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e()],1),s("v-list-tile",{on:{click:function(e){return e.stopPropagation(),t.$refs.search.focus()}}},[s("v-list-tile-action",{on:{click:function(e){t.search.length>0&&(t.search="")}}},[s("v-icon",{attrs:{color:t.filterHasFocus?"primary":""}},[t._v(t._s(t.filterLeng>0?"clear":"filter_list"))])],1),s("v-list-tile-content",[s("v-text-field",{ref:"search",staticClass:"filter ma-0 pa-0",attrs:{color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t.auth_state?s("v-data-iterator",{attrs:{items:t.subscriptions,search:t.search,"rows-per-page-items":t.rowsPerPageItems,"custom-filter":function(t,e,s){return e=e.toString().toLowerCase(),t.filter(function(t){return s([t["source"],t["name_lower"]],e)})},pagination:t.pagination,"hide-actions":"","no-data-text":"Subscribe to some people","no-results-text":"No matching subscriptions"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return s("v-list-tile",{key:e.item[".key"],class:t.isPlaying(e.item["source"],e.item["name"],e.item["id"]),attrs:{id:"subscription","active-class":t.isPlaying(e.item["source"],e.item["name"],e.item["id"])||"secondary white--text",to:{path:"/a/"+e.item["source"]+"/"+encodeURIComponent(e.item["name"])+"/"+e.item["id"]}},on:{click:t.closeLeftOnMobile}},[s("v-list-tile-action",{attrs:{color:"green"}},[s("v-avatar",{attrs:{slot:"activator",size:"35px"},slot:"activator"},[s("img",{class:["sub-"+e.item["source"]],attrs:{src:e.item["img"]}})])],1),s("v-list-tile-content",{class:t.isPlaying(e.item["source"],e.item["name"],e.item["id"])},[s("v-list-tile-title",[t._v(t._s(e.item["name"]))])],1),s("delete-button",{staticClass:"delete",attrs:{id:e.item["id"]},on:{delete:t.subscriptionDelete}})],1)}}],null,!1,1053789105)},[t.bUIShowMore?s("v-flex",{attrs:{slot:"footer"},slot:"footer"},[s("v-btn",{attrs:{small:"",block:"",color:"transparent"},on:{click:function(e){t.bShowMore=!t.bShowMore,t.pagination.rowsPerPage=t.bShowMore?-1:7}}},[t._v("\n        "+t._s(t.bShowMore?"SHOW LESS":"SHOW MORE")+"\n      ")])],1):t._e()],1):t._e()],1)},Zt=[],te={name:"UserPlaylists",components:{"delete-button":$["a"]},data(){return{bShowMore:!0,filterHasFocus:!1,search:"",active:!1,rowsPerPageItems:[7,{text:"All",value:-1}],pagination:{rowsPerPage:-1}}},watch:{auth_state:{immediate:!0,handler:"bind"}},computed:Object(c["a"])({},Object(h["c"])({auth_state:t=>t.user.auth_state}),Object(h["b"])({uid:"uid"}),{bUIShowMore(){return this.auth_state&&this.subscriptions.length>5},filterLeng(){return this.search.length>0}}),methods:{bind(){this.auth_state&&this.$bindAsArray("subscriptions",this.$DCFB.subscriptions.orderByChild("name_lower"))},isPlaying(t,e,s){return this.$store.getters.hash==="/a/"+t+"/"+encodeURIComponent(e)+"/"+s?"primary white--text":""},subscriptionDelete(t){this.$DCFB.subscriptionDelete(t)},closeLeftOnMobile(){this.$emit("closeLeft")}}},ee=te,se=(s("3260"),s("8212")),ie=Object(g["a"])(ee,Xt,Zt,!1,null,null,null),ae=ie.exports;f()(ie,{VAvatar:se["a"],VBtn:y["a"],VDataIterator:Kt["a"],VFlex:D["a"],VIcon:b["a"],VList:T["a"],VListTile:A["a"],VListTileAction:K["a"],VListTileContent:V["a"],VListTileTitle:V["c"],VSubheader:zt["a"],VTextField:Wt["a"]});var re={name:"Sidebar",components:{"user-playlists":Jt,"user-subscriptions":ae,"delete-button":$["a"]},data(){return{userDrawer:!1}},methods:{closeLeft(){this.$emit("closeLeft","left")},clearHistory(){this.$DCFB.historyClear()},isPorA(t){return this.$store.getters.hash.indexOf(t)>-1?"primary white--text":this.$route.name==t?"secondary white--text":""}},computed:{UID(){return this.$store.getters.uid||Math.random()},loginPath(){return"/"+this.loginText.toLowerCase()},loginText(){return this.loggedIn?"User":"Login"},loggedIn(){return this.$store.state.user.auth_state}},mounted(){}},oe=re,ne=(s("6a69"),Object(g["a"])(oe,Rt,Qt,!1,null,null,null)),le=ne.exports;f()(ne,{VIcon:b["a"],VList:T["a"],VListTile:A["a"],VListTileAction:K["a"],VListTileContent:V["a"],VListTileTitle:V["c"]});var ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return-1==t.$store.state.player.current_index?s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.user.bShowStage,expression:"$store.state.user.bShowStage"}],attrs:{xs12:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("jumbo",{attrs:{discover:!1,error:"Nothing playing",subheading:"Try searching for your favourite song or artist"}}),s("history")],1)],1):s("v-flex",{attrs:{xs12:""}},[s("video-stage",{on:{conmen:function(e){return t.$emit("conmen",e)}}})],1)},ue=[],de=s("08fc"),he={name:"Stage",components:{history:de["default"],jumbo:Vt["a"]}},pe=he,me=Object(g["a"])(pe,ce,ue,!1,null,null,null),ge=me.exports;f()(me,{VFlex:D["a"],VLayout:o["a"]});var ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"?"},[s("v-bottom-nav",{attrs:{value:!0,absolute:"",color:"transparent"}},[s("v-btn",{attrs:{to:{name:"home",params:{user:t.uid}},color:"primary",flat:""}},[s("span",[t._v("Home")]),s("v-icon",[t._v("home")])],1),s("v-btn",{attrs:{to:{name:"subsAll",params:{user:t.uid}},color:"primary",flat:""}},[s("span",[t._v("Latest")]),s("v-icon",[t._v("whatshot")])],1),s("v-btn",{attrs:{to:{name:"playlistOverview",params:{user:t.uid}},color:"primary",flat:""}},[s("span",[t._v("Playlists")]),s("v-icon",[t._v("library_music")])],1),s("v-btn",{attrs:{to:{name:"userSubOverview",params:{user:t.uid}},color:"primary",flat:""}},[s("span",[t._v("Following")]),s("v-icon",[t._v("people")])],1),s("v-btn",{attrs:{to:{name:"settings"},flat:"",color:"primary"}},[s("span",[t._v("Settings")]),s("v-icon",[t._v("settings")])],1)],1)],1)},fe=[],ye={name:"mobFoot",computed:{auto(){return this.$store.getters.current_trackID?{name:"auto",params:{artist:this.$store.getters.current_song.artist,trackID:this.$store.getters.current_song.trackID,source:this.$store.getters.current_song.source}}:{name:"stage"}},uid(){return this.$store.getters.uid||Math.random()},active:{get(){return this.$route.name},set(t){}}}},be=ye,_e=s("887a"),we=Object(g["a"])(be,ve,fe,!1,null,null,null),ke=we.exports;f()(we,{VBottomNav:_e["a"],VBtn:y["a"],VIcon:b["a"]});var xe={name:"App",data(){return{snackbar:!1,swReg:"",refreshing:!1}},components:{scroll:w,popup:O,hks:E,snackbar:rt,search:X,"dc-audio":vt,"dc-youtube":kt,sidebar:le,"current-playlist":Et,stage:ge,mobileFooter:ke},methods:{con(t){this.$refs.con.show(t[0],t[1])},leftTog(){this.$store.commit("drawLeftTog")},rightTog(){this.$store.commit("drawRightTog")},closeLeft(){this.$UTILS.isMobile&&(this.$store.commit("drawLeft",!1),this.drawLeft=!1)},listenForWaitingServiceWorker(t,e){function s(){t.installing.addEventListener("statechange",function(){"installed"===this.state&&e(t)})}if(t){if(t.waiting)return e(t);t.installing&&s(),t.addEventListener("updatefound",s)}}},computed:Object(c["a"])({},Object(h["c"])({bShowStage:t=>t.user.bShowStage}),Object(h["b"])({uid:"uid",blackClass:"blackClass",isYT:"isYT",ytUseVideo:"ytUseVideo",theme:"theme",ytFullScreen:"ytFullScreen"}),{footStyle(){return{height:(this.bMobi?"128px":"56px")+" !important"}},bMobi(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name},textClass(){return(this.$store.getters.nightMode?"white":"black")+"--text noDeco pointer hidden-sm-and-down"},currentActive(){return"stage"===this.$route.name},drawRight:{get(){return this.$store.state.user.drawRight},set(t){this.$store.commit("drawRight",t)}},drawLeft:{get(){return this.$store.state.user.drawLeft},set(t){this.$store.commit("drawLeft",t)}}}),created(){"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{this.refreshing||(this.refreshing=!0,window.location.reload())}),navigator.serviceWorker.getRegistration().then(t=>{this.swReg=t,this.listenForWaitingServiceWorker(this.swReg,()=>{this.snackbar=!0})})),this.$vuetify.theme.primary="#009688",this.$DCFB.fb.auth().onAuthStateChanged(t=>{this.$store.commit("authChange",!1),this.$nextTick(()=>{this.$store.commit("authChange",!!t),t?(this.$store.commit("setUser",t),this.$DCFB.init(t.uid),t.isAnonymous&&!this.$route.name?this.$router.push({name:"about"}):this.$route.name||this.$router.push({name:"about",user:t.uid}),this.$store.commit("isMobile",this.$vuetify.breakpoint.smAndDown),this.$DCFB.settings.once("value",t=>{null!==t.val()&&this.$store.commit("settings",t.val())})):this.$DCFB.fb.auth().signInAnonymously()})})}},$e=xe,Ce=(s("034f"),s("7496")),Se=s("a5238"),Ie=s("549c"),De=s("553a"),Pe=s("f774"),Te=s("9910"),Ae=s("71d9"),Ve=s("706c"),Le=Object(g["a"])($e,n,l,!1,null,null,null),Oe=Le.exports;f()(Le,{VApp:Ce["a"],VBtn:y["a"],VContainer:Se["a"],VContent:Ie["a"],VFlex:D["a"],VFooter:De["a"],VIcon:b["a"],VLayout:o["a"],VNavigationDrawer:Pe["a"],VSnackbar:it["a"],VSpacer:Te["a"],VToolbar:Ae["a"],VToolbarSideIcon:Ve["a"],VToolbarTitle:G["b"]});var Me={state:{user:"",drawLeft:!1,drawRight:!1,view_mode:0,auth_state:!1,bShowStage:!1,isMobile:!1},getters:{isMobile:t=>t.isMobile,getUser:t=>t.user,isAnon:t=>t.user.isAnonymous,uid:t=>t.user.uid},mutations:{isMobile(t,e){t.isMobile=e},drawLeft(t,e){t.drawLeft=e},drawRight(t,e){t.drawRight=e},drawRightTog(t){t.drawRight=!t.drawRight},drawLeftTog(t){t.drawLeft=!t.drawLeft},view_mode_toggle(t){t.view_mode<2?t.view_mode++:t.view_mode=0},bShowStage(t,e){t.bShowStage=e},setUser(t,e){t.user=e},authChange(t,e){t.auth_state=e},toggleStage(t){t.bShowStage=!t.bShowStage,t.bShowStage?qe.push({name:"stage"}):qe.go(-1)}}},je={state:{current_playlist:[],current_index:-1,current_Hash:"",show_pop:!1,show_pop_list:!1},mutations:{setNPlay(t,e){t.current_playlist=e.songs,t.current_index=e.current,t.current_Hash=e.path},current_playlist(t,e){t.current_playlist=e},changeIndex(t,e){t.current_index=e},show_pop(t,e){t.show_pop=e},show_pop_list(t,e){t.show_pop_list=e}},getters:{hash:t=>t.current_Hash,current_trackID:t=>{return t.current_index>-1?t.current_playlist[t.current_index].trackID:""},current_source:t=>{return t.current_index>-1?t.current_playlist[t.current_index].source:""},current_song:t=>{return t.current_index>-1?t.current_playlist[t.current_index]:""},next_song:t=>{return t.current_index<0?"":t.current_index+1<t.current_playlist.length?t.current_playlist[t.current_index+1]:t.current_playlist[0]}}},Be={state:{dcIsPlaying:!1,dcIsLoading:!1,ytUseVideo:!1,ytObject:[],ytDuration:0,ytCurrentTime:0,ytState:{data:-1,target:{getCurrentTime:()=>"",getDuration:()=>"",pauseVideo:()=>"",playVideo:()=>""}}},mutations:{dcIsLoading(t,e){t.dcIsLoading=e},dcIsPlaying(t,e){t.dcIsPlaying=e},ytUseVideo:(t,e)=>{t.ytUseVideo=e},ytObject:(t,e)=>{t.ytObject=e},ytState:(t,e)=>{t.ytState=e},ytDuration:(t,e)=>{t.ytDuration=e},ytCurrentTime:(t,e)=>{t.ytCurrentTime=e},ytStopVideo:t=>{1===t.ytState&&"function"===typeof t.ytObject.stopVideo&&t.ytObject.stopVideo()},ytToggleVideo:t=>{t.ytUseVideo=t.ytUseVideo=!t.ytUseVideo}},getters:{isLoading:(t,e)=>t.ytUseVideo&&e.isYT?e.ytIsLoading:t.dcIsLoading,isPlaying:(t,e)=>t.ytUseVideo&&e.isYT?e.ytIsPlaying:t.dcIsPlaying,dcIsLoading:t=>t.dcIsLoading,dcIsPlaying:t=>t.dcIsPlaying,ytUseVideo:t=>t.ytUseVideo,ytObject:t=>t.ytObject,ytState:t=>t.ytState,ytDuration:t=>t.ytDuration,ytCurrentTime:t=>t.ytCurrentTime,ytIsPlaying:t=>1===t.ytState,ytIsPaused:t=>2===t.ytState,ytIsLoading:t=>3===t.ytState,isYT:(t,e)=>"YouTube"===e.current_source}},Ue={state:{loadValue:0,loadIndeterm:!1,loadActive:!1},mutations:{loadActive(t,e){t.loadActive=e},loadValue(t,e){t.loadValue=e},loadIndeterm(t,e){t.loadIndeterm=e}},getters:{loadActive:t=>{return t.loadActive},loadValue:t=>{return t.loadValue},loadIndeterm:t=>{return t.loadIndeterm}},actions:{loadIndeterm(t,e){if(e){let s=()=>{t.commit("loadIndeterm",e),t.getters.loadActive||0!==t.getters.loadValue||t.commit("loadActive",!0);let s=setInterval(()=>{t.getters.loadValue<88&&t.getters.loadIndeterm?t.commit("loadValue",t.getters.loadValue+1):clearInterval(s)},12)};t.getters.loadIndeterm&&e?(t.commit("loadValue",0),setTimeout(()=>{s()},420)):s()}else t.getters.loadIndeterm||e?(t.commit("loadIndeterm",e),t.commit("loadValue",100),setTimeout(()=>{t.commit("loadActive",!1),setTimeout(()=>{t.getters.loadIndeterm||t.commit("loadValue",0)},250)},600)):t.commit("loadValue",0)}}},Fe={state:{settings:{"Night Mode":!0,"Show Popup":!0,"Show Video":!0,"Show Watch Button":!0,"Close Menu":!0,Black:!1,Video:!0}},getters:{showPopupSetting:t=>Boolean(t.settings["Show Popup"]),closeMenuOnScroll:t=>Boolean(t.settings["Close Menu"]),showWatchB:t=>Boolean(t.settings["Show Watch Button"]),ytVideo:t=>Boolean(t.settings["Video"]),black:t=>Boolean(t.settings["Black"]),blackClass:t=>t.settings["Black"]?"theme-jet-black":"",nightMode:t=>Boolean(t.settings["Night Mode"]),showVideo:t=>Boolean(t.settings["Show Video"]),textColor:t=>t.settings["Night Mode"]?"white--text":"black--text",theme:t=>t.settings["Night Mode"]?{dark:!0}:{light:!0}},mutations:{showPopupSetting(t,e){t.settings["Show Popup"]=Boolean(e)},closeMenuOnScroll(t,e){t.settings["Close Menu"]=Boolean(e)},showWatchB(t,e){t.settings["Show Watch Button"]=Boolean(e)},settings(t,e){t.settings=e},showVideo(t,e){t.settings["Show Video"]=Boolean(e)},ytVideo(t,e){t.settings["Video"]=Boolean(e)},changeSetting(t,e){t.settings[e.setting]=e.value}}},Ee={state:{bShuffled:!1,aShuffled:[]},mutations:{bShuffled(t,e){t.bShuffled=e},aShuffled(t,e){t.bShuffled=e}},getters:{bShuffled:t=>{return t.bShuffled},aShuffled:t=>{return t.aShuffled}}},Re={state:{snackb:!1,snackc:"primary",snacks:"",snackt:"",snacku:[]},mutations:{snack(t,e){t.snacks=e.s,t.snackc=e.c,t.snackb=e.b,e.hasOwnProperty("u")?t.snacku=e.u:t.snacku=[]},snackb(t,e){t.snackb=e},snackt(t,e){t.snackt=e}},getters:{snackb:t=>t.snackb,snackc:t=>t.snackc,snacks:t=>t.snacks,snacku:t=>t.snacku,snackul:t=>t.snacku.length},actions:{snack(t,e){let s=t.commit,i=t.state;s("snackb",!1),clearTimeout(i.snackt),setTimeout(()=>{s("snackt",setTimeout(()=>{s("snackb",!1)},3e3)),s("snack",e)},250)},snacku(t){let e=t.state;e.snacku.length&&i["a"].prototype.$DCFB.playlistsRefs.child(e.snacku[0].playlist).once("value",t=>{if(t.exists())i["a"].prototype.$DCFB.playlistGet(e.snacku[0].user,e.snacku[0].playlist).set(e.snacku[0].songs);else{let t=[];for(const s in e.snacku[0].songs)t.push(e.snacku[0].songs[s]);i["a"].prototype.$DCFB.createNewPlaylist(e.snacku[0].name,t,e.snacku[0].playlist)}})}}};i["a"].use(h["a"]);const Qe=new h["a"].Store({modules:{snackbar:Re,user:Me,shuffle:Ee,settings:Fe,player:je,loading:Ue,youtube:Be}});var Ye=Qe,Ne=s("8c4f");i["a"].use(Ne["a"]);let He=new Ne["a"]({scrollBehavior:(t,e,s)=>{return{x:0,y:0}},routes:[{path:"/password-reset",name:"password-reset",component:()=>s.e("password").then(s.bind(null,"694d"))},{path:"/r/:source/:artist/:title/:trackID",name:"related",component:()=>Promise.resolve().then(s.bind(null,"a65f"))},{path:"/login",name:"login",component:()=>s.e("login").then(s.bind(null,"28c5"))},{path:"/sign-up",name:"signUp",component:()=>s.e("signUp").then(s.bind(null,"5274"))},{path:"/u/:user/overview",name:"userOverview",component:()=>s.e("user").then(s.bind(null,"5c64")),props:!0},{path:"/explore",name:"explore",component:()=>s.e("genre").then(s.bind(null,"1f62"))},{path:"/",redirect:"/about"},{path:"/settings",name:"settings",component:()=>s.e("settings").then(s.bind(null,"a71d"))},{path:"/s/:source/:query",name:"searchQuery",component:()=>s.e("searchQuery").then(s.bind(null,"ab5d")),props:!0},{path:"/sa/:source/:query",name:"searchArtist",component:()=>s.e("searchpage").then(s.bind(null,"2d9e")),props:!0},{path:"/a/:source/:artist/:artistID/",name:"artist",component:()=>s.e("artist").then(s.bind(null,"fd68")),props:!0},{path:"/current",name:"stage",component:()=>s.e("stage").then(s.bind(null,"bcd0"))},{path:"/t/:source/:artist/:trackID",name:"auto",component:()=>s.e("auto").then(s.bind(null,"343b")),props:!0},{path:"/trending",name:"trending",component:()=>s.e("trending").then(s.bind(null,"e8f3"))},{path:"/u/:user/subscriptions",name:"userSubOverview",component:()=>s.e("userSubOverview").then(s.bind(null,"ff29")),props:!0},{path:"/u/:user/subscriptions-all",name:"subsAll",component:()=>s.e("subsAll").then(s.bind(null,"d33b")),props:!0},{path:"/u/:user/playlists-all",name:"playlistsAll",component:()=>s.e("playlistsAll").then(s.bind(null,"c434")),props:!0},{path:"/u/:user/:playlist/:name",name:"userPlaylist",component:()=>s.e("userPlaylist").then(s.bind(null,"7fa6")),props:!0},{path:"/p/:title/:source/:artistID/:listID/",name:"channelPlaylist",component:()=>s.e("channelPlaylist").then(s.bind(null,"b1c9")),props:!0},{path:"/tos",name:"tos",component:()=>s.e("tos").then(s.bind(null,"9e97")),props:!0},{path:"/about",name:"about",component:()=>s.e("about").then(s.bind(null,"5df1"))},{path:"/u/:user/history",name:"history",component:()=>Promise.resolve().then(s.bind(null,"08fc")),props:!0},{path:"/u/:user/playlist-overview",name:"playlistOverview",component:()=>s.e("playlistOverview").then(s.bind(null,"8d8d")),props:!0},{path:"/u/:user/home",name:"home",component:()=>Promise.all([s.e("genre"),s.e("home")]).then(s.bind(null,"73cf")),props:!0}]});He.beforeEach((t,e,s)=>{Ye.commit("bShuffled",!1),Ye.getters.isMobile&&(Ye.state.user.drawLeft||Ye.state.user.drawRight)&&window.popStateDetected?(window.popStateDetected=!1,Ye.commit("drawLeft",!1),Ye.commit("drawRight",!1),s(!1)):!Ye.state.bShowStage||"stage"===t.name&&"current"===t.name?s():(Ye.commit("bShowStage",!1),s())});var qe=He,Ke={install(t){var e={isMobile:window.matchMedia("only screen and (max-width: 599px)").matches,isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),isOnline:()=>window.navigator.onLine,setLoc:(t,e)=>window.localStorage&&window.localStorage.setItem(t,e),getLoc:t=>window.localStorage&&window.localStorage.getItem(t),copyToClipboard(t){let e=document.createElement("input");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),e.remove()},uniqueArray:function(t){let e=[],s=!1;for(let i=0;i<t.length-1;i++){s=!1;for(let a=0;a<e.length-1;a++)if("undefined"===typeof t[i]||e[a].trackID===t[i].trackID){s=!0;break}s||e.push(t[i])}return e},closeSoftMobi(){this.isMobile&&document.activeElement.blur()},downloadLink(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=document.createElement("iframe");s.style.display="none",s.id=s.name=t+e,s.src=t,document.body.appendChild(s)},share(t,s){return e.isMobile?(navigator.share?navigator.share({title:s.title,text:s.mp32,url:t}):e.downloadLink(`whatsapp://send?text=${encodeURIComponent(t)}`),0):(e.copyToClipboard(encodeURI(t)),1)},formatBytes(t,e){if(0===t)return"0 Bytes";let s=1024,i=e||2,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(t)/Math.log(s));return`${parseFloat((t/Math.pow(s,r)).toFixed(i))} ${a[r]}`},isFullscreen(){return!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement},toggleFullscreen(t){var s=()=>{var t=!1;document.querySelector("body").style.cursor="auto",t||setTimeout(()=>{t=!0,document.querySelector("body").style.cursor="none"},500)};if(e.isFullscreen()){let i=document.getElementById(t);i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);let a=()=>{e.isFullscreen()&&(document.querySelector("#app").removeEventListener("mousemove",s),document.querySelector("#app").style.cursor="auto")};document.querySelector("#app").style.cursor="none",document.querySelector("#app").addEventListener("mousemove",s),document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("mozfullscreenchange",a),document.addEventListener("MSFullscreenChange",a)}else document.querySelector("#app").removeEventListener("mousemove",s),document.querySelector("#app").style.cursor="auto",document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};Object.defineProperty(t.prototype,"$UTILS",{value:e})}},ze=(s("4917"),s("f386"),s("b54a"),s("a481"),s("bc3a")),We=s.n(ze),Ge={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};class Je{constructor(){this.bcBase="https://dc-nodejs-backend-ftjhiqutmh.now.sh/",this.sYtKey="***REMOVED***",this.sYtKey="***REMOVED***",this.sScKey="***REMOVED***",this.sVimeoKey="***REMOVED***",this.YTnextPageTokenString=0,this.YTCommentNext=0,this.nextPageToken=0,this.SCnextPageToken=0,this.aQuery=[]}searchInt(t,e,s,i,a,r){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50,n=arguments.length>7&&void 0!==arguments[7]&&arguments[7];e||(this.SCnextPageToken="",this.nextPageToken="",this.YTnextPageTokenString="");var l=this.genUID();for(var c in this.aQuery[l]={aAjax:[],aResult:[],sToken:0,hCallback:a,iLimit:o,sQuery:t,sArtist:i,bRelated:r,bArtist:n,iPage:e},s="all"===s[0].toLowerCase()?["youtube","mixcloud","soundcloud","vimeo"]:s,s)this.aQuery[l].aAjax.push(this.search(s[c],l));return We.a.all(this.aQuery[l].aAjax).then(()=>{this.aQuery[l].hCallback(this.aQuery[l].aResult),delete this.aQuery[l]})}search(t,e){switch(t.toLowerCase()){case"bandcamp":return this.bc(e);case"mixcloud":return this.mc(e);case"soundcloud":return this.sc(e);case"youtube":return this.yt(e);case"vimeo":return this.vim(e);default:break}}bc(t){if(this.aQuery[t].bRelated)return Promise.resolve();if(this.aQuery[t].iPage&&this.aQuery[t].sArtist)return;let e=this.aQuery[t].sArtist?this.bcBase+`api/v2/getartist/${encodeURIComponent(atob(this.aQuery[t].sArtist))}/`:this.bcBase+`api/v2/albumswithtag/${this.aQuery[t].sQuery}/${this.aQuery[t].iPage+1}`;return We.a.get(e).then(e=>{for(var s in e=e.data,e)this.pushResult(t,e[s].artist,btoa(e[s].artistID),e[s].created,"",this.secondstominutes(e[s].duration),"https://dream.tribe.nu/r3/off/?q="+e[s].mp32,e[s].mp32,e[s].poster,e[s].poster,"Bandcamp",e[s].title,e[s].mp32)})}mc(t){return this.aQuery[t].bRelated?Promise.resolve():(e=""!==this.aQuery[t].sArtist?"https://api.mixcloud.com/"+this.aQuery[t].sArtist+"/cloudcasts/?limit="+this.aQuery[t].iLimit+"&offset="+this.aQuery[t].iLimit*(this.aQuery[t].iPage>0?this.aQuery[t].iPage:0):this.aQuery[t].bArtist?"https://api.mixcloud.com/search/?type=user&limit="+this.aQuery[t].iLimit+"&q="+this.aQuery[t].sQuery+"&offset="+this.aQuery[t].iLimit*this.aQuery[t].iPage:"https://api.mixcloud.com/search/?type=cloudcast&limit="+this.aQuery[t].iLimit+"&q="+this.aQuery[t].sQuery+"&offset="+this.aQuery[t].iLimit*this.aQuery[t].iPage,We.a.get(e).then(e=>{for(var s in e=e.data.data,e)this.aQuery[t].bArtist?this.pushResult(t,e[s].name,e[s].username,null,"","MixCloud channel","","",e[s].pictures.large,e[s].pictures.extra_large,"MixCloud",e[s].name,""):this.pushResult(t,e[s].user.name,e[s].user.username,this.parseDate(e[s].created_time),"",this.secondstominutes(e[s].audio_length),"https://dream.tribe.nu/r3/off/?q="+e[s].url,e[s].url,e[s].pictures.large,e[s].pictures.extra_large,"MixCloud",e[s].name,encodeURIComponent(e[s].key))}).catch(t=>{console.log(t)}));var e}sc(t){var e;if(e=this.aQuery[t].bRelated?"https://api.soundcloud.com/tracks/"+this.aQuery[t].sArtist+"/related?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:this.aQuery[t].bArtist?"https://api.soundcloud.com/users.json?q="+this.aQuery[t].sQuery+"&linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:this.aQuery[t].sArtist?"https://api.soundcloud.com/users/"+this.aQuery[t].sArtist+"/tracks.json?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&client_id="+this.sScKey:"https://api.soundcloud.com/tracks.json?linked_partitioning=1&limit="+this.aQuery[t].iLimit+"&q="+encodeURIComponent(this.aQuery[t].sQuery)+"&client_id="+this.sScKey,this.SCnextPageToken)e=this.SCnextPageToken;else if(!this.SCnextPageToken&&this.aQuery[t].iPage>0)return Promise.resolve();return new Promise(s=>{We.a.get(e).then(e=>{var i,a;for(var r in e.data.next_href?(this.SCnextPageToken=e.data.next_href,this.SCnextPageToken=e.data.next_href):this.SCnextPageToken=0,e=e.data.collection,e)this.aQuery[t].bArtist?this.pushResult(t,e[r].username,e[r].id,this.parseDate(e[r].last_modified),e[r].description,"SoundCloud channel",e[r].stream_url+"?client_id="+this.sScKey,e[r].permalink_url,e[r].avatar_url.replace("i1","i2").replace("-large","-t300x300"),e[r].avatar_url.replace("-large","-t500x500"),"SoundCloud",e[r].username):(!e[r].artwork_url&&e[r].user.avatar_url?(i=e[r].user.avatar_url.replace("i1","i2").replace("-large","-t300x300"),a=e[r].user.avatar_url.replace("-large","-t500x500")):e[r].user.avatar_url||e[r].user.avatar_url?(i=e[r].artwork_url.replace("i1","i2").replace("-large","-t300x300"),a=e[r].artwork_url.replace("-large","-t500x500")):i=a="./img/icons/no-image.png",this.pushResult(t,e[r].user.username,e[r].user_id,this.parseDate(e[r].created_at),e[r].description,this.secondstominutes(Math.floor(e[r].duration/1e3)),e[r].stream_url+"?client_id="+this.sScKey,e[r].permalink_url,i,a,"SoundCloud",e[r].title,e[r].id));this.aQuery[t].aResult.length<this.aQuery[t].iLimit&&this.SCnextPageToken?this.sc(t).then(()=>{this.aQuery[t].aResult=this.uniqueArray(this.aQuery[t].aResult),s()}).catch(()=>{s()}):(this.aQuery[t].aResult=this.uniqueArray(this.aQuery[t].aResult),s())}).catch(t=>{console.log(t),s()})})}yt(t){var e;if(this.YTnextPageTokenString=this.nextPageToken?"&pageToken="+this.nextPageToken:"",this.YTnextPageTokenString||!(this.aQuery[t].iPage>1))return this.aQuery[t].bRelated?e=`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${this.aQuery[t].iLimit}&relatedToVideoId=${this.aQuery[t].sArtist}&type=video&key=${this.sYtKey}`:this.aQuery[t].bArtist?e=`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${this.aQuery[t].iLimit}&type=channel&q=${this.aQuery[t].sQuery}&key=${this.sYtKey}${this.YTnextPageTokenString}`:this.aQuery[t].sArtist.length?this.aQuery[t].sArtist.length&&(e=`https://www.googleapis.com/youtube/v3/search?part=snippet&order=date&maxResults=${this.aQuery[t].iLimit}&type=video&channelId=${this.aQuery[t].sArtist}&key=${this.sYtKey}${this.YTnextPageTokenString}`):e=`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${this.aQuery[t].iLimit}&type=video,playlist&q=${this.aQuery[t].sQuery}&key=${this.sYtKey}${this.YTnextPageTokenString}`,new Promise((s,i)=>{We.a.get(e).then(e=>{try{if(this.nextPageToken=e.data.nextPageToken,e=e.data.items,this.aQuery[t].bArtist){for(var i in e)this.aQuery[t].aResult.push({artist:e[i].snippet.channelTitle,artistID:e[i].snippet.channelId,description:e[i].snippet.description,duration:"YouTube channel",mp32:`https://www.youtube.com/watch?v=${e[i].id.videoId}`,poster:e[i].snippet.thumbnails.medium.url,posterLarge:e[i].snippet.thumbnails.high.url,source:"YouTube",title:this.decodeHTMLEntities(e[i].snippet.title),uploaded:this.parseDate(e[i].snippet.publishedAt)});s()}else{var a=[];for(var r in e)a.push(e[r].id.videoId);a.length&&We.a.get(`https://www.googleapis.com/youtube/v3/videos?id=${a.join(",")}&part=contentDetails&key=${this.sYtKey}`).then(i=>{var a=[];for(var r in i.data.items)a[i.data.items[r].id]=this.timeHMS(i.data.items[r].contentDetails.duration);for(var r in e)""===this.aQuery[t].sArtist&&"youtube#playlist"===e[r].id.kind?this.aQuery[t].aResult.push({artist:e[r].snippet.channelTitle,artistID:e[r].snippet.channelId,description:e[r].snippet.description,duration:"Playlist",mp32:`https://www.youtube.com/watch?v=${e[r].id.videoId}`,poster:e[r].snippet.thumbnails.medium.url,posterLarge:e[r].snippet.thumbnails.high.url,source:"YouTube",title:this.decodeHTMLEntities(e[r].snippet.title),trackID:e[r].id.playlistId,listID:e[r].id.playlistId,uploaded:this.parseDate(e[r].snippet.publishedAt)}):this.aQuery[t].aResult.push({artist:e[r].snippet.channelTitle,artistID:e[r].snippet.channelId,description:e[r].snippet.description,duration:a[e[r].id.videoId],mp32:`https://www.youtube.com/watch?v=${e[r].id.videoId}`,poster:e[r].snippet.thumbnails.medium.url,posterLarge:e[r].snippet.thumbnails.high.url,source:"YouTube",title:this.decodeHTMLEntities(e[r].snippet.title),trackID:e[r].id.videoId,uploaded:this.parseDate(e[r].snippet.publishedAt)});s()}).catch(t=>{console.log(t)})}}catch(o){return this.YTnextPageToken="",void console.log("yt error",o)}})})}vim(t){return this.aQuery[t].bRelated?Promise.resolve():(e="undefined"!==this.aQuery[t].sArtist?"https://api.vimeo.com/videos?page="+(this.aQuery[t].iPage+1)+"&per_page=12&query="+this.aQuery[t].sQuery+"&sort=relevant&access_token="+this.sVimeoKey:"https://api.vimeo.com/users/"+this.aQuery[t].sArtist+"/videos?page="+(this.aQuery[t].iPage+1)+"&per_page=12&sort=date&access_token="+this.sVimeoKey,We.a.get(e).then(e=>{if(e=e.data.data,e.length)for(var s in e)this.pushResult(t,e[s].user.name,e[s].user.uri.replace(/\/users\/(.*?)/gi,"user"),this.parseDate(e[s].user.created_time),e[s].description,this.secondstominutes(e[s].duration),"https://dream.tribe.nu/r3/off/?q="+e[s].link,e[s].link,e[s].pictures.sizes[2].link,e[s].pictures.sizes[e[s].pictures.sizes.length-1].link,"vimeo",e[s].name,e[s].link)}).catch(!1));var e}decodeHTMLEntities(t){return t.replace(/&([^;]+);/gm,function(t,e){return Ge[e]||t})}genUID(){return Math.random()}getTrendingSC(t){return new Promise((t,e)=>{We.a.get(`https://crossorigin.me/https://api-v2.soundcloud.com/charts?kind=top&genre=soundcloud%3Agenres%3Aall-music&high_tier_only=false&client_id=${this.sScKey}&limit=50&offset=0`).then(e=>{let s={nextPage:"",data:e.data.collection.map(t=>{var e,s;return!t.track.artwork_url&&t.track.user.avatar_url?(e=t.track.user.avatar_url.replace("i1","i2").replace("-large","-t300x300"),s=t.track.user.avatar_url.replace("-large","-t500x500")):t.track.user.avatar_url||t.track.user.avatar_url?(e=t.track.artwork_url.replace("i1","i2").replace("-large","-t300x300"),s=t.track.artwork_url.replace("-large","-t500x500")):e=s="./img/icons/no-image.png",{artist:t.track.user.username,artistID:t.track.user_id,uploaded:this.parseDate(t.track.created_at),description:t.track.description,duration:this.secondstominutes(Math.floor(t.track.duration/1e3)),mp3:`https://api.soundcloud.com/tracks/${t.track.id}/stream?client_id=${this.sScKey}`,mp32:t.track.permalink_url,poster:e,posterLarge:s,source:"SoundCloud",title:t.track.title,trackID:t.track.id}})};t(s)}).catch(t=>{e()})})}getTrendingYT(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((e,s)=>{We.a.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,snippet&pageToken=${t}&videoCategoryId=10&chart=mostPopular&regionCode=SE&maxResults=50&key=${this.sYtKey}`).then(t=>{let s={nextPage:t.data.nextPageToken,data:t.data.items.map(t=>{return{artist:t.snippet.channelTitle,artistID:t.snippet.channelId,description:t.snippet.description,duration:this.timeHMS(t.contentDetails.duration),mp32:`https://www.youtube.com/watch?v=${t.id}`,poster:t.snippet.thumbnails.medium.url,posterLarge:t.snippet.thumbnails.high.url,source:"YouTube",title:this.decodeHTMLEntities(t.snippet.title),trackID:t.id,uploaded:this.parseDate(t.snippet.publishedAt)}})};e(s)}).catch(t=>{s()})})}getChannelPlaylists(t,e,s,i,a){this.genUID();return e.toLowerCase().indexOf("soundcloud")>-1?We.a.get(`https://api.soundcloud.com/users/${t}/playlists?client_id=${this.sScKey}`).then(s=>{var i="";let r={data:s.data.map(s=>{return s.tracks.length>0&&s.tracks[0].artwork_url?i=s.tracks[0].artwork_url.replace("-large","-t500x500"):s.tracks.length>1&&s.tracks[1].artwork_url?i=s.tracks[1].artwork_url.replace("-large","-t500x500"):s.tracks.length>2&&s.tracks[2].artwork_url?i=s.tracks[2].artwork_url.replace("-large","-t500x500"):s.tracks.length>3&&s.tracks[3].artwork_url?i=s.tracks[3].artwork_url.replace("-large","-t500x500"):s.tracks.length>4&&s.tracks[4].artwork_url?i=s.tracks[4].artwork_url.replace("-large","-t500x500"):s.tracks.length>5&&s.tracks[5].artwork_url&&(i=s.tracks[5].artwork_url.replace("-large","-t500x500")),{title:s.title,numberOfSongs:s.tracks.length,img:i,description:s.description,listID:s.id,uploaded:s.id,artist:s.user.username,artistID:t,source:e}})};a(r)}):e.toLowerCase().indexOf("youtube")>-1?We.a.get(`https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&pageToken=${i}&channelId=${t}&maxResults=${s}&key=${this.sYtKey}`).then(s=>{a({nextPage:s.data.nextPageToken,data:s.data.items.map(s=>{return{title:this.decodeHTMLEntities(s.snippet.title),numberOfSongs:s.contentDetails.itemCount,img:s.snippet.hasOwnProperty("high")?s.snippet.thumbnails.high.url:s.snippet.thumbnails.medium.url,description:s.snippet.description,listID:s.id,uploaded:this.parseDate(s.snippet.publishedAt),artist:s.snippet.channelTitle,artistID:t,source:e}})})}):void 0}getChannelSubscriptions(t,e,s,i,a){if(e.toLowerCase().indexOf("soundcloud")>-1){let s=i||`https://api.soundcloud.com/users/${t}/followings?client_id=${this.sScKey}`;We.a.get(s).then(t=>{let s={nextPage:t.data.next_href,data:t.data.collection.map(t=>{return{numberOfSongs:t.track_count,img:t.avatar_url.replace("large","t500x500"),description:t.description,uploaded:this.parseDate(t.last_modified),artist:t.username,artistID:t.id,source:e}})};a(s)}).catch(()=>{})}else if(e.toLowerCase().indexOf("youtube")>-1)return We.a.get(`https://www.googleapis.com/youtube/v3/subscriptions?part=snippet,contentDetails&pageToken=${i}&channelId=${t}&maxResults=${s}&key=${this.sYtKey}`).then(t=>{let s={nextPage:t.data.nextPageToken,data:t.data.items.map(t=>{return{numberOfSongs:t.contentDetails.totalItemCount,newItemCount:t.contentDetails.newItemCount,img:t.snippet.thumbnails.high.url,description:t.snippet.description,uploaded:this.parseDate(t.snippet.publishedAt),artist:this.decodeHTMLEntities(t.snippet.title),artistID:t.snippet.resourceId.channelId,source:e}})};a(s)}).catch(()=>{})}getChannelPlaylistItems(t,e,s,i,a){this.genUID();return e.toLowerCase().indexOf("soundcloud")>-1?We.a.get(`https://api.soundcloud.com/playlists/${t}?client_id=${this.sScKey}`).then(t=>{let e={nextPage:"",data:t.data.tracks.map(t=>{var e,s;return t.artwork_url&&(e=t.artwork_url.replace("i1","i2").replace("-large","-t300x300"),s=t.artwork_url.replace("-large","-t500x500")),{artist:t.user.username,artistID:t.user_id,uploaded:this.parseDate(t.created_at),description:t.description,duration:this.secondstominutes(Math.floor(t.duration/1e3)),mp3:t.stream_url+"?client_id="+this.sScKey,mp32:t.permalink_url,poster:e,posterLarge:s,source:"SoundCloud",title:t.title,trackID:t.id}})};a(e)}):e.toLowerCase().indexOf("youtube")>-1?We.a.get(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&playlistId=${t}&pageToken=${i}&maxResults=${s}&key=${this.sYtKey}`).then(t=>{var e=t.data.items.map(t=>{return t.contentDetails.videoId}).join(",");We.a.get(`https://www.googleapis.com/youtube/v3/videos?id=${e}&part=contentDetails&key=${this.sYtKey}`).then(e=>{var s=[];for(var i in e.data.items)s[e.data.items[i].id]=this.timeHMS(e.data.items[i].contentDetails.duration);let r={nextPage:t.data.nextPageToken,data:t.data.items.filter(t=>"undefined"!==typeof t.snippet.thumbnails).map(t=>{return{artist:t.snippet.channelTitle,artistID:t.snippet.channelId,uploaded:this.parseDate(t.snippet.publishedAt),description:t.snippet.description,duration:s[t.contentDetails.videoId],mp3:`https://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v=${t.contentDetails.videoId}`,mp32:`https://www.youtube.com/watch?v=${t.contentDetails.videoId}`,poster:t.snippet.thumbnails.medium.url,posterLarge:t.snippet.thumbnails.high.url,source:"YouTube",title:this.decodeHTMLEntities(t.snippet.title),trackID:t.contentDetails.videoId}})};a(r)})}):void 0}getArtistInfo(t,e,s){return e.toLowerCase().indexOf("youtube")>-1?We.a.get("https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id="+t+"&key="+this.sYtKey).then(s):e.toLowerCase().indexOf("soundcloud")>-1?We.a.get("https://api.soundcloud.com/users/"+t+"?client_id="+this.sScKey).then(s):e.toLowerCase().indexOf("mixcloud")>-1?We.a.get("https://api.mixcloud.com/"+t+"/").then(s):Promise.resolve("")}getSongComments(t,e,s,i,a){this.genUID();return e.toLowerCase().indexOf("youtube")>-1?We.a.get(`https://www.googleapis.com/youtube/v3/comments?part=snippet&pageToken=${i}&maxResults=${s}&parentId=${t}&key=${this.sYtKey}`).then(t=>{var e={nextPage:t.data.nextPageToken,data:t.data.items.map(t=>{return{artist:t.snippet.authorDisplayName,artistID:t.snippet.authorChannelId.value,artistIMG:t.snippet.authorProfileImageUrl,comment:t.snippet.textDisplay,commentCreated:t.snippet.publishedAt,totalReplyCount:t.snippet.totalReplyCount,commentID:t.id}}).reverse()};a(e)}):e.toLowerCase().indexOf("soundcloud")>-1?We.a.get("https://api.soundcloud.com/tracks/"+t+"/comments?linked_partitioning=1&limit=50&client_id="+this.sScKey).then(t=>{var e={nextPage:t.data.nextPageToken,data:t.data.collection.map(t=>{return{artist:t.user.username,artistID:t.user.id,artistIMG:t.user.avatar_url,comment:t.body,commentCreated:t.created_at}})};a(e)}):void 0}getSongCommentsThreads(t,e,s,i,a){this.genUID();if(s.toLowerCase().indexOf("youtube")>-1){if(e&&!this.YTCommentNext)return;var r=this.YTCommentNext&&e?"&pageToken="+this.YTCommentNext:"";return We.a.get("https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&order=time&textFormat=plainText&maxResults="+i+"&videoId="+t+"&key="+this.sYtKey+r).then(t=>{this.YTCommentNext=t.data.nextPageToken;var e=t.data.items.map(t=>{return{artist:t.snippet.topLevelComment.snippet.authorDisplayName,artistID:t.snippet.topLevelComment.snippet.authorChannelId.value,artistIMG:t.snippet.topLevelComment.snippet.authorProfileImageUrl,comment:t.snippet.topLevelComment.snippet.textDisplay,commentCreated:t.snippet.topLevelComment.snippet.publishedAt,totalReplyCount:t.snippet.totalReplyCount,commentID:t.id,show:!1}});a(e)})}if(s.toLowerCase().indexOf("soundcloud")>-1)return We.a.get("https://api.soundcloud.com/tracks/"+t+"/comments?linked_partitioning=1&limit=50&client_id="+this.sScKey).then(t=>{var e=t.data.collection.map(t=>{return{artist:t.user.username,artistID:t.user.id,artistIMG:t.user.avatar_url,comment:t.body,commentCreated:t.created_at,show:!1}});a(e)})}getSongDescription(t,e,s){var i=this.genUID();this.aQuery[i]={aResult:[],hCallback:s},e.toLowerCase().indexOf("youtube")>-1?We.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+t+"&fields=items/snippet/description&key="+this.sYtKey).then(t=>{s(t.data)}).catch():s("")}getSongPlays(t,e,s){if(e.toLowerCase().indexOf("youtube")>-1){var i=`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${t}&key=${this.sYtKey}`;return We.a.get(i).then(t=>{s(t.data.items[0].statistics.viewCount)})}if(e.toLowerCase().indexOf("soundcloud")>-1){i=`https://api.soundcloud.com/tracks/${t}?client_id=${this.sScKey}`;return We.a.get(i).then(t=>{s(t.data.playback_count)})}s(-1)}getSongInfo(t,e,s){var i=this.genUID();return this.aQuery[i]={aResult:[],hCallback:s},e.toLowerCase().indexOf("youtube")>-1?We.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+t+"&key="+this.sYtKey).then(t=>{t=t.data.items[0],this.pushResult(i,t.snippet.channelTitle,t.snippet.channelId,this.parseDate(t.snippet.publishedAt),t.snippet.description,"","http://dream.tribe.nu/r3/off/?q=https://www.youtube.com/watch?v="+t.id,"https://www.youtube.com/watch?v="+t.id,t.snippet.thumbnails.high.url,t.snippet.thumbnails.high.url,"YouTube",this.unescapeHtml(t.snippet.title),t.id),this.aQuery[i].hCallback(this.aQuery[i].aResult),delete this.aQuery[i]}):e.toLowerCase().indexOf("soundcloud")>-1?We.a.get("https://api.soundcloud.com/tracks/"+t+"?client_id="+this.sScKey).then(t=>{t=t.data,this.pushResult(i,t.user.username,t.user_id,this.parseDate(t.created_at),t.description,this.secondstominutes(Math.floor(t.duration/1e3)),t.stream_url+"?client_id="+this.sScKey,t.permalink_url,"string"===typeof t.artwork_url?t.artwork_url.replace("i1","i2").replace("-large","-t300x300"):"./img/icons/no-image.png","string"===typeof t.artwork_url?t.artwork_url.replace("-large","-t500x500"):"./img/icons/no-image.png","SoundCloud",t.title,t.id),this.aQuery[i].hCallback(this.aQuery[i].aResult),delete this.aQuery[i]}):e.toLowerCase().indexOf("mixcloud")>-1?We.a.get("https://api.mixcloud.com"+t).then(t=>{t=t.data,this.pushResult(i,t.user.name,t.user.key,this.parseDate(t.created_time),t.description,this.secondstominutes(t.audio_length),t.url,t.url,t.pictures.small,t.pictures.large,"MixCloud",t.name,t.key),this.aQuery[i].hCallback(this.aQuery[i].aResult),delete this.aQuery[i]}):void 0}guessSongTitle(t,e){We.a.get(`https://api.alltomp3.org/v1/guess-track/${t}`).then(t=>{e(t)})}pushResult(t,e,s,i,a,r,o,n,l,c,u,d,h){this.aQuery[t].aResult.push({artist:e,artistID:s,description:a,duration:r,mp3:o,mp32:n,poster:l,posterLarge:c,source:u,title:d,uploaded:i,trackID:h})}calcDate(t,e){t||(t=new Date),e||(e=new Date),typeof e!==Object&&(e=new Date(e));var s=Math.abs(t.getTime()-e.getTime()),i=Math.floor(s/864e5),a=Math.floor(s/36e5),r=Math.floor(s/6e4),o=Math.floor(i/31),n=Math.floor(i/7),l=Math.floor(o/12);return t=l>0?[l," year"]:o>0?[o," month"]:n>0?[n," week"]:i>0?[i," day"]:a>0?[a," hour"]:[r," minute"],t[0]+t[1]+(t[0]>1?"s":"")}parseDate(t){if(t=t.match(/^(\d{4})\/?-?(0[1-9]|1[0-2])\/?-?(0[1-9]|[12]\d|3[01])/),t&&(t[0]=new Date(+t[1],+t[2]-1,+t[3]),t[0].getMonth()===+t[2]-1))return t[0]}sortDate(t,e){return t=new Date(t.uploaded),e=new Date(e.uploaded),t>e?-1:t<e?1:0}str_pad_left(t,e,s){return(new Array(s+1).join(e)+t).slice(-s)}uniqueArray(t){for(var e=t.concat(),s=0;s<e.length;s++)for(var i=s+1;i<e.length;i++)e[s].mp32===e[i].mp32&&e.splice(i--,1);return e}secondstominutes1(t){return this.str_pad_left(Math.floor(t/60),"0",2)+":"+this.str_pad_left(t-60*Math.floor(t/60),"0",2)}error(t){this.aQuery[t].hCallback(this.aQuery[t].aResult)}secondstominutes(t){var e=parseInt(t,10),s=Math.floor(e/3600)%24,i=Math.floor(e/60)%60,a=e%60;return[s,i,a].map(t=>t<10?"0"+t:t).filter((t,e)=>"00"!==t||e>0).join(":")}unescapeHtml(t){var e={amp:"&",lt:"<",le:"â‰¤",gt:">",ge:"â‰¥",quot:'"',nbsp:" ","#39":"'"};return t.replace(/&([^;]+);/g,(t,s)=>e[s]||"")}timeHMS(t){var e="date",s=864e5,i=s/24,a=i/60,r={date:{y:365.25*s,m:1461*s/48,d:s},time:{h:i,m:a,s:1e3}},o=/[^a-z]+|[a-z]/gi,n=t.toLowerCase().match(/p|t|\d+\.?\d*[ymdhs]/gi).reduce(function(t,s){if("p"==s)return t;if("t"==s)return e="time",t;var i=s.match(o);return t+i[0]*r[e][i[1]]},0);return this.secondstominutes(n/1e3)}}var Xe={install(t,e){Object.defineProperty(t.prototype,"$DCAPI",{value:new Je})}},Ze=(s("6b54"),{install(t){var e={sBase:"http://dreamcloud.mynetgear.com:7000/api/",aPlaylist:[],iCurrent:0,eAudio:{src:""},init(){e.bindMediaSesssion()},ePlayer(){return document.getElementById("dc-audio")},getAudio(t,s){var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let a;return a=i&&t.mp32.indexOf("youtube")>-1?e.sBase+"v1/stream/?i="+t.trackID:t.mp32.indexOf("youtube")>-1?e.sBase+"v2/stream/?i="+t.trackID:e.sBase+"v3/stream/?i="+t.mp32,s(a)},next(){e.iCurrent=e.iCurrent<e.aPlaylist.length-1?e.iCurrent+1:0,e.playIndex(e.iCurrent)},pause(){Ye.getters.ytUseVideo&&Ye.getters.isYT?Ye.getters.ytIsPlaying&&Ye.getters.ytObject.pauseVideo():e.eAudio.pause()},stop(){e.eAudio.src=""},play(){return e.eAudio.play()},previous(){e.iCurrent=e.iCurrent>0?e.iCurrent-1:e.aPlaylist.length-1,e.playIndex(e.iCurrent)},playIndex(t){if(e.eAudio.src="",e.iCurrent=t,Ye.commit("changeIndex",t),this.setMediaSession(e.aPlaylist[t]),!Ye.getters.ytUseVideo||!Ye.getters.isYT)return Ye.commit("ytStopVideo"),Ye.commit("dcIsLoading",!0),"SoundCloud"==e.aPlaylist[t].source?e.setAudioSrc(e.aPlaylist[t].mp3):e.play_url(e.aPlaylist[t])},play_url(t){return e.getAudio(t,e.setAudioSrc)},setAudioSrc(t){e.eAudio.src=t,e.eAudio.load();e.play().then(()=>{e.error_count=0}).catch(t=>{return-1===t.toString().indexOf("interrupted by a new load request")?(e.error_count++,e.error_count<2?e.error():(e.error_count=0,e.next())):Ye.commit("ytStopVideo"),Ye.commit("dcIsLoading",!0),"SoundCloud"==e.aPlaylist[index].source?e.setAudioSrc(e.aPlaylist[index].mp3):e.play_url(e.aPlaylist[index])})},play_url(t){return e.getAudio(t,e.setAudioSrc)},setAudioSrc(t){e.eAudio.src=t,e.eAudio.load();var s=e.play().then(()=>{e.error_count=0}).catch(t=>{-1===t.toString().indexOf("interrupted by a new load request")&&(e.error_count++,e.error_count<6?e.error():(e.error_count=0,e.next()))});return s},setPlaylist(t){e.aPlaylist=t},setNPlay(t,s){return e.setPlaylist(t),e.iCurrent=s,e.playIndex(s)},seekBackward(){Ye.getters.ytUseVideo&&Ye.getters.isYT?Ye.getters.ytObject.seekTo(Ye.getters.ytObject.getCurrentTime()-10,!0):e.eAudio.currentTime-=10},seekForward(){Ye.getters.ytUseVideo&&Ye.getters.isYT?Ye.getters.ytObject.seekTo(Ye.getters.ytObject.getCurrentTime()+10,!0):e.eAudio.currentTime+=10},toggleMute(){Ye.getters.ytUseVideo&&Ye.getters.isYT?this.$store.getters.ytObject.isMuted()?this.$store.getters.ytObject.unMute():this.$store.getters.ytObject.mute():this.eAudio.muted=!this.eAudio.muted},togglePlay(){Ye.getters.ytUseVideo&&Ye.getters.isYT?Ye.getters.ytIsPlaying?Ye.getters.ytObject.pauseVideo():Ye.getters.ytObject.playVideo():e.eAudio.paused?e.eAudio.play():e.eAudio.pause()},error(t){setTimeout(function(){e.playIndex(e.iCurrent)},2e3)},setMediaSession(t){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:t.artist,artwork:[{src:t.poster,sizes:"96x96",type:"image/png"},{src:t.poster,sizes:"128x128",type:"image/png"},{src:t.poster,sizes:"192x192",type:"image/png"},{src:t.poster,sizes:"256x256",type:"image/png"},{src:t.poster,sizes:"384x384",type:"image/png"},{src:t.poster,sizes:"512x512",type:"image/png"}]}),this.bindMediaSesssion())},bindMediaSesssion(){"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",()=>e.play()),navigator.mediaSession.setActionHandler("pause",()=>e.pause()),navigator.mediaSession.setActionHandler("seekbackward",()=>e.seekBackward()),navigator.mediaSession.setActionHandler("seekforward",()=>e.seekForward()),navigator.mediaSession.setActionHandler("previoustrack",()=>e.previous()),navigator.mediaSession.setActionHandler("nexttrack",()=>e.next()))},volUp(){let t=0;return Ye.getters.ytUseVideo&&Ye.getters.isYT?(t=Ye.getters.ytObject.getVolume()+5,Ye.getters.ytObject.setVolume(t)):(t=Math.min(1,e.eAudio.volume+.05),e.eAudio.volume=t),t},volDown(){let t=0;return Ye.getters.ytUseVideo&&Ye.getters.isYT?(t=Math.max(0,Ye.getters.ytObject.getVolume()-5),Ye.getters.ytObject.setVolume(t)):(t=Math.max(0,e.eAudio.volume-.05),e.eAudio.volume=t),t}};e.init(),Object.defineProperty(t.prototype,"$DCPlayer",{value:e})}}),ts=s("3835"),es=s("59ca");s("ea7b"),s("66ce");var ss={apiKey:"AIzaSyDSaKaRsDvmOicthSOJGvSF4iQC2ZprwFw",authDomain:"dreamcloud-3f276.firebaseapp.com",databaseURL:"https://dreamcloud-3f276.firebaseio.com",projectId:"dreamcloud-3f276",storageBucket:"dreamcloud-3f276.appspot.com",messagingSenderId:"137974869044"};class is{constructor(){this.playlists="",this.playlistRefs="",this.fb=es.initializeApp(ss),this.fbb=es,this.GoogleAuth=es.auth.GoogleAuthProvider,this.db=es.database(),this.UID=this.fb.auth.currentUser}init(t){this.UID=t,this.settings=this.db.ref("users/"+t+"/Settings"),this.playlists=this.db.ref("users/"+t+"/PlaylistsData"),this.playlistsRefs=this.db.ref("users/"+t+"/PlaylistsNames"),this.subscriptions=this.db.ref("users/"+t+"/Subscriptions"),this.fbhistory=this.db.ref("users/"+t+"/History")}setLoc(t,e){return window.localStorage.setItem(t,e)}getLoc(t){return window.localStorage.getItem(t)}setting(t){return this.settings.child(t)}settingChange(t,e){this.settings.child(t).set(e)}subscriptionGet(t){return this.db.ref("users/"+t+"/Subscriptions/")}subscriptionAdd(t,e,s,i){this.subscriptions.update({[s]:{name:t,name_lower:t.toLowerCase(),source:e,id:s,img:i}})}subscriptionDelete(t){this.subscriptions.child(t).remove()}createNewPlaylist(t,e){let s,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i?(this.playlistsRefs.child(i).set({name:t,name_lower:t.toLowerCase()}),s=i):s=this.playlistsRefs.push({name:t,name_lower:t.toLowerCase()}).ref.key,this.playlists.child(s).set({name:t,name_lower:t.toLowerCase()}),this.playlistSongAdd(s,e)}playlistDelete(t){this.playlistsRefs.child(t).remove(),this.playlists.child(t).remove()}historyPush(t){if(!Ye.getters.isAnon){var e=this.fbhistory.push();t.key=e.key,delete t[".key"],t.uploaded=t.uploaded.toString(),e.set(t)}}historyClear(){this.fbhistory.remove()}playlistSongAdd(t,e){let s=e=>{var s=this.playlists.child(t+"/songs").push();e.key=s.key,delete e[".key"],e.uploaded=e.uploaded.toString(),s.set(e)};if(e.length>1)for(var i of Object.entries(e)){var a=Object(ts["a"])(i,2),r=a[0],o=a[1];s(Object.assign({},o),r)}else s(Object.assign({},Array.isArray(e)?e[0]:e))}playlistSongDelete(t,e){this.playlists.child(t+"/songs/"+e).remove()}playlistGet(t,e){return this.db.ref("users/"+t+"/PlaylistsData/"+e+"/songs")}playlistGetAll(t){return this.db.ref("users/"+t+"/PlaylistsData")}}var as={install(t){Object.defineProperty(t.prototype,"$DCFB",{value:new is})}},rs=s("5f30"),os=s.n(rs),ns=s("ec7e"),ls=s.n(ns),cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?t._e():s("v-layout",{staticClass:"pb-5",attrs:{row:"",wrap:""}},[s("v-flex",{directives:[{name:"show",rawName:"v-show",value:!(t.$store.getters.ytUseVideo&&t.$store.getters.isYT),expression:"!($store.getters.ytUseVideo && $store.getters.isYT)"}],staticClass:"noSel",attrs:{xs12:""},on:{click:function(e){return t.$DCPlayer.togglePlay()},contextmenu:function(e){return t.$emit("conmen",[e,[t.song]])}}},[s("div",{staticClass:"pstr-wrapper"},[s("div",{key:t.song.poster,style:{background:"center center no-repeat","background-image":"url("+t.song.posterLarge+")"},attrs:{id:"pstr"}})])]),s("v-flex",{attrs:{dFlex:"",xs12:""}},[s("v-layout",{attrs:{id:"dc-padding",row:"",wrap:""}},[s("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[s("div",{staticClass:"title fwl text-xs-left"},[s("span",[t._v(t._s(t.$store.getters.current_song.title))])])]),s("v-flex",{staticClass:"stage-btns",style:t.stageBorderStyle,attrs:{xs12:""}},[s("div",{staticClass:"fl-l blue-grey--text text--lighten-1 mt-3"},[t._v("\n          "+t._s(t.iViews>-1?t.iViews+" â€¢ ":"")+t._s(t.$DCAPI.calcDate("",t.song.uploaded))+"\n        ")]),s("div",{staticClass:"fl-r"},[s("youtube-button"),s("new-tab",{attrs:{song:t.song}}),s("share-button",{attrs:{song:t.song}}),s("download-button",{attrs:{links:[t.song]}}),s("add-to-playlist",{attrs:{song:t.song}}),t.$vuetify.breakpoint.lgAndUp?s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.widescreen},slot:"activator"},[s("v-icon",[t._v(t._s(t.bWide?"crop_3_2":"crop_16_9"))])],1),s("span",[t._v(t._s(t.bWide?"Wide":"Narrow"))])],1):t._e(),s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.fullscreen},slot:"activator"},[s("v-icon",[t._v("fullscreen")])],1),s("span",[t._v("Fullscreen")])],1)],1)]),s("v-flex",{staticClass:"text-xs-left song-meta mt-3",attrs:{xs12:"",lg8:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("artist-mini",{key:t.song.artistID,staticClass:"mr-3",attrs:{artistID:t.song.artistID,source:t.song.source,artist:t.song.artist}}),s("v-flex",{attrs:{xs10:""}},[s("div",{staticClass:"subheading"},[t._v(t._s(t.song.artist))]),s("div",{staticClass:"subheading fwl wordbreak preline",domProps:{innerHTML:t._s(t.timeToSeconds(t.description))}})])],1),s("v-tabs",{ref:"tabs",staticClass:"mt-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tabs-slider",{attrs:{color:"primary"}}),s("v-tab",[t._v("\n            Playlist\n          ")]),s("v-tab",[t._v("\n            Comments\n          ")]),s("v-tab",[t._v("\n            Lyrics\n          ")]),t.$vuetify.breakpoint.mdAndDown?s("v-tab",[t._v("\n            Related\n          ")]):t._e()],1),s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("playlist",{attrs:{songs:t.$store.state.player.current_playlist,"rows-per-page":-1},on:{conmen:function(e){return t.$emit("conmen",e)}}})],1),s("v-tab-item",[s("songComments",{attrs:{trackID:t.song.trackID,source:t.song.source}})],1),s("v-tab-item",[s("lyrics",{attrs:{title:t.song.title,artist:t.song.artist}})],1),t.$vuetify.breakpoint.mdAndDown?s("v-tab-item",[s("related",{on:{conmen:function(e){return t.$emit("conmen",e)}}})],1):t._e()],1)],1),t.$vuetify.breakpoint.lgAndUp?s("relatedd",{on:{conmen:function(e){return t.$emit("conmen",e)}}}):t._e()],1)],1)],1)},us=[],ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inList?s("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.open(e)}}},[s("v-list-tile-title",[t._v(t._s("Open "+t.song.source+" in a new tab"))])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",href:t.url,icon:""},on:{click:function(e){return e.preventDefault(),t.open(e)}},slot:"activator"},[s("v-icon",[t._v("open_in_new")])],1),s("span",[t._v(t._s("Open "+t.song.source+" in a new tab"))])],1)},hs=[],ps={name:"NewTab",props:{song:{type:Object,default:function(){return{source:""}}},inList:{type:Boolean,default:!1}},computed:{url(){return this.song.hasOwnProperty("listID")?`https://dctest.netlify.com/#/p/${this.song.title}/${this.song.source}/${this.song.artistID}/${this.song.listID}`:this.song.mp32}},methods:{open(){this.$DCPlayer.pause(),window.open(this.url,"_blank")}}},ms=ps,gs=s("3a2f"),vs=Object(g["a"])(ms,ds,hs,!1,null,null,null),fs=vs.exports;f()(vs,{VBtn:y["a"],VIcon:b["a"],VListTile:A["a"],VListTileTitle:V["c"],VTooltip:gs["a"]});var ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"mt-3",attrs:{xs12:"",lg4:""}},[t.$store.state.user.drawRight?t._e():s("div",[s("div",{staticClass:"text-xs-left subheading"},[t._v("\n      Up next\n    ")]),s("v-flex",{attrs:{xs12:""},on:{click:function(e){t.$DCPlayer.next(),t.$DCFB.historyPush(t.$store.getters.current_song)},contextmenu:function(e){return t.$emit("conmen",[e,t.upNext])}}},[s("v-card",{staticClass:"mb-2 pointer",attrs:{color:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs5:""}},[s("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===t.upNext.source?16/9:1,src:t.upNext.poster}},[s("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"})],1)],1),s("v-flex",{staticClass:"ma-2 text-xs-left",attrs:{xs7:""}},[s("div",{staticClass:"subheading wordbreak"},[t._v(t._s(t.upNext.title))]),s("router-link",{staticClass:"subheading grey--text artist noDeco",attrs:{to:{name:"artist",params:{source:t.upNext.source,artist:t.upNext.artist,artistID:t.upNext.artistID}}}},[t._v("\n              "+t._s(t.upNext.artist)+"\n            ")]),s("div",{staticClass:"grey--text"},[t._v(t._s(t.upNext.duration))])],1)],1)],1)],1),s("v-divider")],1),t.loading||t.items.length?s("div",{staticClass:"text-xs-left subheading mt-2"},[t._v("\n    Related\n  ")]):t._e(),t.loading?s("v-flex",{attrs:{xs2:"","offset-xs5":""}},[s("orbit")],1):t._e(),s("v-data-iterator",{attrs:{items:t.items,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,id:String(t.song.trackID),"hide-actions":"","content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return s("v-flex",{attrs:{xs12:""},on:{click:function(s){return t.play(e.index)},contextmenu:function(s){return t.$emit("conmen",[s,[e.item]])}}},[s("v-card",{staticClass:"mb-2 pointer",attrs:{color:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs5:""}},[s("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":"YouTube"===e.item.source?16/9:1,src:e.item.poster}},[s("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"})],1)],1),s("v-flex",{staticClass:"ma-2 text-xs-left",attrs:{xs7:""}},[s("div",{staticClass:"subheading wordbreak"},[t._v(t._s(e.item.title))]),s("router-link",{staticClass:"subheading grey--text artist noDeco",attrs:{to:{name:"artist",params:{source:e.item.source,artist:e.item.artist,artistID:e.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v("\n              "+t._s(e.item.artist)+"\n            ")]),s("div",{staticClass:"grey--text"},[t._v(t._s(e.item.duration))])],1)],1)],1)],1)}}])},[s("v-flex",{attrs:{slot:"no-data"},slot:"no-data"})],1)],1)},bs=[],_s=s("45b7"),ws={name:"StageRelated",components:{orbit:_s["a"]},watch:{index:{immediate:!0,handler:"getRelated"}},data:()=>({loading:!0,rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:-1},items:[]}),computed:Object(c["a"])({},Object(h["c"])({index:t=>t.player.current_index}),Object(h["b"])({isYT:"isYT",song:"current_song",upNext:"next_song",trackID:"current_trackID"})),methods:{play(t){return window.scrollTo(0,0),this.$store.commit("setNPlay",{songs:this.items,current:t,path:this.$route.path}),this.$DCPlayer.setNPlay(this.items,t)},getRelated(){this.loading=!0,this.items=[],this.$DCAPI.searchInt("",0,[this.song.source],this.trackID,t=>{this.loading=!1,t.length&&(t[0].trackID===this.trackID&&t.shift(),this.items=t)},!0,50)},hai(t){return"xs"===this.$vuetify.breakpoint.name?"YouTube"===t?"119px":"140px":"YouTube"===t?"119px":"209px"}}},ks=ws,xs=(s("de8e"),Object(g["a"])(ks,ys,bs,!1,null,null,null)),$s=xs.exports;f()(xs,{VCard:I["a"],VDataIterator:Kt["a"],VDivider:q["a"],VFlex:D["a"],VImg:P["a"],VLayout:o["a"]});var Cs=s("a65f"),Ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"mt-3",attrs:{shrink:"",alignCenter:""}},[s("v-flex",{attrs:{xs12:""}},[s("router-link",{attrs:{to:{name:"artist",params:{source:t.source,artist:t.artist,artistID:t.artistID}}}},[s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[s("v-avatar",{staticClass:"pointer",attrs:{slot:"activator",size:"55px"},slot:"activator"},[s("img",{staticClass:"img-fluid",staticStyle:{display:"inline-block"},attrs:{src:t.info.img}})])],1)],1),s("v-flex",{staticClass:"mt-2",attrs:{xl12:""}},[t.$store.state.user.auth_state?s("subscribe-button",{attrs:{artistID:t.artistID,source:t.source,artist:t.artist,img:t.info.img}}):t._e()],1)],1)],1)},Is=[],Ds=s("162d"),Ps={name:"ArtistMini",props:{artistID:{type:[String,Number],default:""},source:{type:String,default:""},artist:{type:String,default:""}},components:{"subscribe-button":Ds["a"]},data(){return{info:{created:"",description:"",img:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",followers_count:"",last_modified:"",title:"",track_count:""}}},methods:{avatarClicked(){this.$router.push({name:"artist",params:{source:this.source,artist:this.artist,artistID:this.artistID}})}},computed:{items(){return[{icon:"music_note",name:"Tracks",data:this.info.track_count},{icon:"star",name:"Followers",data:this.info.followers_count},{icon:"updated",name:"Last updated",data:this.info.last_modified?this.$DCAPI.calcDate(new Date,this.info.last_modified):""},{icon:"date_range",name:"Created",data:this.info.created?this.$DCAPI.calcDate(new Date,this.info.created):""}]}},mounted(){this.$DCAPI.getArtistInfo(this.artistID,this.source).then(t=>{this.source.toLowerCase().indexOf("youtube")>-1?(this.info.created=t.data.items[0].snippet.publishedAt,this.info.description=t.data.items[0].snippet.description,this.info.img=t.data.items[0].snippet.thumbnails.high.url,this.info.title=t.data.items[0].snippet.title):this.source.toLowerCase().indexOf("soundcloud")>-1?(this.info.created="",this.info.description="",this.info.img=t.data.avatar_url.replace("large","t500x500"),this.info.followers_count=t.data.followers_count,this.info.last_modified=t.data.last_modified,this.info.title=t.data.username,this.info.track_count=t.data.track_count):this.source.toLowerCase().indexOf("mixcloud")>-1?(this.info.created=t.data.created,this.info.description=t.biog,this.info.img=t.data.pictures.medium,this.info.followers_count=t.data.followers_count,this.info.last_modified=t.data.updated_time,this.info.title=t.data.username,this.info.track_count=t.data.cloudcast_count):this.source.toLowerCase().indexOf("bandcamp")>-1&&(this.info.created=t.data.created,this.info.img=t.data.img,this.info.last_modified=t.data.last,this.info.track_count=t.data.tracks)})}},Ts=Ps,As=Object(g["a"])(Ts,Ss,Is,!1,null,null,null),Vs=As.exports;f()(As,{VAvatar:se["a"],VFlex:D["a"]});var Ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-tooltip",{attrs:{top:""}},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.isYT,expression:"$store.getters.isYT"}],attrs:{slot:"activator",disabled:!t.$store.getters.isYT,icon:"",small:""},on:{click:function(e){return e.stopPropagation(),t.clicked(e)}},slot:"activator"},[s("v-icon",{attrs:{color:t.color}},[t._v("ondemand_video")])],1),s("span",[t._v(t._s(t.toolTip)+" video")])],1)},Os=[],Ms={computed:{toolTip(){return this.$store.getters.ytUseVideo&&this.$store.getters.isYT?"Disable":"Enable"},color(){return this.$store.getters.ytUseVideo&&this.$store.getters.isYT?"red":""}},methods:{clicked(){this.$store.commit("ytToggleVideo");let t=this.$store.getters.ytUseVideo?this.$DCPlayer.eAudio.currentTime:this.$store.getters.ytCurrentTime,e=this.$store.getters.ytIsPlaying||!this.$DCPlayer.eAudio.paused;this.$store.getters.ytUseVideo?(e&&this.$DCPlayer.stop(),this.$store.getters.ytObject.hasOwnProperty("loadVideoById")?this.$store.getters.ytObject.loadVideoById(this.$store.getters.current_song.trackID,t):(this.$store.commit("changeIndex",-2),setTimeout(()=>{this.$store.commit("changeIndex",this.$DCPlayer.iCurrent)},250)),setTimeout(()=>{this.$store.getters.ytObject.seekTo(t)},250),setTimeout(()=>{e||this.$store.commit("ytStopVideo")},1500)):(this.$store.commit("ytStopVideo"),this.$DCPlayer.playIndex(this.$DCPlayer.iCurrent).then(()=>{this.$DCPlayer.eAudio.currentTime=t,e||this.$DCPlayer.pause()}))}}},js=Ms,Bs=Object(g["a"])(js,Ls,Os,!1,null,null,null),Us=Bs.exports;f()(Bs,{VBtn:y["a"],VIcon:b["a"],VTooltip:gs["a"]});var Fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:""}},[t.show?s("v-data-iterator",{attrs:{items:t.aComments,"content-tag":"v-layout",row:"",wrap:"","hide-actions":"","no-data-text":""},scopedSlots:t._u([{key:"item",fn:function(e){return s("v-flex",{attrs:{xs12:""},on:{click:function(t){e.item.show=!e.item.show}}},[s("v-card",{staticClass:"py-2",attrs:{hover:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{staticClass:"comAv pr-3",attrs:{shrink:""}},[s("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation()}}},[s("v-avatar",{staticClass:"mt-1 comAv",attrs:{size:"40",color:"grey lighten-4"}},[s("img",{attrs:{src:e.item.artistIMG,alt:"avatar"}})])],1)],1),s("v-flex",{attrs:{xs10:""}},[s("div",[s("div",{staticClass:"body-1 grey--text py-1"},[s("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}},nativeOn:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[s("strong",[t._v(t._s(e.item.artist))])]),s("span",[t._v(t._s(" "+t.$DCAPI.calcDate("",e.item.commentCreated)))])],1),s("div",{staticClass:"body-1 preline py-1",domProps:{innerHTML:t._s(t.timeToSeconds(e.item.comment))}})])])],1),e.item.totalReplyCount?s("commentThread",{attrs:{"total-reply-count":e.item.totalReplyCount,"comment-thread":e.item.commentID,source:t.source,"show-thread":e.item.show},on:{show:function(t){e.item.show=t}}}):t._e()],1),e.index!=t.aComments.length-1?s("v-divider"):t._e()],1)}}],null,!1,3500005219)},[t.aComments.length&&t.$DCAPI.YTCommentNext&&"soundcloud"!=t.source.toLowerCase()?s("v-flex",{attrs:{slot:"footer",xs12:""},slot:"footer"},[s("infinite-loading",{ref:"infiniteLoading",attrs:{distance:210,spinner:"waveDots"},on:{infinite:t.infiniteHandler}},[s("span",{attrs:{slot:"no-more"},slot:"no-more"}),s("span",{attrs:{slot:"no-results"},slot:"no-results"})])],1):t._e()],1):s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card",[s("v-card-title",[t._v("\n          "+t._s(t.noComments?"No comments available":"Loading comments")+"\n        ")])],1)],1)],1)],1)},Es=[],Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"ma-0 pa-0"},[s("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"pointer body-1 comMor noSel",attrs:{xs12:""},on:{click:function(e){return t.$emit("show",t.showThread)}}},[t._v("\n      "+t._s((t.showThread?"Hide":"Show")+" "+t.totalReplyCount+" replies")+" \n      "),s("v-icon",{attrs:{size:"18"}},[t._v(t._s(t.showThread?"keyboard_arrow_up":"keyboard_arrow_down"))]),t.bLoading?s("orbit",{staticClass:"my-3 ml-4"}):t._e()],1)],1),t.showThread?s("v-data-iterator",{attrs:{items:t.aComments,"content-tag":"v-layout",row:"",wrap:"","hide-actions":"","no-data-text":""},on:{click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"item",fn:function(e){return t.showThread?s("v-flex",{staticClass:"pr-1 py-1",attrs:{"offset-xs1":"",xs11:""}},[s("v-card",{staticClass:"py-2",attrs:{flat:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{staticStyle:{"min-width":"54px"},attrs:{xs1:"",sm1:""}},[s("router-link",{staticClass:"body-1 grey--text noDeco pl-2",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[s("v-avatar",{attrs:{size:"40",color:"grey lighten-4"}},[s("img",{attrs:{src:e.item.artistIMG,alt:"avatar"}})])],1)],1),s("v-flex",{attrs:{xs11:""}},[s("div",[s("div",{staticClass:"body-1 grey--text py-1"},[s("router-link",{staticClass:"body-1 grey--text noDeco",attrs:{to:{name:"artist",params:{source:t.source,artist:e.item.artist,artistID:e.item.artistID}}}},[s("strong",[t._v(t._s(e.item.artist))])]),s("span",[t._v(t._s(" "+t.$DCAPI.calcDate("",e.item.commentCreated)))])],1),s("div",{staticClass:"body-1 preline py-1",domProps:{innerHTML:t._s(t.timeToSeconds(e.item.comment))}})])])],1)],1),e.index!==t.aComments.length-1?s("v-divider"):t._e()],1):t._e()}}],null,!0)}):t._e()],1)},Qs=[],Ys={name:"songCommentsThread",watch:{showThread:"queryComments"},components:{orbit:_s["a"]},props:{totalReplyCount:{type:[String,Number],default:""},commentThread:{type:[String,Number],default:""},source:{type:[String],default:""},showThread:{type:[Boolean],default:!1}},data(){return{aComments:[],iPage:0,bLoading:!1}},methods:{timeToSeconds(t){return t?this.$store.getters.ytUseVideo&&this.$store.getters.isYT?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},queryComments(){this.showThread&&!this.aComments.length&&(this.aComments=[],this.iPage=0,this.getComments())},getComments(){this.bLoading=!0;let t=e=>{return this.$DCAPI.getSongComments(this.commentThread,this.source,50,e,e=>{this.bLoading=!1,e.data.length&&(this.aComments=this.aComments.concat(e.data),e.nextPage&&t(e.nextPage))})};t("")},getMore(){this.iPage+=1,this.getComments()}}},Ns=Ys,Hs=(s("5047"),Object(g["a"])(Ns,Rs,Qs,!1,null,null,null)),qs=Hs.exports;f()(Hs,{VAvatar:se["a"],VCard:I["a"],VDataIterator:Kt["a"],VDivider:q["a"],VFlex:D["a"],VIcon:b["a"],VLayout:o["a"]});var Ks={name:"SongComments",watch:{trackID:{immediate:!0,handler:"reset"}},props:{trackID:{type:[String,Number],default:""},source:{type:[String],default:""}},components:{commentThread:qs,"infinite-loading":Ot.a},data(){return{show:!1,infState:"",aComments:[],iPage:0,bLoading:!1,noComments:!1}},methods:{commentClick(t){console.log("show event",t)},reset(){this.aComments=[],this.iPage=0,this.show=!1,this.noComments=!1,this.getComments()},infiniteHandler(t){this.infState=t,this.getMore()},timeToSeconds(t){return t?this.$store.getters.ytUseVideo&&this.$store.getters.isYT?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},getComments(){return this.bLoading=!0,this.$DCAPI.getSongCommentsThreads(this.trackID,this.iPage,this.source,50,t=>{this.infState&&this.infState.loaded(),t.length?(this.bLoading=!1,this.aComments=this.aComments.concat(t),this.show=!0):(this.noComments=!0,this.infState&&this.infState.complete())})},getMore(){this.iPage+=1,this.getComments()}}},zs=Ks,Ws=(s("6c99"),Object(g["a"])(zs,Fs,Es,!1,null,null,null)),Gs=Ws.exports;f()(Ws,{VAvatar:se["a"],VCard:I["a"],VCardTitle:Bt["a"],VDataIterator:Kt["a"],VDivider:q["a"],VFlex:D["a"],VLayout:o["a"]});var Js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",{staticClass:"ma-0 py-0"},[s("v-text-field",{staticClass:"py-0",attrs:{clearable:"","single-line":"",label:"Enter the song and artist name","append-icon":"search"},on:{"click:append":t.inputEnter,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputEnter(e)}},model:{value:t.inputModel,callback:function(e){t.inputModel=e},expression:"inputModel"}})],1),t.lyrics?s("v-card-title",{staticClass:"py-0"},[s("div",{staticClass:"wordbreak preline"},[s("a",{staticClass:"primary--background",attrs:{href:t.lyricsURL,target:"_blank"}},[t._v(t._s(t.lyricsURL))]),s("br"),t._v("\n      "+t._s(t.lyrics)+"\n    ")])]):t.bLoading?s("v-card-title",[t._v("\n    "+t._s(t.loadingText+t.loadingTextAppend)+"\n  ")]):t.iTried?s("v-card-title",[t._v("\n    No lyrics available for "+t._s(this.inputModel)+"\n  ")]):s("v-card-title",{staticClass:"pointer",on:{click:function(e){t.getLyrics}}},[t._v("\n    Click to load lyrics\n  ")])],1)},Xs=[],Zs={name:"Lyrics",props:{title:{type:String,default:""},artist:{type:String,default:""}},watch:{title:{immediate:!0,handler:"reset"}},data(){return{iTried:!1,lyricsServer:"https://dc-nodejs-backend-ogxsxzvffx.now.sh/api/v1",bLoading:!1,lyrics:"",lyricsURL:"",inputModel:this.title,inputFinal:"",loadingTextAppend:"",loadingText:"Loading lyrics"}},computed:{query(){return this.title.replace(/[^\w |${1}|-]/gi,"").replace(/official music video/gi,"").replace(/official audio/gi,"").replace(/instrumental/gi,"").replace(/offici?al video/gi,"").replace(/music video/gi,"").replace(/ audio /gi,"").replace(/ audio$/gi,"").replace(/ video /gi,"").replace(/ video$/gi,"").replace(/lyrics/gi,"").replace(/ hd /gi,"").replace(/ hq /gi,"").replace(/ sd /gi,"").replace(/ hq$/gi,"").replace(/ sd$/gi,"").replace(/ hd$/gi,"").replace(/\s\s+/gi," ")}},methods:{inputEnter(){this.reset(!1)},reset(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.bLoading=!1,this.lyrics="",this.iTried=!1,t&&(this.inputModel=this.query),this.getLyrics()},animateText(){3===this.loadingTextAppend.length?this.loadingTextAppend="":this.loadingTextAppend+="."},fail(t){this.iTried=!0,this.bLoading=!1,clearInterval(t)},getLyrics(){if(!this.lyrics){var t=this.inputModel.toLowerCase();this.bLoading=!0,this.lyrics="";var e=setInterval(this.animateText,500);We.a.get(`https://api.alltomp3.org/v1/guess-track/${encodeURIComponent(t)}`).then(s=>{s.data.title&&s.data.artistName?(t=s.data.title+" "+s.data.artistName,this.inputFinal=t):(this.inputFinal=this.inputModel,t=this.inputModel),t=t.toLowerCase(),We.a.get(`${this.lyricsServer}/search/${t}`).then(s=>{if(s=s.data.data,s.length){var i=s.find(e=>{return t.indexOf(e.title.toLowerCase())>-1});if(i)We.a.get(`${this.lyricsServer}/lyrics/${i.id}`).then(t=>{this.lyrics=t.data.data.lyrics,this.lyricsURL=t.data.data.url,clearInterval(e)}).catch(()=>{this.fail(e)});else{var a=s.find(e=>{return t.indexOf(e.primary_artist.name.toLowerCase())>-1});if(a){var r=t.toLowerCase().replace(a.primary_artist.name.toLowerCase(),""),o=t=>{We.a.get(`${this.lyricsServer}/songsByArtist/${a.primary_artist.id}/${t}`).then(s=>{if(s=s.data.data,s.length){var i=s.find(t=>{return r.indexOf(t.title.replace(/[^\w ]/g,"").toLowerCase())>-1});i?We.a.get(`${this.lyricsServer}/lyrics/${i.id}`).then(t=>{this.lyrics=t.data.data.lyrics,this.lyricsURL=t.data.data.url,this.bLoading=!1,clearInterval(e)}).catch(()=>{}):this.bLoading?o(++t):this.fail(e)}else this.fail(e)}).catch(()=>{this.fail(e)})};o(1)}else this.fail(e)}}else this.fail(e)}).catch(()=>{this.fail(e)})})}}}},ti=Zs,ei=Object(g["a"])(ti,Js,Xs,!1,null,null,null),si=ei.exports;f()(ei,{VCard:I["a"],VCardTitle:Bt["a"],VTextField:Wt["a"]});var ii=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{class:{w100:t.inList},staticStyle:{display:"inline-block"}},[t.inList?s("v-list-tile",{staticClass:"w100",attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.openMenu(e)}}},[s("v-list-tile-title",[t._v("Add to playlist")])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",{staticClass:"ml-2",attrs:{slot:"activator",disabled:t.disabled,color:t.btnCol,icon:""},on:{click:function(e){return e.stopPropagation(),t.openMenu(e)}},slot:"activator"},[s("v-icon",[t._v("playlist_add")])],1),s("span",[t._v("Add to playist")])],1),s("v-dialog",{attrs:{maxWidth:"500px"},model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[s("v-card",{staticStyle:{"overflow-x":"hidden"},attrs:{height:t.cardHeight1,flat:""}},[s("v-card-text",{staticClass:"title fwl ma-0 pa-0 pl-2 pt-2"},[t._v("\n        Add to playlist\n      ")]),s("div",{style:{height:+t.cardHeight2+44+"px"}},[s("v-autocomplete",{ref:"auto",staticClass:"ma-0 px-2",attrs:{"menu-props":{maxHeight:t.cardHeight2,contentClass:"noShadow pt-1"},items:t.items,searchInput:t.search,itemValue:"key",itemText:"name",appendIcon:"","no-data-text":"Create new playlist",label:"Playlist name",color:"primary",clearable:"",hideNoData:"","open-on-clear":"",returnObject:"",singleLine:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[s("v-list-tile-content",{key:e.item[".key"],domProps:{textContent:t._s(e.item.name)},on:{click:function(s){return t.clicked(e.item)}}})]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),s("div",{staticClass:"text-xs-right"},[s("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.enter(e)}}},[t._v("Add")])],1)],1)],1)],1)},ai=[],ri={name:"AddToPlaylist",props:{song:{type:[Array,Object],default(){return[]}},disabled:{type:Boolean,default:!1},inList:{type:Boolean,default:!1}},data(){return{items:[],btnCol:"",menuOpen:!1,loading:!1,search:null,select:""}},watch:{song:{immediate:!0,handler:"bind"}},computed:{cardHeight1(){return this.$vuetify.breakpoint.xsOnly?"316":"438"},cardHeight2(){return this.$vuetify.breakpoint.xsOnly?"188":"310"}},methods:{clicked(t){this.emit(t)},enter(){this.emit(this.select||this.search)},emit(t){this.menuOpen=!1,this.$DCFB.playlistGet(this.$route.params.user,this.$route.params.playlist).once("value").then(e=>{"object"===typeof t?(this.$DCFB.playlistSongAdd(t[".key"],this.song),this.$store.dispatch("snack",{b:!0,c:"primary",s:"Added to playlist",u:[{songs:e.val(),user:this.$route.params.user,playlist:t[".key"]}]})):(this.$store.dispatch("snack",{b:!0,c:"primary",s:"Created new playlist"}),this.$DCFB.createNewPlaylist(this.search,this.song))})},openMenu(){this.$emit("clicked"),this.menuOpen=!this.menuOpen,setTimeout(()=>{this.$refs.auto.$el.querySelector(".v-select__slot").click(),this.$refs.auto.$el.querySelector("input").focus()},600)},bind(){this.select="",this.$store.state.user.auth_state&&this.$bindAsArray("items",this.$DCFB.playlists.orderByChild("name_lower"))}}},oi=ri,ni=(s("2d50"),s("c6a6")),li=s("169a"),ci=Object(g["a"])(oi,ii,ai,!1,null,null,null),ui=ci.exports;f()(ci,{VAutocomplete:ni["a"],VBtn:y["a"],VCard:I["a"],VCardText:Pt["b"],VDialog:li["a"],VIcon:b["a"],VListTile:A["a"],VListTileContent:V["a"],VListTileTitle:V["c"],VTooltip:gs["a"]});var di=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inList?s("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.share(e)}}},[s("v-list-tile-title",[t._v("Share")])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.share(e)}},slot:"activator"},[s("v-icon",[t._v("share")])],1),s("span",[t._v(t._s(t.btnTxt))])],1)},hi=[],pi={name:"ShareButton",props:{url:{type:String,default:""},song:{type:[Object,Array],default(){return[]}},inList:{type:Boolean,default:!1}},data(){return{color:""}},components:{"delete-button":$["a"]},computed:{btnTxt(){return this.$vuetify.breakpoint.smAndDown?"Share":"Copy link to clipboard"}},methods:{share(){this.$emit("clicked"),this.color="primary";let t=this.song.hasOwnProperty("listID")?`https://dctest.netlify.com/#/p/${encodeURIComponent(this.song.title)}/${this.song.source}/${this.song.artistID}/${this.song.listID}`:`https://dreamcloud.netlify.com/#/t/${this.song.source}/${encodeURIComponent(this.song.artist)}/${this.song.trackID}`;this.$UTILS.share(t,this.song)?this.$store.commit("snack",{b:!0,c:"primary",s:"Link copied to clipboard"}):this.$store.commit("snack",{b:!0,c:"primary",s:"Opening share menu"}),setTimeout(()=>{this.color=""},2e3)}}},mi=pi,gi=Object(g["a"])(mi,di,hi,!1,null,null,null),vi=gi.exports;f()(gi,{VBtn:y["a"],VIcon:b["a"],VListTile:A["a"],VListTileTitle:V["c"],VTooltip:gs["a"]});var fi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inList?s("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.download(e)}}},[s("v-list-tile-title",[t._v("Download")])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.download(e)}},slot:"activator"},[s("v-icon",{attrs:{color:"primary"===t.color?"white":""}},[t._v("file_download")])],1),s("span",[t._v("Download")])],1)},yi=[],bi={name:"DownloadButton",props:{links:{type:[Array,Object],default(){return[]}},inList:{type:Boolean,default:!1}},data(){return{color:""}},methods:{download(){this.$emit("clicked"),this.$store.dispatch("snack",{b:!0,c:"primary",s:"Downloading"}),this.color="primary",setTimeout(()=>{this.color=""},2e3);for(const t in this.links)window.open(this.$DCPlayer.sBase+"v3/stream?t="+encodeURIComponent(this.links[t].title)+"&i="+encodeURIComponent(this.links[t].mp32),"_blank")}}},_i=bi,wi=Object(g["a"])(_i,fi,yi,!1,null,null,null),ki=wi.exports;f()(wi,{VBtn:y["a"],VIcon:b["a"],VListTile:A["a"],VListTileTitle:V["c"],VTooltip:gs["a"]});var xi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("playlist",{attrs:{songs:t.current_playlist,"show-uploaded":!0,"rows-per-page":250},on:{conmen:function(e){return t.$emit("conmen",e)}}})},$i=[],Ci={name:"C",components:{"delete-button":$["a"]},computed:Object(c["a"])({},Object(h["c"])({current_playlist:t=>t.player.current_playlist}))},Si=Ci,Ii=Object(g["a"])(Si,xi,$i,!1,null,null,null),Di=Ii.exports,Pi={name:"DcStage",watch:{current_trackID:{immediate:!0,handler:"trackChanged"}},components:{newTab:fs,current:Di,songComments:Gs,"artist-mini":Vs,relatedd:$s,related:Cs["default"],lyrics:si,"youtube-button":Us,"add-to-playlist":ui,"download-button":ki,"share-button":vi},data(){return{tab:1,bWide:!1,btnCol:"",description:"",iViews:""}},computed:Object(c["a"])({},Object(h["b"])({song:"current_song",current_trackID:"current_trackID",ytUseVideo:"ytUseVideo"}),{_description:{get(){return this.description?this.description:this.song.description},set(t){this.description=t}},stageBorderStyle(){return{"border-bottom":"1px solid "+this.$vuetify.theme.primary}},show(){return this.ytUseVideo&&this.$store.getters.isYT}}),methods:{trackChanged(){"auto"===this.$route.name&&this.$router.replace({name:"auto",params:{artist:this.$store.getters.current_song.artist,trackID:this.$store.getters.current_song.trackID,source:this.$store.getters.current_song.source}}),this.getDesc(),this.getPlays()},widescreen(){this.bWide=!(this.$store.state.user.drawLeft||this.$store.state.user.drawRight),this.$store.commit("drawRight",this.bWide),this.$store.commit("drawLeft",this.bWide)},btnFeedback(){this.btnCol="primary",setTimeout(()=>{this.btnCol=""},2e3)},fullscreen(){this.$UTILS.toggleFullscreen("pstr")},getPlays(){this.$DCAPI.getSongPlays(this.song.trackID,this.song.source,t=>{this.iViews=this.makeFriendly(t)})},intlFormat(t){return(new Intl.NumberFormat).format(Math.round(10*t)/10)},makeFriendly(t){return t>=1e6?this.intlFormat(t/1e6)+"M views":t>=1e3?this.intlFormat(t/1e3)+"k views":this.intlFormat(t)+" views"},timeToSeconds(t){return t?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},getDesc(){this.$store.getters.isYT?this.$DCAPI.getSongDescription(this.current_trackID,this.song.source,t=>{this.description=t.items[0].snippet.description.trim()}):this._description=this.song.description}}},Ti=Pi,Ai=(s("63e9"),s("71a3")),Vi=s("c671"),Li=s("fe57"),Oi=s("aac8"),Mi=s("9a96"),ji=Object(g["a"])(Ti,cs,us,!1,null,null,null),Bi=ji.exports;f()(ji,{VBtn:y["a"],VFlex:D["a"],VIcon:b["a"],VLayout:o["a"],VTab:Ai["a"],VTabItem:Vi["a"],VTabs:Li["a"],VTabsItems:Oi["a"],VTabsSlider:Mi["a"],VTooltip:gs["a"]});var Ui=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.bShowStage||!t.bShowStage&&t.show_pop&&t.$vuetify.breakpoint.smAndUp,expression:"bShowStage || (!bShowStage && show_pop && $vuetify.breakpoint.smAndUp)"}],staticClass:"pb-5 ma-0 pa-0",attrs:{row:"",wrap:""}},[s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.ytUseVideo&&t.isYT,expression:"ytUseVideo && isYT"}],attrs:{xs12:""}},[s("div",{class:t.videoClass},[s("div",{attrs:{id:"player"}})])]),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:!(t.ytUseVideo&&t.isYT)&&!t.show_pop,expression:"!(ytUseVideo && isYT) && !show_pop"}],staticClass:"nosel",attrs:{xs12:""},on:{click:function(e){return t.$DCPlayer.togglePlay()},contextmenu:function(e){return t.$emit("conmen",[e,[t.song]])}}},[s("div",{staticClass:"pstr-wrapper"},[s("div",{key:t.song.poster,style:{background:"center center no-repeat","background-image":"url("+t.song.posterLarge+")"},attrs:{id:"pstr"}})])]),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.bShowStage,expression:"bShowStage"}],attrs:{xs12:""}},[s("v-layout",{attrs:{id:"dc-padding",row:"",wrap:""}},[s("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[s("div",{staticClass:"title fwl text-xs-left"},[t._v(t._s(t.song.title))])]),s("v-flex",{staticClass:"stage-btns",style:t.stageBorderStyle,attrs:{xs12:""}},[s("div",{staticClass:"fl-l blue-grey--text text--lighten-1 mt-3"},[t._v("\n          "+t._s(t.iViews)+" â€¢ "+t._s(t.$DCAPI.calcDate("",t.song.uploaded))+"\n        ")]),s("div",{staticClass:"fl-r"},[s("youtube-button",{attrs:{slot:"activator"},slot:"activator"}),s("new-tab",{attrs:{song:t.song}}),t.$vuetify.breakpoint.lgAndUp?s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.toggleCC},slot:"activator"},[s("v-icon",{attrs:{color:t.cc?"white":"grey"}},[t._v("subtitles")])],1),s("span",[t._v("Subtitles")])],1):t._e(),s("share-button",{attrs:{song:t.song}}),s("download-button",{attrs:{links:[t.song]}}),s("add-to-playlist",{attrs:{song:t.song}}),t.$vuetify.breakpoint.lgAndUp?s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){return t.$store.commit("show_pop",!0)}},slot:"activator"},[s("v-icon",[t._v("picture_in_picture_alt")])],1),s("span",[t._v("Mini player")])],1):t._e(),s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.fullscreen},slot:"activator"},[s("v-icon",[t._v("fullscreen")])],1),s("span",[t._v("Fullscreen")])],1)],1)]),s("v-flex",{staticClass:"text-xs-left mt-3 song-meta",attrs:{xs12:"",lg8:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("artist-mini",{key:t.song.artistID,staticClass:"mr-3",attrs:{artistID:t.song.artistID,source:t.song.source,artist:t.song.artist}}),s("v-flex",{attrs:{xs10:""}},[s("div",{staticClass:"subheading"},[t._v(t._s(t.song.artist))]),s("div",{staticClass:"subheading fwl wordbreak preline",domProps:{innerHTML:t._s(t.timeToSeconds(t.description))}})])],1),s("v-tabs",{ref:"tabs",staticClass:"mt-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tabs-slider",{attrs:{color:"primary"}}),s("v-tab",[t._v("\n            Playlist\n          ")]),s("v-tab",[t._v("\n            Comments\n          ")]),s("v-tab",[t._v("\n            Lyrics\n          ")]),t.$vuetify.breakpoint.mdAndDown?s("v-tab",[t._v("\n            Related\n          ")]):t._e()],1),s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("playlist",{attrs:{songs:t.current_playlist,"rows-per-page":-1},on:{conmen:function(e){return t.$emit("conmen",e)}}})],1),s("v-tab-item",[s("songComments",{attrs:{trackID:t.song.trackID,source:t.song.source}})],1),s("v-tab-item",[s("lyrics",{attrs:{title:t.song.title,artist:t.song.artist}})],1),t.$vuetify.breakpoint.mdAndDown?s("v-tab-item",[s("related",{on:{conmen:function(e){return t.$emit("conmen",e)}}})],1):t._e()],1)],1),t.$vuetify.breakpoint.lgAndUp?s("relatedd",{on:{conmen:function(e){return t.$emit("conmen",e)}}}):t._e()],1)],1)],1)},Fi=[],Ei={name:"VideoStage",beforeCreate(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},watch:{trackID:{handler:function(t){t&&this.song&&(this.getPlays(),this.getDesc(),"auto"===this.$route.name&&this.$router.replace({name:"auto",params:{artist:this.song.artist,trackID:this.song.trackID,source:this.song.source}}),this.isYT&&this.ytUseVideo&&(this.ytObject.hasOwnProperty("loadVideoById")?this.ytObject.loadVideoById(this.trackID):this.ytBind(),this.$DCPlayer.eAudio.pause()))}}},components:{newTab:fs,current:Di,"artist-mini":Vs,"youtube-button":Us,related:Cs["default"],relatedd:$s,lyrics:si,songComments:Gs,"add-to-playlist":ui,"download-button":ki,"share-button":vi},computed:Object(c["a"])({},Object(h["c"])({bShowStage:t=>t.user.bShowStage,current_playlist:t=>t.player.current_playlist,show_pop_list:t=>t.player.show_pop_list,show_pop:t=>t.player.show_pop}),Object(h["b"])({song:"current_song",trackID:"current_trackID",ytUseVideo:"ytUseVideo",ytObject:"ytObject",showVideo:"showVideo",isYT:"isYT"}),{videoClass(){return{"video-wrapper":!this.show_pop,"pop-wrapper":this.show_pop,"pop-hi":this.show_pop&&this.show_pop_list}},stageBorderStyle(){return{"border-bottom":"1px solid "+this.$vuetify.theme.primary}}}),data(){return{tab:1,bWide:!1,btnCol:"",iViews:"",cc:!1,yt:"",interval:"",description:"",currentid:""}},destroyed(){clearInterval(this.interval)},methods:{btnFeedback(){this.btnCol="primary",setTimeout(()=>{this.btnCol=""},2e3)},getPlays(){this.$DCAPI.getSongPlays(this.trackID,this.song.source,t=>{this.iViews=this.makeFriendly(t)})},intlFormat(t){return(new Intl.NumberFormat).format(Math.round(10*t)/10)},makeFriendly(t){return t>=1e6?this.intlFormat(t/1e6)+"M views":t>=1e3?this.intlFormat(t/1e3)+"k views":this.intlFormat(t)+" views"},toggleCC(){this.cc=!this.cc,this.cc?this.yt.loadModule("captions"):this.yt.unloadModule("captions")},timeToSeconds(t){return t?this.ytUseVideo&&this.isYT?t.replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline pointer\" onClick=\"window.dcYT.seekTo('$&'.split(':').reduce((acc,time) => (60 * acc) + +time));\">$&</span>"):t.replace(/\n/g,"<br>").replace(/(?:(?:([01]?\d|2[0-3]):)?([0-5]?\d):)([0-5]?\d)/g,"<span class=\"underline\" onClick=\"document.getElementById('dc-audio').currentTime = '$&'.split(':').reduce((acc,time) => (60 * acc) + +time)\">$&</span>"):""},fullscreen(){this.$UTILS.toggleFullscreen("player")},getDesc(){this.isYT?setTimeout(()=>{this.$DCAPI.getSongDescription(this.trackID,this.song.source,t=>{this.description=t.items[0].snippet.description.trim()})},350):this.description=this.song.description},ytBind(){"undefined"!==typeof YT&&YT&&YT.Player?this.ytUseVideo&&(this.$DCPlayer.pause(),this.yt||(this.yt=new YT.Player("player",{width:"100%",height:"196",videoId:this.trackID,enablejsapi:1,playerVars:{autoplay:1,controls:0,color:"primary",showinfo:0,modestbranding:1,fs:0,cc_load_policy:1,iv_load_policy:3,rel:0,autohide:1},events:{onReady:this.ytReady,onStateChange:this.ytChanged,onApiChange:this.ytOnApiChange}}))):setTimeout(this.ytBind,100)},ytOnApiChange(){},ytReady(t){this.$store.commit("ytObject",t.target),this.ytObject.playVideo(),window.dcYT=this.yt},ytChanged(t){this.$store.commit("ytState",t.data),1===t.data?(this.$store.commit("ytDuration",this.ytObject.getDuration()),this.interval=setInterval(()=>{this.$store.commit("ytCurrentTime",this.ytObject.getCurrentTime())},500)):0===t.data?(clearInterval(this.interval),this.$store.commit("ytCurrentTime",0),this.$DCPlayer.next(),this.$DCFB.historyPush(this.song)):clearInterval(this.interval)}}},Ri=Ei,Qi=(s("75eb"),Object(g["a"])(Ri,Ui,Fi,!1,null,null,null)),Yi=Qi.exports;f()(Qi,{VBtn:y["a"],VFlex:D["a"],VIcon:b["a"],VLayout:o["a"],VTab:Ai["a"],VTabItem:Vi["a"],VTabs:Li["a"],VTabsItems:Oi["a"],VTabsSlider:Mi["a"],VTooltip:gs["a"]});var Ni=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"",wrap:""}},["2"!=t.view_mode||t.gridView?t._e():s("list",{attrs:{songs:t.aSongs,full:t.full,"rows-per-page":t.rowsPerPage,"sort-by":t.sortBy,bMini:!0},on:{toggleView:t.toggleView,shuffleOn:t.shuffle,shuffleOff:t.shuffleOff,conmen:function(e){return t.$emit("conmen",e)}}}),"1"!=t.view_mode||t.gridView?t._e():s("list",{attrs:{songs:t.aSongs,full:t.full,"rows-per-page":t.rowsPerPage,"sort-by":t.sortBy},on:{toggleView:t.toggleView,shuffleOn:t.shuffle,shuffleOff:t.shuffleOff,conmen:function(e){return t.$emit("conmen",e)}}}),"0"!=t.view_mode||t.gridView?t._e():s("grid",{attrs:{songs:t.aSongs,full:t.full,"rows-per-page":t.rowsPerPage,"sort-by":t.sortBy,"show-uploaded":t.showUploaded},on:{toggleView:t.toggleView,shuffleOn:t.shuffle,shuffleOff:t.shuffleOff,conmen:function(e){return t.$emit("conmen",e)}}})],1)},Hi=[],qi=(s("55dd"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:""}},[s("v-card",{staticClass:"elevation-0"},[t.full?s("v-card-title",{staticClass:"ma-0 pa-0"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-xs-left mt-2",attrs:{shrink:""}},[s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelect=!t.bSelect}},slot:"activator"},[s("v-icon",{attrs:{color:t.bSelect?"primary":""}},[t._v("check_box")])],1),s("span",[t._v("Select multiple songs")])],1),s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){return t.$emit("toggleView")}},slot:"activator"},[s("v-icon",[t._v(t._s(t.view_mode?"view_module":"view_list"))])],1),s("span",[t._v("Change view")])],1),s("shuffle-button",{attrs:{songs:t.songs},on:{shuffleOn:function(e){return t.$emit("shuffleOn",e)},shuffleOff:function(e){return t.$emit("shuffleOff")}}}),s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.search.length>0?t.search="":t.$refs.search.focus()}},slot:"activator"},[s("v-icon",[t._v(t._s(t.search.length>0?"clear":"filter_list"))])],1),s("span",[t._v("Filter")])],1)],1),s("v-flex",{attrs:{xs4:"",lg8:""}},[s("v-text-field",{ref:"search",attrs:{id:"flr-txt",color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.bSelect?s("v-flex",{staticClass:"text-xs-left",attrs:{xs12:"",lg12:""}},[s("v-tooltip",{attrs:{slot:"activator",top:""},slot:"activator"},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelectAll=!t.bSelectAll,t.bSelectAll?t.selected=Object.assign([],t.sorted):t.selected=[]}},slot:"activator"},[s("v-icon",{attrs:{color:t.selected.length===t.filterLength?"primary":""}},[t._v("done_all")])],1),s("span",[t._v("Select all")])],1),s("download-button",{attrs:{dis:0==t.selected.length,links:t.selected}}),t.$route.params.playlist?s("delete-button",{attrs:{disabled:0==t.selected.length},on:{delete:t.removeList}}):t._e(),s("add-to-playlist",{key:"multi",attrs:{disabled:0==t.selected.length,song:t.selected}}),s("v-flex",{attrs:{"d-inline-flex":""}},[t._v(t._s(t.selected.length)+" of "+t._s(t.filterLength))])],1):t._e()],1)],1):t._e(),s("v-container",{staticClass:"pa-0",attrs:{"grid-list-lg":"",fluid:""}},[s("v-data-iterator",{ref:"dItera",attrs:{headers:t.headers,items:t.songs,pagination:t.pagination,"rows-per-page-items":[24,50,100,{text:"All",value:-1}],search:t.search,"hide-actions":!t.full,"content-class":"pa-0 ma-0","content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return s("v-flex",{attrs:{xs12:"",md4:"",lg2:""},on:{click:function(s){s.stopPropagation(),e.item.trackID?e.item.listID?t.$router.push({name:"channelPlaylist",params:{listID:e.item.listID,artistID:e.item.artistID,title:e.item.title,source:e.item.source}}):t.bSelect?t.checkItem(e.item):t.play(e.index,!t.showVideo,t.isPlaying(e.item.trackID)):t.$router.push({name:"artist",params:{source:e.item.source,artist:e.item.title,artistID:e.item.artistID}})}}},[s("v-card",{staticClass:"dc-crd ma-0 pa-0 pointer outline",on:{contextmenu:function(s){e.item.trackID&&t.$emit("conmen",[s,t.bSelect?t.selected:[e.item]])}}},[s("v-img",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.item.posterLarge,expression:"props.item.posterLarge",arg:"background-image"}],key:e.item.trackID,staticClass:"fillPlace noSel",attrs:{"aspect-ratio":t.aspect}},[e.item.trackID&&t.isPlaying(e.item.trackID)?s("div",{staticClass:"d-flex text-xs-center v-card--reveal",staticStyle:{height:"100%"}},[s("div",[s("v-btn",{attrs:{loading:t.$store.getters.isLoading&&t.isPlaying(e.item.trackID),dark:"",icon:"",large:"",color:"primary"},on:{click:function(s){return s.stopPropagation(),t.play(e.index)}}},[s("v-icon",[t._v(t._s(t.$store.getters.isPlaying&&t.isPlaying(e.item.trackID)?"pause":"play_arrow"))])],1)],1)]):t._e()]),s("v-card-title",{staticClass:"pa-0"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs10:""}},[s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.bSelect,expression:"bSelect"}],staticClass:"chkbx pa-1",on:{click:function(t){t.stopPropagation()}}},[s("v-checkbox",{attrs:{value:e.item,"hide-details":"",color:"primary"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),s("v-flex",{staticClass:"text-xs-left body-2 grd-txt pa-0 pt-1 wordbreak",domProps:{textContent:t._s(e.item.title)}}),"artist"!==t.$route.name&&e.item.trackID||e.item.listID?s("v-flex",{staticClass:"text-xs-left pa-0 pt-1 wordbreak",on:{click:function(s){s.stopPropagation(),t.bSelect?t.checkItem(e.item):t.$router.push({name:"artist",params:{source:e.item.source,artist:e.item.artist,artistID:e.item.artistID}})}}},[s("router-link",{staticClass:"noDeco artist",attrs:{to:{name:"artist",params:{source:e.item.source,artist:e.item.artist,artistID:e.item.artistID}}}},[t._v("\n                      "+t._s(e.item.artist)+"\n                    ")])],1):t._e(),t.$route.params.artistID||t.showUploaded?s("v-flex",{staticClass:"text-xs-left grey--text grd-txt pa-0 pt-1"},[t._v("\n                    "+t._s(e.item.uploaded?t.$DCAPI.calcDate(!1,e.item.uploaded):"")+t._s(e.item.duration?" â€¢ "+e.item.duration:"")+"\n                  ")]):t._e()],1),s("v-flex",{staticClass:"ma-0 pa-0 pt-2",attrs:{xs2:""},on:{click:function(t){t.stopPropagation()}}},[s("v-btn",{staticClass:"men fl-r ma-0 pa-0 mt-1",attrs:{icon:"",small:""},on:{click:function(s){return t.$emit("conmen",[s,t.bSelect?t.selected:[e.item]])}}},[s("v-icon",[t._v("more_vert")])],1)],1)],1)],1)],1)],1)}}])},[s("template",{slot:"no-data"},[s("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},t._l(36,function(e){return s("v-flex",{key:e,staticClass:"ma-0",attrs:{xs12:"",sm6:"",md4:"",lg2:"",xl2:""},on:{contextmenu:function(t){return t.preventDefault()}}},[s("v-card",{staticClass:"dc-crd ma-0 pa-0 pointer"},[s("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect||1}},[s("v-layout",{staticClass:"grey--text",attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"})],1),s("v-card-title",{staticClass:"pa-0"},[s("v-flex",{staticClass:"dumTitle fillPlace pa-0 pt-1",attrs:{xs10:""}}),s("v-flex",{staticClass:"dumDate fillPlace pa-0 pt-1",attrs:{xs4:""}})],1)],1)],1)}),1)],1)],2)],1)],1)],1)}),Ki=[],zi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.toggle},slot:"activator"},[s("v-icon",{attrs:{color:t.color}},[t._v("shuffle")])],1),s("span",[t._v(" "+t._s(t.bShuffle?"Unshuffle":"Shuffle"))])],1)},Wi=[],Gi={name:"ShuffleButton",props:{songs:{type:[Array],required:!0}},watch:{songs:{handler:"songsChanged"}},data:function(){return{aShuffled:[],aUnshuffled:[]}},computed:Object(c["a"])({},Object(h["b"])({bShuffle:"bShuffled"}),{color(){return this.bShuffle?"primary":""}}),methods:{songsChanged(t){this.aShuffled.length>0&&t[0].trackID!==this.aShuffled[0].trackID?this.$store.commit("bShuffled",!1):this.aUnshuffled=this.aShuffled},toggle(){this.$store.commit("bShuffled",!this.bShuffle),this.bShuffle?(this.aShuffled=this.shuffle(this.songs),this.$store.commit("aShuffled",this.aShuffled),this.$emit("shuffleOn",this.aShuffled)):this.$emit("shuffleOff")},shuffle(t){let e=Object.assign([],t);for(var s=0;s<e.length-1;s++){var i=s+Math.floor(Math.random()*(e.length-s)),a=e[i];e[i]=e[s],e[s]=a}return e}}},Ji=Gi,Xi=Object(g["a"])(Ji,zi,Wi,!1,null,null,null),Zi=Xi.exports;f()(Xi,{VBtn:y["a"],VIcon:b["a"],VTooltip:gs["a"]});var ta={name:"Grid",props:{songs:{type:Array,default(){return[]}},sortBy:{type:[String],default:""},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0},showUploaded:{type:[Boolean],default:!1}},components:{"add-to-playlist":ui,"delete-button":$["a"],"download-button":ki,shuffleButton:Zi},watch:{rowsPerPage:function(t){this.pagination.rowsPerPage=t}},data(){return{chosenSong:[],dialog:!1,bShow:!1,filterHasFocus:!1,bSelectAll:!1,bSelect:!1,selected:[],search:"",today:new Date,loading:!1,pagination:{rowsPerPage:this.rowsPerPage},items:this.songs,headers:[{text:"Title",value:"title",align:"left"},{text:"Artist",value:"artist",align:"left"},{text:"Date",value:"uploaded",align:"left"},{text:"Source",value:"source",align:"left"},{text:"Duration",value:"duration",align:"left"}]}},computed:Object(c["a"])({},Object(h["c"])({view_mode:t=>t.user.view_mode,index:t=>t.player.current_index}),Object(h["b"])({current_trackID:"current_trackID",showVideo:"showVideo",hash:"hash",current_song:"current_song",isYT:"isYT"}),{aspect(){return"artist"===this.$route.name&&"YouTube"!==this.$route.params.source?1:16/9},filterLength(){return this.search.length&&this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems.length:this.songs.length},sorted(){if(-1!==this.$refs.dItera.pagination.rowsPerPage&&this.songs.length>this.$refs.dItera.pagination.rowsPerPage){var t=this.$refs.dItera.pagination.rowsPerPage;this.$refs.dItera.pagination.rowsPerPage=-1;var e=Object.assign([],this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems:this.songs);return this.$refs.dItera.pagination.rowsPerPage=t,e}return Object.assign([],this.$refs.dItera.filteredItems.length?this.$refs.dItera.filteredItems:this.songs)}}),methods:{cardColor(t){return this.bSelect?this.selected.some(e=>e===t.item)?"primary":"":this.isPlaying(t.item.trackID)?"primary white--text":""},checkItem(t){var e=!1;for(let s=this.selected.length-1;s>=0;s--)this.selected[s]===t&&(this.selected.splice(s,1),e=!0);e||this.selected.push(t)},isPlaying(t){return t===this.current_trackID},remove(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},removeList(){for(const t in this.selected)this.remove(this.selected[t].key);this.selected=[]},play(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.sorted[t].trackID==this.$store.getters.current_song.trackID;-1===this.$store.state.player.current_index&&this.$UTILS.isMobile&&this.$DCPlayer.eAudio.play();let a=1===this.pagination.page?t:this.pagination.rowsPerPage*(this.pagination.page-1)+t;if(s)return this.$router.push({name:"auto",params:{artist:this.sorted[a].artist,trackID:this.sorted[a].trackID,source:this.sorted[a].source}});if(e&&i)return this.$DCPlayer.togglePlay();let r=Object.assign([],this.sorted);this.$DCPlayer.setNPlay(r,a),this.$store.commit("setNPlay",{songs:r,current:a,path:this.$route.path}),this.$DCFB.historyPush(r[a]),(s||this.showVideo)&&this.$router.push({name:"auto",params:{artist:r[a].artist,trackID:r[a].trackID,source:r[a].source}})}}},ea=ta,sa=(s("e343"),s("ac7c")),ia=Object(g["a"])(ea,qi,Ki,!1,null,null,null),aa=ia.exports;f()(ia,{VBtn:y["a"],VCard:I["a"],VCardTitle:Bt["a"],VCheckbox:sa["a"],VContainer:Se["a"],VDataIterator:Kt["a"],VFlex:D["a"],VIcon:b["a"],VImg:P["a"],VLayout:o["a"],VTextField:Wt["a"],VTooltip:gs["a"]});var ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:""}},[s("v-card",{staticClass:"elevation-0"},[t.full?s("v-card-title",{staticClass:"ma-0 pa-0"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-xs-left mt-2",attrs:{shrink:""}},[s("v-tooltip",{attrs:{top:""}},[t.$store.state.user.auth_state?s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelect=!t.bSelect,t.bSelect?t.headers.unshift({class:"ma-0",width:"10px",text:"",value:"",align:"left",sortable:!1}):t.headers.shift()}},slot:"activator"},[s("v-icon",{attrs:{color:t.bSelect?"primary":""}},[t._v("check_box")])],1):t._e(),s("span",[t._v("Select multiple songs")])],1),s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){return t.$emit("toggleView")}},slot:"activator"},[s("v-icon",[t._v(t._s(t.view_mode?"view_module":"view_list"))])],1),s("span",[t._v("Change view")])],1),s("shuffle-button",{attrs:{songs:t.songs},on:{shuffleOn:function(e){return t.$emit("shuffleOn",e)},shuffleOff:function(e){return t.$emit("shuffleOff")}}}),s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.search.length>0?t.search="":t.$refs.search.focus()}},slot:"activator"},[s("v-icon",[t._v(t._s(t.search.length>0?"clear":"filter_list"))])],1),s("span",[t._v("Filter")])],1)],1),s("v-flex",{attrs:{xs4:"",lg5:""}},[s("v-text-field",{ref:"search",attrs:{id:"flr-txt",color:"primary",label:"Filter","single-line":"","hide-details":""},on:{focus:function(e){t.filterHasFocus=!0},blur:function(e){t.filterHasFocus=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$UTILS.closeSoftMobi()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.bSelect?s("v-flex",{staticClass:"text-xs-left",attrs:{xs8:"",lg12:""}},[s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){t.bSelectAll=!t.bSelectAll,t.bSelectAll?t.selected=t.sorted:t.selected=[]}},slot:"activator"},[s("v-icon",{attrs:{color:t.selected.length===t.filterLength?"primary":""}},[t._v("done_all")])],1),s("span",[t._v("Select all")])],1),s("download-button",{attrs:{dis:0==t.selected.length,links:t.selected}}),t.$route.params.playlist?s("delete-button",{attrs:{disabled:0==t.selected.length},on:{delete:t.removeList}}):t._e(),s("add-to-playlist",{key:"multi",attrs:{disabled:0==t.selected.length,song:t.selected}}),s("v-flex",{attrs:{"d-inline-flex":""}},[t._v(t._s(t.selected.length)+" of "+t._s(t.filterLength))])],1):t._e()],1)],1):t._e(),s("v-data-table",{ref:"dtable",staticClass:"dtable",attrs:{headers:t.headers,items:t.songs,"item-key":t.itemKey,pagination:t.pagination,"rows-per-page-items":[25,50,100,{text:"All",value:-1}],search:t.search},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{key:e.index,staticClass:"mb-3 pointer wordbreak'",class:t.isPlaying(e.item.trackID)?"primary white--text text-xs-left pa-0 ma-0":"text-xs-left pa-0 ma-0",attrs:{id:t.bSelect?"noSel":""},on:{click:function(s){s.stopPropagation(),e.item.trackID?e.item.listID?t.$router.push({name:"channelPlaylist",params:{listID:e.item.listID,artistID:e.item.artistID,title:e.item.title,source:e.item.source}}):t.bSelect?t.checkItem(e.item):t.play(e.index,!t.showVideo,t.isPlaying(e.item.trackID)):t.$router.push({name:"artist",params:{source:e.item.source,artist:e.item.title,artistID:e.item.artistID}})},contextmenu:function(s){e.item.trackID&&t.$emit("conmen",[s,t.bSelect?t.selected:[e.item]])}}},[t.bSelect?s("td",[s("v-checkbox",{attrs:{value:e.item,"hide-details":"",color:"primary"},on:{click:function(t){t.stopPropagation()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1):t._e(),t.bMini?t._e():s("td",{staticClass:"pa-2"},[e.item.trackID?s("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect,src:e.item.posterLarge,"align-end":"","justify-end":"","fill-height":""}},[t.$vuetify.breakpoint.mdAndUp&&t.isPlaying(e.item.trackID)?s("div",{staticClass:"d-flex text-xs-center v-card--reveal",staticStyle:{height:"100%"}},[s("div",[s("v-btn",{attrs:{loading:t.$store.getters.isLoading&&t.isPlaying(e.item.trackID),icon:"",outline:"",dark:"",color:"primary white--text"},on:{click:function(s){return s.stopPropagation(),t.play(e.index)}}},[s("v-icon",{staticClass:"white--text"},[t._v(t._s(t.$store.getters.isPlaying&&t.isPlaying(e.item.trackID)?"pause":"play_arrow"))])],1)],1)]):t._e()]):t._e()],1),s("td",{staticClass:"text-xs-left pl-1",attrs:{colspan:t.$route.params.artistID?"2":"3"}},[s("div",{staticClass:"body-1 wordbreak",domProps:{textContent:t._s(e.item.title)}}),s("div",{staticClass:"ma-0 pa-0",class:t.isPlaying(e.item.trackID)?"white-text":"grey--text"},[t.$route.params.artistID||t.bSelect||t.$UTILS.isMobile?t.bSelect||!t.$UTILS.isMobile?s("span",{class:t.isPlaying(e.item.trackID)?"white-text":"grey--text"},[t._v(t._s(e.item.artist)+" â€¢ ")]):t._e():s("a",{staticClass:"noDeco",class:t.isPlaying(e.item.trackID)?"white-text":"grey--text",attrs:{href:t.shareArtistURL(e.item)},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(e.item.artist)+" â€¢ ")]),s("span",[t._v(t._s(t.date(e.item.uploaded))+" â€¢ "+t._s(e.item.duration))])])]),!t.bSelect&&e.item.trackID?s("td",{on:{click:function(t){t.stopPropagation()}}},[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(s){return s.stopPropagation(),t.$emit("conmen",[s,t.bSelect?t.selected:[e.item]])}}},[s("v-icon",[t._v("more_vert")])],1)],1):t._e()])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("template",{slot:"no-data"},t._l(36,function(e){return s("tr",{key:e},[t.bMini?t._e():s("td",{staticClass:"pa-2"},[s("v-img",{staticClass:"fillPlace",attrs:{"aspect-ratio":t.aspect,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}},[s("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":"","grey--text":""},slot:"placeholder"})],1)],1),s("td",{staticClass:"text-xs-left pa-0 ma-0 body-1",staticStyle:{"padding-left":"42px !important"}},[t._v("\n            Loading\n          ")]),t.$route.params.artistID?t._e():s("td",{staticClass:"fillPlace1 dumTd "}),s("td",{staticClass:"fillPlace1"}),s("td",{staticClass:"fillPlace1"}),s("td"),t.bMini?s("td",{staticClass:"fillPlace1 dumTd"},[s("v-btn",{attrs:{icon:"",small:""}},[s("v-icon",[t._v("more_vert")])],1)],1):t._e()])}),0)],2)],1)],1)},oa=[],na=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inList?s("v-list-tile",{attrs:{disabled:t.disabled,id:t.trackID,ripple:""},on:{click:function(e){return e.stopPropagation(),t.toggleOffline(e)}}},[s("v-list-tile-title",[t._v("Save offline")])],1):s("v-btn",{attrs:{disabled:t.disabled,loading:t.loading,icon:""},on:{click:function(e){return e.stopPropagation(),t.toggleOffline(e)}}},[s("v-icon",{attrs:{color:t.btnColor}},[t._v(t._s(t.btnIcon))])],1)},la=[],ca={name:"offline-button",props:["link1","link2","trackID"],props:{link1:{type:String,default:""},link2:{type:String,default:""},trackID:[String,Number],inList:Boolean},watch:{trackID:{immediate:!0,handler:"checkOfflineStatus"}},data:function(){return{status:!1,loading:!1,disabled:!1}},methods:{downloadAudio(t){return new Promise((e,s)=>{var i=document.createElement("audio");i.oncanplaythrough=(()=>{e()}),i.oncanplay=(()=>{e()}),i.onerror=(()=>{e()}),i.style.display="none",i.id=i.name=t,i.src=t,i.preload="auto",document.body.appendChild(i)})},toggleOffline(){this.$emit("clicked"),this.loading||(this.loading=!0,this.status?this.offlineOff():this.offlineOn())},offlineOn(){-1===this.link1.indexOf("soundcloud")?this.$DCPlayer.getAudio(this.link1,t=>{this.downloadAudio(t).then(()=>{this.loading=!1,this.checkOfflineStatus()})}):this.downloadAudio(this.link2).then(()=>{this.loading=!1,this.checkOfflineStatus()})},offlineOff(){"caches"in window?window.caches.open("song-cache").then(t=>{this.$DCPlayer.getAudio(this.link1,e=>{t.delete(e),t.delete(this.c_link).then(()=>{this.checkOfflineStatus()})})}):this.disabled=!0},checkOfflineStatus(){"caches"in window?window.caches.open("song-cache").then(t=>{t.match(this.c_link).then(t=>{this.status="object"===typeof t,this.loading=!1})}):this.disabled=!0}},computed:{btnColor(){return this.status?"green":""},btnIcon(){return this.status?"offline_pin":"offline_bolt"},isSc(){return this.link1.indexOf("soundcloud")>-1},c_link(){return this.isSc?this.link2:"https://www.saveoffline.com/process/?type=audio&url="+this.link1}}},ua=ca,da=Object(g["a"])(ua,na,la,!1,null,null,null),ha=da.exports;f()(da,{VBtn:y["a"],VIcon:b["a"],VListTile:A["a"],VListTileTitle:V["c"]});var pa={name:"List",props:{songs:{type:[Array],required:!0},bMini:{type:[Boolean],default:!1},sortBy:{type:[String],default:""},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0}},components:{"add-to-playlist":ui,"delete-button":$["a"],"download-button":ki,"share-button":vi,shuffleButton:Zi,offlineButton:ha},data(){return{chosenSong:[],dialog:!1,bSelectAll:!1,filterHasFocus:!1,itemKey:"mp32",bSelect:!1,selected:[],pagination:{sortBy:this.sortBy,rowsPerPage:this.rowsPerPage,descending:!0},search:"",today:new Date}},created(){this.itemKey=this.$route.params.playlist?"key":"trackID"},computed:Object(c["a"])({},Object(h["c"])({view_mode:t=>t.user.view_mode}),Object(h["b"])({showVideo:"showVideo"}),{headers(){return this.$route.params.artistID?[{text:"Title",value:"title",align:"left",class:"ma-0",width:this.bMini?"95%":"15%"},{text:"Duration",value:"duration",align:"left",class:"ma-0",width:"0px"},{text:"Date",value:"uploaded",align:"left",class:"ma-0",width:"0px"},{text:"Description",value:"description",align:"left",class:"hidden",width:"0px"}]:[{text:"Title",value:"title",align:"left",class:"ma-0",width:this.bMini?"95%":"15%"},{text:"Artist",value:"artist",align:"left",class:"ma-0 pa-0"},{text:"Duration",value:"duration",align:"left"},{text:"Date",value:"uploaded",align:"left",class:"ma-0 pa-0"},{text:"Description",value:"description",align:"left",class:"hidden"}]},aspect(){return"artist"===this.$route.name&&"YouTube"!==this.$route.params.source?1:16/9},sorted(){if(-1!==this.$refs.dtable.pagination.rowsPerPage&&this.songs.length>this.$refs.dtable.pagination.rowsPerPage){var t=this.$refs.dtable.pagination.rowsPerPage;this.$refs.dtable.pagination.rowsPerPage=-1;var e=Object.assign([],this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems:this.songs);return this.$refs.dtable.pagination.rowsPerPage=t,e}return Object.assign([],this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems:this.songs)},artistID(){return"/#/a/"+this.song.source+"/"+this.song.artist+"/"+this.song.artistID},filterLength(){return this.search.length&&this.$refs.dtable.filteredItems.length?this.$refs.dtable.filteredItems.length:this.songs.length}}),methods:{checkItem(t){var e=!1;for(let s=this.selected.length-1;s>=0;s--)this.selected[s]===t&&(this.selected.splice(s,1),e=!0);e||this.selected.push(t)},addSong(t){return this.bSelect&&this.selected.length?this.selected:t},remove(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},removeList(){for(const t in this.selected)this.remove(this.selected[t].key);this.selected=[]},shareArtistURL(t){return"#/a/"+t.source+"/"+encodeURIComponent(t.artist)+"/"+t.artistID},isPlaying(t){if(-1!==this.$store.state.player.current_index)return this.$store.getters.current_trackID===t},date(t){return this.$DCAPI.calcDate(this.today,t)},play(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];-1===this.$store.state.player.current_index&&this.$UTILS.isMobile&&this.$DCPlayer.eAudio.play();let i=1===this.pagination.page?t:this.pagination.rowsPerPage*(this.pagination.page-1)+t,a=this.sorted[i].trackID==this.$store.getters.current_song.trackID;if(e&&a)return this.$DCPlayer.togglePlay();let r=Object.assign([],this.sorted);this.$DCPlayer.setNPlay(r,i),this.$store.commit("setNPlay",{songs:r,current:i,path:this.$route.path}),this.$DCFB.historyPush(r[i]),(s||this.showVideo)&&this.$router.push({name:"auto",params:{artist:r[i].artist,trackID:r[i].trackID,source:r[i].source}})}}},ma=pa,ga=(s("545c"),s("8fea")),va=Object(g["a"])(ma,ra,oa,!1,null,null,null),fa=va.exports;f()(va,{VBtn:y["a"],VCard:I["a"],VCardTitle:Bt["a"],VCheckbox:sa["a"],VDataTable:ga["a"],VFlex:D["a"],VIcon:b["a"],VImg:P["a"],VLayout:o["a"],VTextField:Wt["a"],VTooltip:gs["a"]});var ya={name:"Playlist",props:{songs:{type:[Array],required:!0},gridView:{type:[Boolean],default:!1},rowsPerPage:{type:[Number,String],default:10},full:{type:[Boolean],default:!0},sortBy:{type:[String],default:""},showUploaded:{type:[Boolean],default:!1}},components:{grid:aa,list:fa},data(){return{showScrollToTop:!1,aSongs:this.songs}},watch:{songs:{handler:"shuffleOff"}},computed:Object(c["a"])({},Object(h["c"])({view_mode:t=>t.user.view_mode})),methods:{shuffleOff(){this.aSongs=this.songs},shuffle(t){this.aSongs=t},sort(){this.aSongs.sort(this.$DCAPI.sortDate)},toggleView(){this.$store.commit("view_mode_toggle")}}},ba=ya,_a=(s("8b42"),Object(g["a"])(ba,Ni,Hi,!1,null,null,null)),wa=_a.exports;f()(_a,{VLayout:o["a"]});var ka=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-menu",{attrs:{"position-x":t.x,"position-y":t.y,absolute:"","offset-y":""},model:{value:t.b,callback:function(e){t.b=e},expression:"b"}},[s("v-list",[s("add-to-playlist",{attrs:{song:t.a,"in-list":""},on:{clicked:function(e){t.b=!1}}}),s("add-to-queue",{attrs:{song:t.a,"in-list":""},on:{clicked:function(e){t.b=!1}}}),s("v-divider"),t.a.length&&"artist"!=t.$route.name&&t.$route.params.artistID!=t.a[0].artistID?s("go-to-artist",{attrs:{song:t.a}}):t._e(),s("related",{attrs:{song:t.a[0]},nativeOn:{clicked:function(e){t.b=!1}}}),s("v-divider"),s("new-tab",{attrs:{song:t.a[0],"in-list":""},on:{clicked:function(e){t.b=!1}}}),s("share-button",{attrs:{song:t.a[0],"in-list":""},on:{clicked:function(e){t.b=!1}}}),s("download-button",{attrs:{links:t.a,"in-list":""},on:{clicked:function(e){t.b=!1}}}),s("offlineButton",{attrs:{link1:t.a.mp32,link2:t.a.mp3,"track-id":t.a.trackID,"in-list":""},on:{clicked:function(e){t.b=!1}}}),t.a.length&&t.a[0].key?s("v-divider"):t._e(),t.a.length&&t.a[0].key?s("delete-button",{attrs:{"in-list":!0,id:t.a[0].key},on:{delete:function(e){return t.deleteList(t.a)}}}):t._e()],1)],1)},xa=[],$a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inList?s("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.add(e)}}},[s("v-list-tile-title",[t._v("Add to queue")])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(e){return e.stopPropagation(),t.add(e)}},slot:"activator"},[s("v-icon",[t._v("\n      add_to_queue\n    ")])],1),s("span",[t._v(t._s(t.t))])],1)},Ca=[],Sa={name:"AddToQueue",props:{song:{type:[Object,Array],default(){return{}}},inList:{type:Boolean,default(){return!1}}},data(){return{c:"",t:"Add to queue"}},methods:{add(){this.$emit("clicked");let t=Array.isArray(this.song)?this.song:[this.song],e=[...this.$store.state.player.current_playlist,...t];this.c="green",this.$store.dispatch("snack",{b:!0,c:"primary",s:"Added to queue"}),-1===this.$store.state.player.current_index?(this.$store.commit("setNPlay",{songs:t,current:0,path:this.$route.path}),this.$DCPlayer.setPlaylist(e)):(this.$store.commit("current_playlist",e),this.$DCPlayer.setPlaylist(e))}}},Ia=Sa,Da=Object(g["a"])(Ia,$a,Ca,!1,null,null,null),Pa=Da.exports;f()(Da,{VBtn:y["a"],VIcon:b["a"],VListTile:A["a"],VListTileTitle:V["c"],VTooltip:gs["a"]});var Ta=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-tile",{attrs:{to:{name:"artist",params:{source:t.song[0].source,artist:t.song[0].artist,artistID:t.song[0].artistID}},ripple:""}},[s("v-list-tile-title",{class:t.$store.getters.textColor},[t._v("Go to artist")])],1)},Aa=[],Va={name:"GoToArtist",props:{song:{type:[Array],default(){return[[{source:"",artist:"",artistID:""}]]}}}},La=Va,Oa=Object(g["a"])(La,Ta,Aa,!1,null,null,null),Ma=Oa.exports;f()(Oa,{VListTile:A["a"],VListTileTitle:V["c"]});var ja=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasList?t._e():s("v-list-tile",{attrs:{ripple:""},on:{click:function(e){return e.stopPropagation(),t.open(e)}}},[s("v-list-tile-title",[t._v("Go to related")])],1)},Ba=[],Ua={name:"NewTab",props:{song:{type:[Object,Array],default:function(){return{trackID:null,artistID:null,artist:null}}}},computed:{hasList(){return this.song.hasOwnProperty("listID")}},methods:{open(){this.$router.push({name:"related",params:{source:this.song.source,trackID:this.song.trackID,artistID:this.song.artistID,artist:this.song.artist,title:this.song.title}})}}},Fa=Ua,Ea=Object(g["a"])(Fa,ja,Ba,!1,null,null,null),Ra=Ea.exports;f()(Ea,{VListTile:A["a"],VListTileTitle:V["c"]});var Qa={components:{related:Ra,newTab:fs,"add-to-queue":Pa,offlineButton:ha,"add-to-playlist":ui,"delete-button":$["a"],"download-button":ki,"share-button":vi,"go-to-artist":Ma},data(){return{b:!1,a:[],x:0,y:0}},methods:{delete(t){this.$DCFB.playlistSongDelete(this.$route.params.playlist,t)},deleteList(){for(const t in this.a)this.delete(this.a[t].key)},show(t,e){t.preventDefault(),this.b=!0,this.x=t.clientX,this.y=t.clientY,setTimeout(()=>{this.a=e,this.$store.getters.closeMenuOnScroll&&document.addEventListener("scroll",this.scroll)})},scroll(){this.b=!1,document.removeEventListener("scroll",this.scroll)}}},Ya=Qa,Na=Object(g["a"])(Ya,ka,xa,!1,null,null,null),Ha=Na.exports;f()(Na,{VDivider:q["a"],VList:T["a"],VMenu:z["a"]});var qa=s("283e"),Ka=s.n(qa);i["a"].config.productionTip=!1,i["a"].use(r["a"],{components:{VLayout:o["a"]}}),s.e("chunk-76d4c477").then(s.t.bind(null,"5b23",7)),i["a"].use(Ke),i["a"].use(Xe),i["a"].use(Ze),i["a"].use(as),i["a"].use(os.a),i["a"].use(ls.a),i["a"].component("audio-stage",Bi),i["a"].component("video-stage",Yi),i["a"].component("playlist",wa),i["a"].component("context-menu",Ha),i["a"].use(r["a"],{theme:{primary:"#009688"}}),window.popStateDetected=!1,window.addEventListener("popstate",()=>{window.popStateDetected=!0}),i["a"].use(Ka.a,{error:"dist/img/no-image.png",observer:!0,observerOptions:{rootMargin:"0px",threshold:.1}}),new i["a"]({router:qe,store:Ye,render:t=>t(Oe)}).$mount("#app")},"63e9":function(t,e,s){"use strict";var i=s("7651"),a=s.n(i);a.a},6943:function(t,e,s){"use strict";var i=s("45dc"),a=s.n(i);a.a},"6a69":function(t,e,s){"use strict";var i=s("a2ed"),a=s.n(i);a.a},"6c99":function(t,e,s){"use strict";var i=s("c71d"),a=s.n(i);a.a},"75eb":function(t,e,s){"use strict";var i=s("1c55"),a=s.n(i);a.a},7651:function(t,e,s){},"7b04":function(t,e,s){"use strict";var i=s("a47f"),a=s.n(i);a.a},8354:function(t,e,s){"use strict";var i=s("9feb"),a=s.n(i);a.a},"86a5":function(t,e,s){"use strict";var i=s("2acc"),a=s.n(i);a.a},8808:function(t,e,s){"use strict";var i=s("a3fe"),a=s.n(i);a.a},"883e":function(t,e,s){},"8a7b":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.inList?s("v-list-tile",{class:t.color,attrs:{ripple:""},on:{"!click":function(e){return t.emitDelete(e)},mouseleave:function(e){t.clicks=t.clickedTwice?2:0}}},[s("v-list-tile-title",[t._v(t._s(t.dlTxt))])],1):s("v-tooltip",{attrs:{top:""}},[s("v-btn",t._b({staticClass:"del-btn",attrs:{slot:"activator",color:t.color,icon:""},on:{click:function(e){return e.stopPropagation(),t.emitDelete(e)},mouseleave:function(e){t.clicks=t.clickedTwice?2:0}},slot:"activator"},"v-btn",t.$props,!1),[s("v-icon",{attrs:{color:t.clickedOnce?"white":""}},[t._v(t._s(t.dlIcn))])],1),s("span",[t._v("Delete")])],1)},a=[],r=s("be94"),o={name:"DeleteButton",props:{id:{type:[String,Number],default:""},inList:{type:Boolean,default:!1}},data(){return{clicks:0}},computed:{dlIcn(){return this.clickedOnce?"delete":this.clickedTwice?"delete_forever":"delete"},dlTxt(){return this.clickedOnce?"Click again to delete":this.clickedTwice?"Deleted":"Delete"},color(){return this.clickedOnce?"red lighten-1":this.clickedTwice?"green lighten-1":this.colour},clickedOnce(){return 1===this.clicks},clickedTwice(){return 2===this.clicks}},methods:{emitDelete(){this.clicks++,2===this.clicks&&(this.clicks=0,this.$DCFB.playlistGet(this.$route.params.user,this.$route.params.playlist).once("value").then(t=>{this.$emit("delete",this.id),this.$store.dispatch("snack",{b:!0,c:"red",s:"Deleted",u:[Object(r["a"])({songs:t.val()},this.$route.params)]}),setTimeout(()=>{this.clicks=0},5e3)}))}}},n=o,l=s("2877"),c=s("6544"),u=s.n(c),d=s("8336"),h=s("132d"),p=s("ba95"),m=s("5d23"),g=s("3a2f"),v=Object(l["a"])(n,i,a,!1,null,null,null);e["a"]=v.exports;u()(v,{VBtn:d["a"],VIcon:h["a"],VListTile:p["a"],VListTileTitle:m["c"],VTooltip:g["a"]})},"8b42":function(t,e,s){"use strict";var i=s("9db6"),a=s.n(i);a.a},"9a03":function(t,e,s){},"9c1e":function(t,e,s){},"9db6":function(t,e,s){},"9feb":function(t,e,s){},a1b2:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",lg10:""}},[s("orbit",{attrs:{"justify-center":""}}),s("h1",{staticClass:"display-2 fwl"},[t._v(t._s(t.error))]),s("div",{staticClass:"subheading my-2 text-xs-center"},[t._v(t._s(t.title))]),s("v-divider",{staticClass:"my-3"}),s("div",{staticClass:"title mb-3 text-xs-center"},[t._v(t._s(t.subheading))])],1)],1)},a=[],r=s("45b7"),o={name:"Jumbo",components:{orbit:r["a"]},props:{subheading:{type:String,default:""},title:{type:String,default:""},error:{type:String,default:"Oops"}}},n=o,l=s("2877"),c=s("6544"),u=s.n(c),d=s("ce7e"),h=s("0e8f"),p=s("a722"),m=Object(l["a"])(n,i,a,!1,null,null,null);e["a"]=m.exports;u()(m,{VDivider:d["a"],VFlex:h["a"],VLayout:p["a"]})},a2ed:function(t,e,s){},a3fe:function(t,e,s){},a47f:function(t,e,s){},a65f:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{lg10:"related"===t.$route.name,xs12:""}},["related"===t.$route.name?s("v-flex",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[t._v("\n    Related to "+t._s(t.$route.params.title)+" by "+t._s(t.$route.params.artist)+"\n  ")]):t._e(),s("playlist",{attrs:{songs:t.aSongs,"rows-per-page":"-1"},on:{conmen:function(e){return t.$emit("conmen",e)}}})],1)},a=[],r={name:"Related",watch:{"$route.params.trackID":{handler:"bind",immediate:!0}},data(){return{aSongs:[]}},methods:{bind(){this.$route.params.trackID&&this.$DCAPI.searchInt("",0,[this.$route.params.source],this.$route.params.trackID,t=>{this.aSongs=t},!0,50)}}},o=r,n=s("2877"),l=s("6544"),c=s.n(l),u=s("0e8f"),d=Object(n["a"])(o,i,a,!1,null,null,null);e["default"]=d.exports;c()(d,{VFlex:u["a"]})},b3af:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-autocomplete",{ref:"auto",attrs:{loading:t.loading,items:t.items,"search-input":t.search,color:"primary",label:"Search","append-icon":"","single-line":"","hide-no-data":"","hide-details":"",flat:"",solo:"",clearable:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}},scopedSlots:t._u([{key:"item",fn:function(e){return[s("v-list-tile-content",{domProps:{textContent:t._s(e.item)},on:{click:function(s){return t.clicked(e.item)}}})]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})},a=[],r=(s("386d"),{data(){return{loading:!1,items:[],search:null,select:null}},watch:{search(t){t&&this.querySelections(t)}},methods:{clicked(t){this.emit(t)},enter(){this.$refs.auto.$children[0].isActive=!1,this.emit(this.search)},emit(t){this.$emit("search",t)},querySelections(t){this.loading=!0,this.$jsonp(`https://suggestqueries.google.com/complete/search?callback=?&hl=en&ds=yt&jsonp=suggestCallBack&client=youtube&q=${t}`,{callbackName:"suggestCallBack"}).then(e=>{this.items=e[1].map(t=>t[0]),this.items.unshift(t),this.loading=!1}).catch(()=>{this.loading=!1})}}}),o=r,n=s("2877"),l=s("6544"),c=s.n(l),u=s("c6a6"),d=s("5d23"),h=Object(n["a"])(o,i,a,!1,null,null,null);e["a"]=h.exports;c()(h,{VAutocomplete:u["a"],VListTileContent:d["a"]})},b688:function(t,e,s){},ba11:function(t,e,s){"use strict";var i=s("f6a4"),a=s.n(i);a.a},c71d:function(t,e,s){},de8e:function(t,e,s){"use strict";var i=s("4bf0"),a=s.n(i);a.a},e343:function(t,e,s){"use strict";var i=s("b688"),a=s.n(i);a.a},ea26:function(t,e,s){"use strict";var i=s("883e"),a=s.n(i);a.a},f6a4:function(t,e,s){},f87e:function(t,e,s){}});