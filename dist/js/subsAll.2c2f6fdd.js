(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subsAll"],{"673e":function(t,s,i){"use strict";i("386b")("sub",function(t){return function(){return t(this,"sub","","")}})},d33b:function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("v-flex",{staticClass:"mb-5",attrs:{xs12:"",lg10:""}},[t.subscriptions.length?i("v-flex",{attrs:{xs12:"","py-3":""}},[t.subscriptions.length>0?i("span",[i("v-chip",{on:{click:function(s){t.bTog=!t.bTog}}},[t._v(t._s(t.bTog?"Hide":"Show"))]),i("v-chip",{class:t.chips.length==t.subscriptions.length?"primary white--text":"",on:{click:function(s){t.chips.length!=t.subscriptions.length?t.chips=t.subscriptions:t.chips=[]}}},[t._v("All")]),i("v-chip",{class:t.bShuf?"primary white--text":"",on:{click:function(s){t.chips=t.shuffle(t.subscriptions)}}},[t._v("Random")]),i("v-chip",{on:{click:function(s){t.chips=[]}}},[t._v("Clear")])],1):t._e(),i("br"),t.bTog?t._l(t.subscriptions,function(s,n){return i("v-chip",{key:n,staticClass:"noSel",class:t.someChips(s),on:{mousedown:function(i){return t.hai(s,n)}}},[i("v-avatar",{attrs:{outclass:"accent white--text"}},[i("img",{attrs:{src:s.img}})]),t._v(t._s(s.name))],1)}):t._e(),t.bTog?i("v-chip",{on:{click:function(s){t.chips=[]}}},[t._v("Clear")]):t._e()],2):t._e(),i("playlist",{attrs:{songs:t.aFiltered,"show-uploaded":!0,"rows-per-page":"126","sort-by":"uploaded"},on:{conmen:function(s){return t.$emit("conmen",s)}}}),!t.bLoading&&t.subscriptions.length>0?i("jumbo",{attrs:{title:"We wanted grab the latest songs from your subscriptions",subheading:"But you haven't subscribed to anyone yet"}}):t._e()],1)},e=[],o=(i("55dd"),i("673e"),i("cebc")),a=i("2f62"),r=i("a1b2"),c={name:"SubsAll",props:{user:{type:String,default:""}},components:{jumbo:r["a"]},watch:{auth_state:{immediate:!0,handler:"bind"}},data:function(){return{bShuf:!1,aShuf:[],bLoading:!0,bFailed:!1,bLoadedSubs:0,aPlaylists:[],aPlaylists2:[],subscriptions:[],chips:[],chipsToGo:[],bTog:!1}},computed:Object(o["a"])({},Object(a["c"])({auth_state:function(t){return t.user.auth_state}}),Object(a["b"])(["textColor"]),{aFiltered:function(){var t=this;return this.chips.length?this.aPlaylists.filter(function(s){return t.chips.some(function(t){return t.id==s.artistID})}):[]}}),methods:{shuffle:function(t){for(var s=[],i=(t.length-1)/Math.max(3,Math.floor(5*Math.random()))|0,n=0;n<i-1;n++){var e=n+Math.floor(Math.random()*(t.length-n));s[n]=t[e]}return s},someChips:function(t){return!!this.chips.some(function(s){return s[".key"]==t[".key"]})&&"primary ".concat(this.textColor)},hai:function(t){this.someChips(t)?1==this.chips.length?this.chips=[]:this.chips=this.chips.filter(function(s){return s!==t}):this.chips.push(t)},bind:function(){var t=this;this.auth_state&&(this.bLoading=!0,this.$bindAsArray("subscriptions",this.$DCFB.subscriptionGet(this.user).orderByChild("name_lower"),null,function(){t.chips=t.shuffle(t.subscriptions),t.getAllSubs()}))},getAllSubs:function(){var t=this;if(!this.subscriptions.length)return this.bLoading=!1,void(this.bFailed=!0);this.bLoadedSubs=0;var s=!1;for(var i in setTimeout(function(){s=!0,t.aPlaylists=t.aPlaylists2},1e3),this.subscriptions)this.$DCAPI.searchInt(0,0,[this.subscriptions[i].source],this.subscriptions[i].id,function(i){t.bLoadedSubs+=1,t.aPlaylists2=t.aPlaylists2.concat(i),t.aPlaylists2.sort(t.$DCAPI.sortDate),(t.subscriptions.length===t.bLoadedSubs||s)&&(t.aPlaylists=t.aPlaylists2)},!1,50)}}},u=c,h=i("2877"),l=i("6544"),b=i.n(l),p=i("8212"),f=i("cc20"),d=i("0e8f"),g=Object(h["a"])(u,n,e,!1,null,null,null);s["default"]=g.exports;b()(g,{VAvatar:p["a"],VChip:f["a"],VFlex:d["a"]})}}]);