(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"73cf":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-flex",{attrs:{lg10:e.viewSmall,lg12:!e.viewSmall,xs12:""}},[e.bFailed?e._e():i("div",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[e._v("Recommended")]),e.bFailed?[i("div",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[e._v("Explore")]),i("genres")]:i("playlist",{attrs:{"show-uploaded":!0,songs:e.aRecommended2,infinite:""},on:{conmen:function(t){return e.$emit("conmen",t)}}})],2)},r=[],a=i("bc3a"),s=i.n(a),o=i("1f62"),d=i("a1b2"),l=(i("8a7b"),i("2f62"));function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(i,!0).forEach(function(t){u(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m={name:"home",components:{genres:o["default"],jumbo:d["a"]},props:{iLimit:{type:[Number],default:150},rowsPerPage:{type:[Number],default:100}},data(){return{bLoading:!1,bFailed:!1,iLoaded:1,aRecommended:[],bLoaded:!1,viewSmall:"home"===this.$route.name}},watch:{auth_state:{immediate:!0,handler:"bind"}},methods:{bind(){this.auth_state&&(this.bFailed=!1,this.$bindAsArray("aHistory",this.$DCFB.fbhistory.limitToLast(this.iLimit),null,this.getRecommended))},getRecommended(){if(!this.aHistory.length)return this.bLoading=!1,void(this.bFailed=!this.aHistory.length);this.bLoading=!0;var e=[],t=this.aHistory.reverse();this.iLoaded=1,t=this.$DCAPI.uniqueArray(t);for(var i=0;i<t.length-1;i++)e.push(this.$DCAPI.searchInt("",0,[t[i].source],t[i].trackID,e=>{this.iLoaded++,this.$store.commit("loadValue",100/t.length*this.iLoaded),e.length&&this.aRecommended.push(...e)},!0,6));s.a.all(e).then(()=>{this.aRecommended=this.$DCAPI.uniqueArray(this.aRecommended)}),this.bLoading=!1}},computed:h({},Object(l["c"])({auth_state:e=>e.user.auth_state}),{aRecommended2(){return this.bLoading?[]:this.aRecommended}}),destroyed(){}},b=m,p=i("2877"),f=i("6544"),g=i.n(f),y=i("0e8f"),w=Object(p["a"])(b,n,r,!1,null,null,null);t["default"]=w.exports;g()(w,{VFlex:y["a"]})}}]);