(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["historyRecommended"],{abbd:function(e,t,o){"use strict";var a=o("de60"),i=o.n(a);i.a},be63:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-flex",{attrs:{lg10:e.viewSmall,lg12:!e.viewSmall,xs12:""}},[e.bLoading||e.aRecommended.length?o("div",{staticClass:"headline fwl text-xs-left pl-2 pt-2"},[e._v("Home")]):e._e(),e.bLoading||e.aRecommended.length?o("playlist",{attrs:{"rows-per-page":e.rowsPerPage,"show-uploaded":!0,songs:e.aRecommended2}}):e.bFailed?o("jumbo",{attrs:{title:"We wanted to recommend you some music based on your history",subheading:"But you haven't listened to any music yet"}}):e._e()],1)},i=[],n=o("c93e"),d=(o("7f7f"),o("c5f6"),o("cadf"),o("551c"),o("097d"),o("bc3a")),s=o.n(d),m=o("a1b2"),r=(o("8a7b"),o("2f62")),c={name:"recommended",components:{jumbo:m["a"]},props:{iLimit:{type:[Number],default:100},rowsPerPage:{type:[Number],default:100}},data:function(){return{bLoading:!1,bFailed:!1,iLoaded:1,aRecommended:[],bLoaded:!1,viewSmall:"historyRecommended"===this.$route.name}},watch:{auth_state:{immediate:!0,handler:"bind"}},methods:{bind:function(){this.auth_state&&(this.bFailed=!1,this.$store.commit("loadActive",!0),this.$bindAsArray("aHistory",this.$DCFB.history.limitToLast(this.iLimit),null,this.getRecommended))},getRecommended:function(){var e=this;if(!this.aHistory.length)return this.$store.commit("loadActive",!1),this.bLoading=!1,void(this.bFailed=!this.aHistory.length);this.bLoading=!0;var t=[],o=this.aHistory.reverse();this.iLoaded=1;var a=function(e){for(var t=[],o=!1,a=0;a<e.length-1;a++){o=!1;for(var i=0;i<t.length-1;i++)if("undefined"===typeof e[a]||t[i].trackID==e[a].trackID){o=!0;break}o||t.push(e[a])}return t};o=a(o);for(var i=0;i<o.length-1;i++)t.push(this.$DCAPI.searchInt("",0,[o[i].source],o[i].trackID,function(t){e.iLoaded++,e.$store.commit("loadValue",100/o.length*e.iLoaded),t.length&&(e.aRecommended.push(t[0]),e.aRecommended.push(t[1]))},!0,2));s.a.all(t).then(function(){e.aRecommended=a(e.aRecommended),e.bLoading=!1,setTimeout(function(){e.$store.commit("loadActive",!1)},200)})}},computed:Object(n["a"])({},Object(r["b"])({auth_state:"auth_state"}),{aRecommended2:function(){return this.bLoading?[]:this.aRecommended}}),destroyed:function(){this.$store.commit("loadActive",!1)}},l=c,u=(o("abbd"),o("2877")),h=o("0e8f"),b=Object(u["a"])(l,a,i,!1,null,null,null);b.options.__file="recommended.vue";t["default"]=b.exports;b.options.components=Object.assign({VFlex:h["a"]},b.options.components)},de60:function(e,t,o){}}]);